!function(){var e,o={259:function(){function e(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function o(e,o){for(var t=0;t<o.length;t++){var i=o[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}jQuery((function(o){"use strict";var i=function(){function i(){e(this,i)}return t(i,null,[{key:"init",value:function(){var e=this;this.setOption(),this.events(),o("#woocommerce-product-data").on("woocommerce_variations_loaded",(function(){e.setCloneWrapper(),e.setSelect2()})),o("#variable_product_options").on("woocommerce_variations_added",(function(){e.setCloneWrapper(),e.setOption(),e.events(),e.setSelect2()}))}},{key:"setCloneWrapper",value:function(){o(".woocommerce_variation").each((function(){var e=o(this).find(".options:first");o(this).find(".woo-variable-image-duplicator-wrapper").insertBefore(e)}))}},{key:"setSelect2",value:function(){var e=this;try{o(":input.variable-image-duplicate-select").filter(":not(.enhanced)").each((function(t,i){var a={minimumResultsForSearch:10,allowClear:!!o(i).data("allow_clear"),placeholder:o(i).data("placeholder"),templateResult:e.imgCloneFormFormat,templateSelection:e.imgCloneFormFormat};o(i).select2(a).addClass("enhanced")}))}catch(e){console.log("Select2 Error: ",e)}}},{key:"imgCloneFormFormat",value:function(e){if(!e.id)return e.text;var t=o(e.element).data("thumbnail_url");return t?o('<img class="variation-duplicator-thumbnail-image-preview" src="'+t+'" alt=" '+e.text+'" width="30" height="30"/> <span class="variation-duplicator-thumbnail-image-text">'+e.text+"</span>"):e.text}},{key:"setOption",value:function(){var e=o("#field_to_edit"),t=e.find("option:first");e.find("option.woo_variation_duplicate_option").insertAfter(t)}},{key:"events",value:function(){o("#variable_product_options").on("click",":input.variable-image-duplicate-type",this.chooseType).on("click","button.select_all_variations",this.selectAll).on("click","button.select_no_variations",this.selectNone).on("change",":input.upload_image_id",this.clearChooseType)}},{key:"clearChooseType",value:function(e){o(this).closest(".woocommerce_variable_attributes").find(".woo-variable-image-duplicator-wrapper .variable_image_duplicate_type_form_field :radio").prop("checked",!1),o(this).closest(".woocommerce_variable_attributes").find(".woo-variable-image-duplicator-wrapper .variable-list").removeClass("show")}},{key:"chooseType",value:function(e){var t=o(this).val();if(o(this).closest(".woo-variable-image-duplicator-wrapper").find(".variable-list").removeClass("show"),"to"===t){var i=parseInt(o(this).closest(".woocommerce_variation").find(":input.upload_image_id").val(),10);if(isNaN(i)||i<1)return void o(this).closest(".woo-variable-image-duplicator-wrapper").find(".variable-image-duplicate-to-notice").addClass("show")}o(this).closest(".woo-variable-image-duplicator-wrapper").find(".variable-image-duplicate-"+t).addClass("show")}},{key:"selectAll",value:function(e){e.preventDefault(),o(this).closest("p").find("select > option").prop("selected",!0),o(this).closest("p").find("select").trigger("change")}},{key:"selectNone",value:function(e){e.preventDefault(),o(this).closest("p").find("select > option").prop("selected",!1),o(this).closest("p").find("select").trigger("change")}}]),i}(),a=function(){function i(){e(this,i)}return t(i,null,[{key:"init",value:function(){var e=this;this.setHowTo(),o(document).on("click","input.variation_is_cloneable",this.cloneableClick),o(document).on("change","input.variation_is_cloneable",this.cloneableChange),o("select.variation_actions").on("woo_variation_duplicate_ajax_data",this.ajaxData),o(document).on("woocommerce_variations_added","#variable_product_options",this.clean),o(document).on("woocommerce_variations_removed","#woocommerce-product-data",this.clean);var t=o._data(document.body,"events").change.filter((function(e){return"#variable_product_options .woocommerce_variations :input"===e.selector}))[0];o(document.body).off("change input","#variable_product_options .woocommerce_variations :input"),o(document.body).on("change input","#variable_product_options .woocommerce_variations :input:not(.no-track-change)",t.handler),o("#variable_product_options").on("woocommerce_variations_added",(function(){e.setHowTo(),o("select.variation_actions").off("woo_variation_duplicate_ajax_data").on("woo_variation_duplicate_ajax_data",e.ajaxData)})).on("woocommerce_variations_input_changed",(function(e){var t=this;_.delay((function(){o(t).find(".variation-needs-update input.variation_is_cloneable").prop("checked",!1)}),1)}))}},{key:"setHowTo",value:function(){var e=o("#variable_product_options_inner .toolbar-top").find(".do_variation_action");o("#variable_product_options_inner").find(".variation-duplicator-for-woocommerce-works").insertAfter(e),o("select#field_to_edit").on("change",(function(){"woo_variation_duplicate"===o(this).val()?o("#variable_product_options_inner").find(".variation-duplicator-for-woocommerce-works").addClass("show"):o("#variable_product_options_inner").find(".variation-duplicator-for-woocommerce-works").removeClass("show")}))}},{key:"clean",value:function(){o(".woocommerce-notice-invalid-variation, .woo-variation-duplicator-notice").remove()}},{key:"ajaxData",value:function(e){var t={items:[],times:1,exceed:!1},i=o("input.variation_is_cloneable:checked");if(i.length<1)return alert(WooVariationDuplicator.noCheckedText),e.clone={};if(i.each((function(){t.items.push(o(this).val())})),!(t.items.length>0))return e.clone={};var a=Number(window.prompt(WooVariationDuplicator.limitText,1));if(isNaN(a))return e.clone={};t.times=a>Number(WooVariationDuplicator.limit)?1:a,t.exceed=a>Number(WooVariationDuplicator.limit);for(var n=t.times*t.items.length,r=0;r<n;r++)o("#variable_product_options").trigger("woocommerce_variations_added",1);return e.clone=t}},{key:"cloneableClick",value:function(e){o(this).is(":checked")?(o("select#field_to_edit").val("woo_variation_duplicate").trigger("change"),o(this).closest("label.clone-checkbox").addClass("checked"),o("#variable_product_options_inner").find(".variation-duplicator-for-woocommerce-works").addClass("show")):(o("input.variation_is_cloneable:checked").length<1&&(o("#variable_product_options_inner").find(".variation-duplicator-for-woocommerce-works").removeClass("show"),o("select#field_to_edit").val("add_variation").trigger("change")),o(this).closest("label.clone-checkbox").removeClass("checked"))}},{key:"cloneableChange",value:function(e){o(this).closest(".wc-metaboxes-wrapper").find(".wc-metabox > .wc-metabox-content").hide(),o(this).closest(".woocommerce_variations").find(".woocommerce_variation.open").removeClass("open").addClass("closed")}}]),i}();i.init(),a.init()}))},845:function(){}},t={};function i(e){var a=t[e];if(void 0!==a)return a.exports;var n=t[e]={exports:{}};return o[e](n,n.exports,i),n.exports}i.m=o,e=[],i.O=function(o,t,a,n){if(!t){var r=1/0;for(u=0;u<e.length;u++){t=e[u][0],a=e[u][1],n=e[u][2];for(var c=!0,l=0;l<t.length;l++)(!1&n||r>=n)&&Object.keys(i.O).every((function(e){return i.O[e](t[l])}))?t.splice(l--,1):(c=!1,n<r&&(r=n));if(c){e.splice(u--,1);var s=a();void 0!==s&&(o=s)}}return o}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[t,a,n]},i.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},function(){var e={934:0,261:0};i.O.j=function(o){return 0===e[o]};var o=function(o,t){var a,n,r=t[0],c=t[1],l=t[2],s=0;if(r.some((function(o){return 0!==e[o]}))){for(a in c)i.o(c,a)&&(i.m[a]=c[a]);if(l)var u=l(i)}for(o&&o(t);s<r.length;s++)n=r[s],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(u)},t=self.webpackChunkvariation_duplicator_for_woocommerce=self.webpackChunkvariation_duplicator_for_woocommerce||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))}(),i.O(void 0,[261],(function(){return i(259)}));var a=i.O(void 0,[261],(function(){return i(845)}));a=i.O(a)}();