!function(){var e={4184:function(e,t){var s;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var s=arguments[t];if(s){var i=typeof s;if("string"===i||"number"===i)e.push(s);else if(Array.isArray(s)){if(s.length){var o=r.apply(null,s);o&&e.push(o)}}else if("object"===i){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){e.push(s.toString());continue}for(var a in s)n.call(s,a)&&s[a]&&e.push(a)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(s=function(){return r}.apply(t,[]))||(e.exports=s)}()},7145:function(e,t){"use strict";function s(e){return"object"!=typeof e||"toString"in e?e:Object.prototype.toString.call(e).slice(8,-1)}Object.defineProperty(t,"__esModule",{value:!0});var n="object"==typeof process&&!0;function r(e,t){if(!e){if(n)throw new Error("Invariant failed");throw new Error(t())}}t.invariant=r;var i=Object.prototype.hasOwnProperty,o=Array.prototype.splice,a=Object.prototype.toString;function l(e){return a.call(e).slice(8,-1)}var c=Object.assign||function(e,t){return u(t).forEach((function(s){i.call(t,s)&&(e[s]=t[s])})),e},u="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function d(e){return Array.isArray(e)?c(e.constructor(e.length),e):"Map"===l(e)?new Map(e):"Set"===l(e)?new Set(e):e&&"object"==typeof e?c(Object.create(Object.getPrototypeOf(e)),e):e}var p=function(){function e(){this.commands=c({},h),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new e).update}}return Object.defineProperty(e.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this.commands[e]=t},e.prototype.update=function(e,t){var s=this,n="function"==typeof t?{$apply:t}:t;Array.isArray(e)&&Array.isArray(n)||r(!Array.isArray(n),(function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."})),r("object"==typeof n&&null!==n,(function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(s.commands).join(", ")+"."}));var o=e;return u(n).forEach((function(t){if(i.call(s.commands,t)){var r=e===o;o=s.commands[t](n[t],o,n,e),r&&s.isEquals(o,e)&&(o=e)}else{var a="Map"===l(e)?s.update(e.get(t),n[t]):s.update(e[t],n[t]),c="Map"===l(o)?o.get(t):o[t];s.isEquals(a,c)&&(void 0!==a||i.call(e,t))||(o===e&&(o=d(e)),"Map"===l(o)?o.set(t,a):o[t]=a)}})),o},e}();t.Context=p;var h={$push:function(e,t,s){return g(t,s,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,s){return g(t,s,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,i){return function(e,t){r(Array.isArray(e),(function(){return"Expected $splice target to be an array; got "+s(e)})),f(t.$splice)}(t,n),e.forEach((function(e){f(e),t===i&&e.length&&(t=d(i)),o.apply(t,e)})),t},$set:function(e,t,s){return function(e){r(1===Object.keys(e).length,(function(){return"Cannot have more than one key in an object with $set"}))}(s),e},$toggle:function(e,t){w(e,"$toggle");var s=e.length?d(t):t;return e.forEach((function(e){s[e]=!t[e]})),s},$unset:function(e,t,s,n){return w(e,"$unset"),e.forEach((function(e){Object.hasOwnProperty.call(t,e)&&(t===n&&(t=d(n)),delete t[e])})),t},$add:function(e,t,s,n){return b(t,"$add"),w(e,"$add"),"Map"===l(t)?e.forEach((function(e){var s=e[0],r=e[1];t===n&&t.get(s)!==r&&(t=d(n)),t.set(s,r)})):e.forEach((function(e){t!==n||t.has(e)||(t=d(n)),t.add(e)})),t},$remove:function(e,t,s,n){return b(t,"$remove"),w(e,"$remove"),e.forEach((function(e){t===n&&t.has(e)&&(t=d(n)),t.delete(e)})),t},$merge:function(e,t,n,i){var o,a;return o=t,r((a=e)&&"object"==typeof a,(function(){return"update(): $merge expects a spec of type 'object'; got "+s(a)})),r(o&&"object"==typeof o,(function(){return"update(): $merge expects a target of type 'object'; got "+s(o)})),u(e).forEach((function(s){e[s]!==t[s]&&(t===i&&(t=d(i)),t[s]=e[s])})),t},$apply:function(e,t){var n;return r("function"==typeof(n=e),(function(){return"update(): expected spec of $apply to be a function; got "+s(n)+"."})),e(t)}},m=new p;function g(e,t,n){r(Array.isArray(e),(function(){return"update(): expected target of "+s(n)+" to be an array; got "+s(e)+"."})),w(t[n],n)}function w(e,t){r(Array.isArray(e),(function(){return"update(): expected spec of "+s(t)+" to be an array; got "+s(e)+". Did you forget to wrap your parameter in an array?"}))}function f(e){r(Array.isArray(e),(function(){return"update(): expected spec of $splice to be an array of arrays; got "+s(e)+". Did you forget to wrap your parameters in an array?"}))}function b(e,t){var n=l(e);r("Map"===n||"Set"===n,(function(){return"update(): "+s(t)+" expects a target of type Set or Map; got "+s(n)}))}t.isEquals=m.update.isEquals,t.extend=m.extend,t.default=m.update,t.default.default=e.exports=c(t.default,t)},2705:function(e,t,s){var n=s(5639).Symbol;e.exports=n},4239:function(e,t,s){var n=s(2705),r=s(9607),i=s(2333),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?r(e):i(e)}},98:function(e){var t=Math.ceil,s=Math.max;e.exports=function(e,n,r,i){for(var o=-1,a=s(t((n-e)/(r||1)),0),l=Array(a);a--;)l[i?a:++o]=e,e+=r;return l}},7561:function(e,t,s){var n=s(7990),r=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(r,""):e}},7445:function(e,t,s){var n=s(98),r=s(6612),i=s(8601);e.exports=function(e){return function(t,s,o){return o&&"number"!=typeof o&&r(t,s,o)&&(s=o=void 0),t=i(t),void 0===s?(s=t,t=0):s=i(s),o=void 0===o?t<s?1:-1:i(o),n(t,s,o,e)}}},1957:function(e,t,s){var n="object"==typeof s.g&&s.g&&s.g.Object===Object&&s.g;e.exports=n},9607:function(e,t,s){var n=s(2705),r=Object.prototype,i=r.hasOwnProperty,o=r.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),s=e[a];try{e[a]=void 0;var n=!0}catch(e){}var r=o.call(e);return n&&(t?e[a]=s:delete e[a]),r}},5776:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,s){var n=typeof e;return!!(s=null==s?9007199254740991:s)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<s}},6612:function(e,t,s){var n=s(7813),r=s(8612),i=s(5776),o=s(3218);e.exports=function(e,t,s){if(!o(s))return!1;var a=typeof t;return!!("number"==a?r(s)&&i(t,s.length):"string"==a&&t in s)&&n(s[t],e)}},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:function(e,t,s){var n=s(1957),r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")();e.exports=i},7990:function(e){var t=/\s/;e.exports=function(e){for(var s=e.length;s--&&t.test(e.charAt(s)););return s}},7813:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},8612:function(e,t,s){var n=s(3560),r=s(1780);e.exports=function(e){return null!=e&&r(e.length)&&!n(e)}},3560:function(e,t,s){var n=s(4239),r=s(3218);e.exports=function(e){if(!r(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},3448:function(e,t,s){var n=s(4239),r=s(7005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==n(e)}},6026:function(e,t,s){var n=s(7445)();e.exports=n},8601:function(e,t,s){var n=s(4841);e.exports=function(e){return e?Infinity===(e=n(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},4841:function(e,t,s){var n=s(7561),r=s(3218),i=s(3448),o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var s=a.test(e);return s||l.test(e)?c(e.slice(2),s?2:8):o.test(e)?NaN:+e}}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,s),i.exports}s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.element,t=window.React,n=s.n(t);class r extends n().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){console.error(e),console.error(t)}render(){return this.state.hasError?(0,e.createElement)("div",{className:"sui-notice sui-notice-error"},(0,e.createElement)("div",{className:"sui-notice-content"},(0,e.createElement)("div",{className:"sui-notice-message"},(0,e.createElement)("span",{className:"sui-notice-icon sui-icon-warning-alert sui-md","aria-hidden":"true"}),(0,e.createElement)("p",null,(0,e.createElement)("strong",null,"Something went wrong. Please contact ",(0,e.createElement)("a",{target:"_blank",href:"https://wpmudev.com/get-support/"},"support"),"."))))):this.props.children}}var i=r,o=window.ReactDOM,a=s.n(o);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},l.apply(this,arguments)}var c=window.wp.i18n,u=s(4184),d=s.n(u);class p extends n().Component{static defaultProps={className:""};constructor(e){super(e),this.state={open:!1}}toggle(e){const t=e.target.className||"";("BUTTON"!==(e.target.tagName||"")||t.includes("sui-accordion-open-indicator"))&&this.setState({open:!this.state.open})}render(){return(0,e.createElement)("div",{className:d()("sui-accordion-item",this.props.className,{"sui-accordion-item--open":this.state.open})},(0,e.createElement)("div",{className:"sui-accordion-item-header",onClick:e=>this.toggle(e)},this.props.header),this.props.children&&(0,e.createElement)("div",{className:"sui-accordion-item-body"},(0,e.createElement)("div",{className:"sui-box"},(0,e.createElement)("div",{className:"sui-box-body"},this.props.children))))}}var h=s(6026),m=s.n(h);class g{static getPage(e,t,s){const n={};return Object.keys(e).slice((t-1)*s,t*s).forEach((t=>n[t]=e[t])),n}static getPageCount(e,t){const s=Math.ceil(e/t);return s<1?1:s}}class w extends n().Component{static defaultProps={count:0,perPage:10,currentPage:1,onClick:()=>!1};handleClick(e,t){e.preventDefault(),this.props.onClick(t)}getPageNumbers(){const e=this.getPageCount(),t=m()(1,e+1);if(e<=7)return t;const s=this.props.currentPage;let n,r;s<=3?(n=s-1,r=7-n-1):e-s<=3?(r=e-s,n=7-r-1):(n=2,r=3);let i=-1;const o=t.map((e=>e<s-n||e>s+r?i:(i--,e)));return Array.from(new Set(o))}render(){const t=this.getPageCount(),s=this.getPageNumbers();return(0,e.createElement)("div",{className:"sui-pagination-wrap"},(0,e.createElement)("span",{className:"sui-pagination-results"},(0,c.sprintf)((0,c.__)("%s results","wds"),this.props.count)),(0,e.createElement)("ul",{className:"sui-pagination"},(0,e.createElement)("li",null,(0,e.createElement)("a",{href:"#",role:"button",onClick:e=>this.handleClick(e,1),disabled:1===this.props.currentPage},(0,e.createElement)("span",{className:"sui-icon-arrow-skip-back","aria-hidden":"true"}),(0,e.createElement)("span",{className:"sui-screen-reader-text"},(0,c.__)("Go to first page","wds")))),(0,e.createElement)("li",null,(0,e.createElement)("a",{href:"#",role:"button",onClick:e=>this.handleClick(e,this.props.currentPage-1),disabled:1===this.props.currentPage},(0,e.createElement)("span",{className:"sui-icon-chevron-left","aria-hidden":"true"}),(0,e.createElement)("span",{className:"sui-screen-reader-text"},(0,c.__)("Go to previous page","wds")))),s.map((t=>t<0?(0,e.createElement)("li",{key:t},(0,e.createElement)("a",{style:{pointerEvents:"none"}},"...")):(0,e.createElement)("li",{key:t,className:d()({"sui-active":t===this.props.currentPage})},(0,e.createElement)("a",{href:"#",role:"button",onClick:e=>this.handleClick(e,t)},t)))),(0,e.createElement)("li",null,(0,e.createElement)("a",{href:"#",role:"button",onClick:e=>this.handleClick(e,this.props.currentPage+1),disabled:this.props.currentPage===t},(0,e.createElement)("span",{className:"sui-icon-chevron-right","aria-hidden":"true"}),(0,e.createElement)("span",{className:"sui-screen-reader-text"},(0,c.__)("Go to next page","wds")))),(0,e.createElement)("li",null,(0,e.createElement)("a",{href:"#",role:"button",onClick:e=>this.handleClick(e,t),disabled:this.props.currentPage===t},(0,e.createElement)("span",{className:"sui-icon-arrow-skip-forward","aria-hidden":"true"}),(0,e.createElement)("span",{className:"sui-screen-reader-text"},(0,c.__)("Go to last page","wds"))))))}getPageCount(){return g.getPageCount(this.props.count,this.props.perPage)}}class f extends n().Component{static defaultProps={type:"",activeIssues:{},ignoredIssues:{},singularTitle:"",pluralTitle:"",description:"",warningClass:"sui-warning",renderIssue:()=>!1,renderControls:()=>!1};constructor(e){super(e),this.state={activeTab:"issues",currentPageNumber:1},this.issuesPerPage=10}render(){const t=this.props.activeIssues,s=Object.keys(t).length,r=this.props.ignoredIssues,i=s+Object.keys(r).length>0,o=this.getTabData(t,r),a="wds-issues-type-"+this.props.type;return(0,e.createElement)(p,{className:d()(a,{[this.props.warningClass]:s>0,"sui-success":s<1,"wds-no-crawl-issues":!i}),header:(0,e.createElement)(n().Fragment,null,(0,e.createElement)("div",{className:"sui-accordion-item-title"},(0,e.createElement)("span",{"aria-hidden":"true",className:d()({"sui-icon-warning-alert":s>0,[this.props.warningClass]:s>0,"sui-success sui-icon-check-tick":s<1})}),this.getTitle(s)),i&&(0,e.createElement)("div",null,(0,e.createElement)("span",{className:"sui-accordion-open-indicator"},(0,e.createElement)("span",{"aria-hidden":"true",className:"sui-icon-chevron-down"}),(0,e.createElement)("button",{type:"button",className:"sui-screen-reader-text"},(0,c.__)("Expand issue","wds")))))},i&&(0,e.createElement)(n().Fragment,null,(0,e.createElement)("small",null,(0,e.createElement)("strong",null,(0,c.__)("Overview","wds"))),(0,e.createElement)("p",null,(0,e.createElement)("small",null,this.props.description)),(0,e.createElement)("div",{className:"sui-tabs"},(0,e.createElement)("div",{"data-tabs":""},Object.keys(o).map((t=>(0,e.createElement)("div",{key:t,className:d()({active:this.state.activeTab===t}),onClick:()=>this.switchTab(t)},o[t].label)))),(0,e.createElement)("div",{"data-panes":""},Object.keys(o).map((t=>(0,e.createElement)("div",{key:t,className:d()({active:this.state.activeTab===t})},this.getPane(o[t]))))))))}switchTab(e){this.setState({activeTab:e,currentPageNumber:1})}getTabData(e,t){return{issues:{label:(0,c.__)("Issues","wds"),items:e,noItemsNotice:(0,c.__)("No active issues.","wds"),tableClass:"wds-crawl-issues-table"},ignored:{label:(0,c.__)("Ignored","wds"),items:t,noItemsNotice:(0,c.__)("No ignored issues.","wds"),tableClass:"wds-ignored-items-table"}}}getPane(t){const s=t.items,r=Object.keys(s).length,i=r>0,o=g.getPage(s,this.state.currentPageNumber,this.issuesPerPage);return(0,e.createElement)(n().Fragment,null,(0,e.createElement)("table",{className:t.tableClass},(0,e.createElement)("tbody",null,i&&(0,e.createElement)(n().Fragment,null,Object.keys(o).map((e=>this.props.renderIssue(e,s[e]))),(0,e.createElement)("tr",{className:"wds-controls-row"},(0,e.createElement)("td",{colSpan:"4"},(0,e.createElement)("div",{className:"wds-controls-row-flex"},(0,e.createElement)("div",null,this.props.renderControls(this.props.type,this.state.activeTab,r)),r>this.issuesPerPage&&(0,e.createElement)("div",null,(0,e.createElement)(w,{count:r,currentPage:this.state.currentPageNumber,perPage:this.issuesPerPage,onClick:e=>this.changePage(e)})))))),!i&&(0,e.createElement)("tr",{className:"wds-no-results-row"},(0,e.createElement)("td",{colSpan:"2"},(0,e.createElement)("small",null,t.noItemsNotice))))))}getTitle(e){return(0,c.sprintf)(1===e?this.props.singularTitle:this.props.pluralTitle,e>0?e:(0,c.__)("No","wds"))}changePage(e){this.setState({currentPageNumber:e})}}class b extends n().Component{render(){return(0,e.createElement)(f,l({},this.props,{singularTitle:(0,c.__)("%s URL has multiple redirections","wds"),pluralTitle:(0,c.__)("%s URLs have multiple redirections","wds"),description:(0,c.__)("Some of your URLs have multiple redirections. In the options menu you can List occurrences to see where these links can be found, and also set up and 301 redirects to a newer version of these pages.","wds")}))}}class E extends n().Component{render(){return(0,e.createElement)(f,l({},this.props,{singularTitle:(0,c.__)("%s URL is resulting in 4xx error","wds"),pluralTitle:(0,c.__)("%s URLs are resulting in 4xx errors","wds"),description:(0,c.__)("Some of your URLs are resulting in 4xx errors. Either the page no longer exists or the URL has changed. In the options menu you can List occurrences to see where these links can be found, and also set up and 301 redirects to a newer version of these pages.","wds")}))}}class y extends n().Component{render(){return(0,e.createElement)(f,l({},this.props,{singularTitle:(0,c.__)("%s URL is resulting in 5xx server error","wds"),pluralTitle:(0,c.__)("%s URLs are resulting in 5xx server errors","wds"),description:(0,c.__)("Some of your URLs are resulting in 5xx server errors. These errors are indicative of errors in your server-side code. In the options menu you can List occurrences to see where these links can be found, and also set up and 301 redirects to a newer version of these pages.","wds")}))}}class v extends n().Component{render(){return(0,e.createElement)(f,l({},this.props,{singularTitle:(0,c.__)("%s URL could not be processed","wds"),pluralTitle:(0,c.__)("%s URLs could not be processed","wds"),description:(0,c.__)("Some of your URLs could not be processed by our crawlers. In the options menu you can List occurrences to see where these links can be found, and also set up and 301 redirects to a newer version of these pages.","wds")}))}}class _ extends n().Component{render(){return(0,e.createElement)(f,l({},this.props,{singularTitle:(0,c.__)("%s URL is missing from the sitemap","wds"),pluralTitle:(0,c.__)("%s URLs are missing from the sitemap","wds"),description:(0,c.__)("SmartCrawl couldn’t find these URLs in your Sitemap. You can choose to add them to your Sitemap, or ignore the warning if you don’t want them included.","wds"),warningClass:"sui-default"}))}}class x extends n().Component{static defaultProps={icon:"sui-icon-widget-settings-config",buttons:[],loading:!1,disabled:!1,onClick:()=>!1};render(){const t=d()("sui-button-icon sui-dropdown-anchor",{"sui-button-onload":this.props.loading});return(0,e.createElement)("div",{className:"sui-dropdown sui-accordion-item-action"},(0,e.createElement)("button",{className:t,"aria-label":(0,c.__)("Dropdown","wds"),disabled:this.props.disabled},(0,e.createElement)("span",{className:"sui-loading-text"},(0,e.createElement)("span",{className:this.props.icon,style:{pointerEvents:"none"},"aria-hidden":"true"})),(0,e.createElement)("span",{className:"sui-icon-loader sui-loading","aria-hidden":"true"})),(0,e.createElement)("ul",null,this.props.buttons.map(((t,s)=>(0,e.createElement)("li",{key:s},t)))))}}class C extends n().Component{static defaultProps={className:"",text:"",icon:"",red:!1,onClick:()=>!1};render(){return(0,e.createElement)("button",{className:d()(this.props.className,{"sui-option-red":this.props.red}),onClick:()=>this.props.onClick(),type:"button"},(0,e.createElement)("span",{className:this.props.icon,"aria-hidden":"true"}),this.props.text)}}class N extends n().Component{static defaultProps={id:"",text:"",color:"",dashed:!1,icon:!1,loading:!1,ghost:!1,disabled:!1,href:"",target:"",className:"",onClick:()=>!1};handleClick(e){e.preventDefault(),this.props.onClick()}render(){let t,s;this.props.href?(t="a",s={href:this.props.href,target:this.props.target}):(t="button",s={disabled:this.props.disabled,onClick:e=>this.handleClick(e)});const r=this.props.text&&this.props.text.trim();return(0,e.createElement)(n().Fragment,null,(0,e.createElement)(t,l({},s,{className:d()(this.props.className,"sui-button-"+this.props.color,{"sui-button-onload":this.props.loading,"sui-button-ghost":this.props.ghost,"sui-button-icon":!r,"sui-button-dashed":this.props.dashed,"sui-button":r}),id:this.props.id}),this.text(),this.loadingIcon()))}text(){const t=this.props.icon?(0,e.createElement)("span",{className:this.props.icon,"aria-hidden":"true"}):"";return(0,e.createElement)("span",{className:d()({"sui-loading-text":this.props.loading})},t," ",this.props.text)}loadingIcon(){return this.props.loading?(0,e.createElement)("span",{className:"sui-icon-loader sui-loading","aria-hidden":"true"}):""}}class S extends n().Component{static defaultProps={path:"",loading:!1,disabled:!1,onAddToSitemap:()=>!1,onIgnore:()=>!1,onRestore:()=>!1};render(){return(0,e.createElement)("tr",null,(0,e.createElement)("td",null,!this.props.ignored&&(0,e.createElement)("span",{"aria-hidden":"true",className:"sui-icon-warning-alert"}),(0,e.createElement)("small",null,(0,e.createElement)("strong",null,this.props.path))),(0,e.createElement)("td",null,!this.props.ignored&&(0,e.createElement)(x,{loading:this.props.loading,disabled:this.props.disabled,buttons:[(0,e.createElement)(C,{className:"wds-add-to-sitemap",icon:"sui-icon-plus",text:(0,c.__)("Add to Sitemap","wds"),onClick:()=>this.props.onAddToSitemap()}),(0,e.createElement)(C,{className:"wds-ignore-crawl-item",icon:"sui-icon-eye-hide",text:(0,c.__)("Ignore","wds"),onClick:()=>this.props.onIgnore()})]}),this.props.ignored&&(0,e.createElement)(N,{icon:"sui-icon-plus",text:(0,c.__)("Restore","wds"),ghost:!0,loading:this.props.loading,disabled:this.props.disabled,onClick:()=>this.props.onRestore()})))}}var I=SUI,k=s.n(I),P=jQuery,A=s.n(P);class T extends n().Component{static defaultProps={id:"",title:"",description:"",small:!1,headerActions:!1,focusAfterOpen:"",focusAfterClose:"container",dialogClasses:[],disableCloseButton:!1,enterDisabled:!1,onEnter:!1,beforeTitle:!1,onClose:()=>!1};constructor(e){super(e),this.props=e}componentDidMount(){k().openModal(this.props.id,this.props.focusAfterClose,this.props.focusAfterOpen?this.props.focusAfterOpen:this.getTitleId(),!1,!1)}componentWillUnmount(){k().closeModal()}handleKeyDown(e){A()(e.target).is(".sui-modal.sui-active input")&&13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),!this.props.enterDisabled&&this.props.onEnter&&this.props.onEnter(e))}render(){const t=this.getHeaderActions(),s=Object.assign({},{"sui-modal-sm":this.props.small,"sui-modal-lg":!this.props.small},this.props.dialogClasses);return(0,e.createElement)("div",{className:d()("sui-modal",s),onKeyDown:e=>this.handleKeyDown(e)},(0,e.createElement)("div",{role:"dialog",id:this.props.id,className:d()("sui-modal-content",this.props.id+"-modal"),"aria-modal":"true","aria-labelledby":this.props.id+"-modal-title","aria-describedby":this.props.id+"-modal-description"},(0,e.createElement)("div",{className:"sui-box",role:"document"},(0,e.createElement)("div",{className:d()("sui-box-header",{"sui-flatten sui-content-center sui-spacing-top--40":this.props.small})},this.props.beforeTitle,(0,e.createElement)("h3",{id:this.getTitleId(),className:d()("sui-box-title",{"sui-lg":this.props.small})},this.props.title),t),(0,e.createElement)("div",{className:d()("sui-box-body",{"sui-content-center":this.props.small})},this.props.description&&(0,e.createElement)("p",{className:"sui-description",id:this.props.id+"-modal-description"},this.props.description),this.props.children),this.props.footer&&(0,e.createElement)("div",{className:"sui-box-footer"},this.props.footer))))}getTitleId(){return this.props.id+"-modal-title"}getHeaderActions(){const t=this.getCloseButton();return this.props.small?t:this.props.headerActions?this.props.headerActions:(0,e.createElement)("div",{className:"sui-actions-right"},t)}getCloseButton(){return(0,e.createElement)("button",{id:this.props.id+"-close-button",type:"button",onClick:()=>this.props.onClose(),disabled:this.props.disableCloseButton,className:d()("sui-button-icon",{"sui-button-float--right":this.props.small})},(0,e.createElement)("span",{className:"sui-icon-close sui-md","aria-hidden":"true"}),(0,e.createElement)("span",{className:"sui-screen-reader-text"},(0,c.__)("Close this dialog window","wds")))}}class j extends n().Component{static defaultProps={path:"",origin:[],onClose:()=>!1};render(){const t=[...new Set(this.props.origin)],s=(0,e.createInterpolateElement)((0,c.sprintf)((0,c.__)("We found links to <strong>%s</strong> in these locations, you might want to remove these links or direct them somewhere else.","wds"),this.props.path),{strong:(0,e.createElement)("strong",null)});return(0,e.createElement)(T,{id:"wds-issue-occurrences",title:(0,c.__)("Broken URL Locations","wds"),description:s,onClose:()=>this.props.onClose(),focusAfterOpen:"wds-close-occurrences-modal-button",small:!0},(0,e.createElement)("div",{className:"wds-issue-occurrences"},(0,e.createElement)("ul",null,t.map((t=>(0,e.createElement)("li",{key:t},(0,e.createElement)("a",{href:t},t)))))),(0,e.createElement)(N,{id:"wds-close-occurrences-modal-button",onClick:()=>this.props.onClose(),ghost:!0,text:(0,c.__)("Close","wds")}))}}class O extends n().Component{static defaultProps={path:"",origin:[],loading:!1,disabled:!1,onRedirect:()=>!1,onIgnore:()=>!1,onRestore:()=>!1};constructor(e){super(e),this.state={showingOccurrences:!1}}render(){return(0,e.createElement)("tr",null,(0,e.createElement)("td",null,!this.props.ignored&&(0,e.createElement)("span",{"aria-hidden":"true",className:"sui-warning sui-icon-warning-alert"}),(0,e.createElement)("small",null,(0,e.createElement)("strong",null,this.props.path))),!this.props.ignored&&(0,e.createElement)("td",null,(0,e.createElement)("span",{className:"sui-tag sui-tag-warning"},!!this.props.origin&&this.props.origin.length)),(0,e.createElement)("td",null,!this.props.ignored&&(0,e.createElement)(x,{loading:this.props.loading,disabled:this.props.disabled,buttons:[(0,e.createElement)(C,{className:"wds-list-occurrences",text:(0,c.__)("List Occurrences","wds"),icon:"sui-icon-list-bullet",onClick:()=>this.startShowingOccurrences()}),(0,e.createElement)(C,{className:"wds-redirect-crawl-item",text:(0,c.__)("Redirect","wds"),icon:"sui-icon-arrow-right",onClick:()=>this.props.onRedirect()}),(0,e.createElement)(C,{className:"wds-ignore-crawl-item",text:(0,c.__)("Ignore","wds"),icon:"sui-icon-eye-hide",onClick:()=>this.props.onIgnore()})]}),this.props.ignored&&(0,e.createElement)(N,{icon:"sui-icon-plus",text:(0,c.__)("Restore","wds"),ghost:!0,loading:this.props.loading,disabled:this.props.disabled,onClick:()=>this.props.onRestore()}),this.state.showingOccurrences&&(0,e.createElement)(j,{path:this.props.path,origin:this.props.origin,onClose:()=>this.stopShowingOccurrences()})))}startShowingOccurrences(){this.setState({showingOccurrences:!0})}stopShowingOccurrences(){this.setState({showingOccurrences:!1})}}var R=class{static get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"general";Array.isArray(e)||(e=[e]);let s=window["_wds_"+t]||{};return e.forEach((e=>{s=s&&s.hasOwnProperty(e)?s[e]:""})),s}static get_bool(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"general";return!!this.get(e,t)}},U=ajaxurl,q=s.n(U);class L{static post(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(n,r){const i=Object.assign({},{action:e,_wds_nonce:t},s);A().post(q(),i).done((e=>{var t;e.success?n(null==e?void 0:e.data):r(null==e||null===(t=e.data)||void 0===t?void 0:t.message)})).fail((()=>r()))}))}static uploadFile(e,t,s){const n=new FormData;return n.append("file",s),n.append("action",e),n.append("_wds_nonce",t),new Promise(((e,t)=>{A().ajax({url:q(),cache:!1,contentType:!1,processData:!1,type:"post",data:n}).done((s=>{var n;s.success?e(null==s?void 0:s.data):t(null==s||null===(n=s.data)||void 0===n?void 0:n.message)})).fail((()=>t()))}))}}class M{static redirect(e,t){return this.post("wds_redirect_crawl_item",{source:e,destination:t})}static changeIssueStatus(e,t){return this.post(t,{issue_id:e})}static ignoreIssue(e){return this.changeIssueStatus(e,"wds_ignore_crawl_item")}static restoreIssue(e){return this.changeIssueStatus(e,"wds_restore_crawl_item")}static restoreAll(){return this.post("wds_restore_all_crawl_items")}static addToSitemap(e){return this.post("wds_sitemap_add_extra",{path:e})}static post(e,t){const s=R.get("nonce","crawler");return L.post(e,s,t)}}class F extends n().Component{static defaultProps={label:"",description:"",errorMessage:"",isValid:!0,isRequired:!1,formControl:!1};render(){const{label:t,isRequired:s,errorMessage:n,description:r,isValid:i}=this.props,o=this.props.formControl;return(0,e.createElement)("div",{className:d()("sui-form-field",{"sui-form-field-error":!i})},(0,e.createElement)("label",{className:"sui-label"},t," ",s&&(0,e.createElement)("span",{className:"wds-required-asterisk"},"*")),(0,e.createElement)(o,this.props),!i&&!!n&&(0,e.createElement)("span",{className:"sui-error-message",role:"alert"},n),!!r&&(0,e.createElement)("p",{className:"sui-description"},(0,e.createElement)("small",null,r)))}}class $ extends n().Component{static defaultProps={id:"",value:"",placeholder:"",disabled:!1,onChange:()=>!1};render(){const{id:t,value:s,placeholder:n,disabled:r,onChange:i}=this.props;return(0,e.createElement)("input",{id:t,type:"text",className:"sui-form-control",onChange:e=>i(e.target.value),value:s,disabled:r,placeholder:n})}}class D extends n().Component{render(){return(0,e.createElement)(F,l({},this.props,{formControl:$}))}}const V=e=>{let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol},W=(B=D,G=[e=>e&&e.trim(),e=>{var t;const s=(new DOMParser).parseFromString(e,"text/html");return(null==s||null===(t=s.body)||void 0===t?void 0:t.textContent)===e},e=>(e=>e.startsWith("/")&&V("https://dummydomain.com"+e))(e)||V(e)],class extends n().Component{static defaultProps={value:"",validateOnInit:!1,onChange:()=>!1};constructor(e){super(e);const{value:t,validateOnInit:s}=this.props;s?this.handleChange(t):(this.isValid=!0,this.errorMessage="")}validateValue(e){Array.isArray(G)?G.some((t=>{if(this.isValid=this.runValidator(t,e),this.errorMessage=this.isValid?"":this.getErrorMessage(t),!this.isValid)return!0})):(this.isValid=this.runValidator(G,e),this.errorMessage=this.isValid?"":this.getErrorMessage(G))}getErrorMessage(e){let t="";return e.getError instanceof Function&&(t=e.getError()),t}runValidator(e,t){let s;return e.isValid instanceof Function?s=e.isValid(t):e instanceof Function&&(s=e(t)),s}handleChange(e){this.validateValue(e),this.props.onChange(e,this.isValid)}render(){return(0,e.createElement)(B,l({},this.props,{isValid:this.isValid,errorMessage:this.errorMessage,onChange:e=>this.handleChange(e)}))}});var B,G;class K extends n().Component{static defaultProps={source:"",destination:"",requestInProgress:!1,onSave:()=>!1,onClose:()=>!1};constructor(e){super(e),this.state={destination:this.props.destination,isDestinationValid:!0}}handleDestinationChange(e,t){this.setState({destination:e,isDestinationValid:t})}render(){const t=(0,e.createInterpolateElement)((0,c.sprintf)((0,c.__)("Choose where to redirect <strong>%s</strong>","wds"),this.props.source),{strong:(0,e.createElement)("strong",null)}),s=(0,e.createInterpolateElement)((0,c.__)("Formats include relative URLs like <strong>/cats</strong> or absolute URLs like <strong>https://website.com/cats</strong>. This feature will automatically redirect traffic from the broken URL to this new URL, you can view all your redirects under <strong><a>Advanced Tools</a></strong>.","wds"),{strong:(0,e.createElement)("strong",null),a:(0,e.createElement)("a",{href:R.get("advanced_tools_url","crawler")})}),n=()=>this.props.onSave(this.state.destination.trim()),r=!this.state.isDestinationValid;return(0,e.createElement)(T,{id:"wds-issue-redirect",title:(0,c.__)("Redirect URL","wds"),description:t,focusAfterOpen:"wds-crawler-redirect-destination",onEnter:n,enterDisabled:r,onClose:()=>this.props.onClose(),disableCloseButton:this.props.requestInProgress,small:!0},(0,e.createElement)(W,{id:"wds-crawler-redirect-destination",label:(0,c.__)("New URL","wds"),placeholder:(0,c.__)("Enter new URL","wds"),description:s,value:this.state.destination,onChange:(e,t)=>this.handleDestinationChange(e,t)}),(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between"}},(0,e.createElement)(N,{text:(0,c.__)("Cancel","wds"),ghost:!0,onClick:()=>this.props.onClose(),disabled:this.props.requestInProgress}),(0,e.createElement)(N,{id:"wds-apply-crawl-item-redirect",text:(0,c.__)("Apply","wds"),onClick:n,icon:"sui-icon-check",disabled:r,loading:this.props.requestInProgress})))}}class H extends n().Component{static defaultProps={id:""};render(){return(0,e.createElement)("div",{className:"sui-floating-notices"},(0,e.createElement)("div",{role:"alert",id:this.props.id,className:"sui-notice","aria-live":"assertive"}))}}class z{static showSuccessNotice(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.showNotice(e,t,"success",s)}static showErrorNotice(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.showNotice(e,t,"error",s)}static showInfoNotice(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.showNotice(e,t,"info",s)}static showWarningNotice(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.showNotice(e,t,"warning",s)}static closeNotice(e){SUI.closeNotice(e)}static showNotice(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"success",n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];SUI.closeNotice(e),SUI.openNotice(e,"<p>"+t+"</p>",{type:s,icon:{error:"warning-alert",info:"info",warning:"warning-alert",success:"check-tick"}[s],dismiss:{show:n}})}}var Q=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Y(e,t){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(!((n=e[s])===(r=t[s])||Q(n)&&Q(r)))return!1;var n,r;return!0}var J=function(e,t){var s;void 0===t&&(t=Y);var n,r=[],i=!1;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return i&&s===this&&t(o,r)||(n=e.apply(this,o),i=!0,s=this,r=o),n}};class X extends n().Component{static defaultProps={onActiveIssueCountChange:()=>!1};constructor(e){super(e),this.state={issues:R.get("issues","crawler")||{},redirectInProgress:!1,requestInProgress:!1},this.getAllActiveIssueKeysMemoized=J((e=>this.getAllActiveIssueKeys(e))),this.getActiveSitemapIssuesMemoized=J((e=>this.getActiveSitemapIssueCount(e)))}componentDidUpdate(e,t,s){const n=this.getIssues(),r=this.getAllActiveIssueKeysMemoized(n),i=this.getActiveSitemapIssuesMemoized(n);this.props.onActiveIssueCountChange(r.length,i)}render(){const t=this.getIssues()||{},s=Array.from(new Set([...Object.keys(t),"3xx","4xx","5xx","sitemap","inaccessible"])),r=this.getAllActiveIssueKeysMemoized(t);return(0,e.createElement)(n().Fragment,null,r.length>0&&this.getIgnoreAllButton(),(0,e.createElement)("p",null,(0,c.__)("Here are potential issues SmartCrawl has picked up. We recommend fixing them up to ensure you aren’t penalized by search engines - you can however ignore any of these warnings.","wds")),(0,e.createElement)(H,{id:"wds-crawl-report-notice"}),(0,e.createElement)("div",{className:"sui-accordion wds-draw-left"},s.map((s=>{const n=this.getGroupComponent(s),r=t.hasOwnProperty(s)?t[s]:{},i="sitemap"===s?(e,t)=>this.renderSitemapIssue(e,t):(e,t)=>this.renderIssue(e,t),o="sitemap"===s?(e,t,s)=>this.renderSitemapControls(e,t,s):(e,t,s)=>this.renderControls(e,t,s);return(0,e.createElement)(n,{type:s,key:s,activeIssues:this.getActiveIssues(r),ignoredIssues:this.getIgnoredIssues(r),renderIssue:i,renderControls:o})}))),this.maybeShowRedirectModal())}renderSitemapIssue(t,s){return(0,e.createElement)(S,l({},s,{key:t,loading:this.state.requestInProgress===t,disabled:this.state.requestInProgress,onIgnore:()=>this.ignoreItem(t),onAddToSitemap:()=>this.addToSitemap(t),onRestore:()=>this.restoreItem(t)}))}renderIssue(t,s){return(0,e.createElement)(O,l({},s,{key:t,loading:this.state.requestInProgress===t,disabled:this.state.requestInProgress,onRedirect:()=>this.startRedirecting(t),onIgnore:()=>this.ignoreItem(t),onRestore:()=>this.restoreItem(t)}))}addToSitemap(e){this.setState({requestInProgress:e},(()=>{const t=this.getIssue(e);M.addToSitemap(t.path).then((e=>{this.showSuccessNotice((0,c.__)("The missing item has been added to your sitemap as an extra URL.","wds")),this.setState({issues:e.issues})})).catch(this.showError).finally((()=>this.markRequestAsComplete()))}))}ignoreItem(e){this.setState({requestInProgress:e},(()=>{M.ignoreIssue(e).then((e=>{this.showSuccessNotice((0,c.__)("The issue has been ignored.","wds")),this.setState({issues:e.issues})})).catch(this.showError).finally((()=>this.markRequestAsComplete()))}))}restoreItem(e){this.setState({requestInProgress:e},(()=>{M.restoreIssue(e).then((e=>{this.showSuccessNotice((0,c.__)("The issue has been restored.","wds")),this.setState({issues:e.issues})})).catch(this.showError).finally((()=>this.markRequestAsComplete()))}))}maybeShowRedirectModal(){if(!this.state.redirectInProgress)return!1;const t=this.state.redirectInProgress,s=this.getIssue(t);return!!s&&(0,e.createElement)(K,{source:s.path,destination:s.redirect,onSave:e=>this.redirect(s.path,e),onClose:()=>this.stopRedirecting(),requestInProgress:this.state.requestInProgress})}startRedirecting(e){this.setState({redirectInProgress:e})}redirect(e,t){this.setState({requestInProgress:!0},(()=>{M.redirect(e,t).then((e=>{this.showSuccessNotice((0,c.__)("The URL has been redirected successfully.","wds")),this.setState({redirectInProgress:!1,issues:e.issues})})).catch(this.showError).finally((()=>this.markRequestAsComplete()))}))}stopRedirecting(){this.setState({redirectInProgress:!1})}renderControls(e,t,s){return"issues"===t?this.getIgnoreAllOfTypeButton(e,s):this.getRestoreAllButton(e,s)}getIgnoreAllOfTypeButton(t,s){return(0,e.createElement)(N,{id:"wds-ignore-all-"+t,icon:"sui-icon-eye-hide",text:s>1?(0,c.__)("Ignore All","wds"):(0,c.__)("Ignore","wds"),ghost:!0,loading:this.state.requestInProgress===t,disabled:this.state.requestInProgress,onClick:()=>this.ignoreAllOfType(t)})}getIgnoreAllButton(){const t=function(t,s){return class extends n().Component{render(){const n=document.getElementById(s);return n?a().createPortal((0,e.createElement)(t,this.props),n):null}}}(N,"wds-ignore-all-button-placeholder");return(0,e.createElement)(t,{id:"wds-crawler-ignore-all",text:(0,c.__)("Ignore All","wds"),ghost:!0,icon:"sui-icon-eye-hide",onClick:()=>this.ignoreAll(),loading:"ignore-all"===this.state.requestInProgress,disabled:this.state.requestInProgress})}getRestoreAllButton(t,s){return(0,e.createElement)(N,{id:"wds-restore-all-"+t,icon:"sui-icon-plus",text:s>1?(0,c.__)("Restore All","wds"):(0,c.__)("Restore","wds"),ghost:!0,loading:this.state.requestInProgress===t,disabled:this.state.requestInProgress,onClick:()=>this.restoreAll(t)})}renderSitemapControls(t,s,r){return"issues"!==s?this.getRestoreAllButton(t):(0,e.createElement)(n().Fragment,null,this.getIgnoreAllOfTypeButton(t,r),(0,e.createElement)(N,{id:"wds-add-all-to-sitemap",icon:"sui-icon-plus",text:(0,c.__)("Add All to Sitemap","wds"),color:"blue",loading:"add-all-to-sitemap"===this.state.requestInProgress,disabled:this.state.requestInProgress,onClick:()=>this.addAllToSitemap(t)}))}restoreAll(e){const t=this.getIssues(),s=Object.keys(this.getIgnoredIssues(t[e]));this.setState({requestInProgress:e},(()=>{M.restoreIssue(s).then((e=>{this.showSuccessNotice((0,c.__)("The issues have been restored.","wds")),this.setState({issues:e.issues})})).catch(this.showError).finally((()=>this.markRequestAsComplete()))}))}ignoreAll(){const e=this.getIssues(),t=this.getAllActiveIssueKeys(e);this.setState({requestInProgress:"ignore-all"},(()=>{M.ignoreIssue(t).then((e=>{this.showSuccessNotice((0,c.__)("The issues have been ignored.","wds")),this.setState({issues:e.issues})})).catch(this.showError).finally((()=>this.markRequestAsComplete()))}))}getActiveSitemapIssueCount(e){const t=this.getActiveIssues(e.sitemap||{});return Object.keys(t).length}getAllActiveIssueKeys(e){const t=this.getFlattenedIssues(e);return Object.keys(this.getActiveIssues(t))}getFlattenedIssues(e){return Object.keys(e).reduce(((t,s)=>Object.assign(t,e[s])),{})}ignoreAllOfType(e){const t=this.getIssues(),s=Object.keys(this.getActiveIssues(t[e]));this.setState({requestInProgress:e},(()=>{M.ignoreIssue(s).then((e=>{this.showSuccessNotice((0,c.__)("The issues have been ignored.","wds")),this.setState({issues:e.issues})})).catch(this.showError).finally((()=>this.markRequestAsComplete()))}))}addAllToSitemap(e){const t=this.getIssues(),s=Object.keys(this.getActiveIssues(t[e])).map((s=>t[e][s].path));this.setState({requestInProgress:"add-all-to-sitemap"},(()=>{M.addToSitemap(s).then((e=>{this.showSuccessNotice((0,c.__)("The missing items have been added to your sitemap as extra URLs.","wds")),this.setState({issues:e.issues})})).catch(this.showError).finally((()=>this.markRequestAsComplete()))}))}getGroupComponent(e){const t={"3xx":b,"4xx":E,"5xx":y,inaccessible:v,sitemap:_};return!!t.hasOwnProperty(e)&&t[e]}getIssue(e){const t=this.getIssues();let s=!1;return Object.keys(t).some((n=>{const r=Object.keys(t[n]).find((t=>t===e));return r&&(s=t[n][r]),r})),s}getActiveIssues(e){return this.filterIssues((t=>!e[t].ignored),e)}getIgnoredIssues(e){return this.filterIssues((t=>e[t].ignored),e)}filterIssues(e,t){return t=t||{},Object.keys(t).filter(e).reduce(((e,s)=>Object.assign(e,{[s]:t[s]})),{})}getIssues(){return this.state.issues||{}}showSuccessNotice(e){z.showSuccessNotice("wds-crawl-report-notice",e,!1)}showError(e){z.showErrorNotice("wds-crawl-report-notice",e||(0,c.__)("An unknown error occurred, please reload the page and try again.","wds"),!1)}markRequestAsComplete(){this.setState({requestInProgress:!1})}}class Z{static getQueryParam(e){const t=location.search;return new URLSearchParams(t).get(e)}static removeQueryParam(e){const t=location.search,s=new URLSearchParams(t);if(!s.get(e))return;s.delete(e);const n=location.href.replace(t,"?"+s.toString());history.replaceState({},"",n)}static getUrlHost(e){const t=document.createElement("a");return t.href=e,t.host}}class ee extends n().Component{static defaultProps={label:"",description:""};render(){return(0,e.createElement)("div",{className:"sui-box-settings-row"},(0,e.createElement)("div",{className:"sui-box-settings-col-1"},(0,e.createElement)("span",{className:"sui-settings-label"},this.props.label),(0,e.createElement)("span",{className:"sui-description"},this.props.description)),(0,e.createElement)("div",{className:"sui-box-settings-col-2"},this.props.children))}}class te extends n().Component{static defaultProps={tabs:{},value:"",onChange:()=>!1};render(){const{tabs:t,children:s,value:r,onChange:i}=this.props,o=!!n().Children.toArray(s).length;return(0,e.createElement)("div",{className:"sui-side-tabs"},(0,e.createElement)("div",{className:"sui-tabs-menu"},Object.keys(t).map((s=>(0,e.createElement)("div",{className:d()("sui-tab-item",{active:r===s}),key:s,onClick:()=>i(s)},t[s])))),o&&(0,e.createElement)("div",{className:"sui-tabs-content"},(0,e.createElement)("div",{className:"sui-tab-content active"},(0,e.createElement)("div",{className:"sui-border-frame"},s))))}}class se extends n().Component{render(){return(0,e.createElement)("button",{type:"button",className:"sui-button-icon sui-accordion-open-indicator"},(0,e.createElement)("span",{"aria-hidden":"true",className:"sui-icon-chevron-down"}),(0,e.createElement)("span",{className:"sui-screen-reader-text"},(0,c.__)("Expand item","wds")))}}class ne extends n().Component{static defaultProps={id:"",checked:!1,disabled:!1,label:"",onChange:()=>!1};render(){return(0,e.createElement)("label",{className:"sui-checkbox"},(0,e.createElement)("input",{id:this.props.id,type:"checkbox",checked:this.props.checked,disabled:this.props.disabled,onChange:e=>this.props.onChange(e.target.checked)}),(0,e.createElement)("span",{"aria-hidden":"true"}),this.props.label&&(0,e.createElement)("span",null,this.props.label))}}class re extends n().Component{static defaultProps={small:!1,tagging:!1,placeholder:"",ajaxUrl:"",loadTextAjaxUrl:"",selectedValue:"",minimumResultsForSearch:10,minimumInputLength:3,multiple:!1,options:{},templateResult:!1,templateSelection:!1,disabled:!1,onSelect:()=>!1};constructor(e){super(e),this.props=e,this.state={loadingText:!1},this.selectElement=n().createRef(),this.selectElementContainer=n().createRef()}componentDidMount(){const e=A()(this.selectElement.current);e.addClass(this.props.small?"sui-select sui-select-sm":"sui-select").SUIselect2(this.getSelect2Args()),this.includeSelectedValueAsDynamicOption(),e.on("change",(e=>this.handleChange(e)))}includeSelectedValueAsDynamicOption(){this.props.selectedValue&&this.noOptionsAvailable()&&(this.props.tagging?Array.isArray(this.props.selectedValue)?this.props.selectedValue.forEach((e=>{this.addOption(e,e,!0)})):this.addOption(this.props.selectedValue,this.props.selectedValue,!0):this.props.loadTextAjaxUrl&&this.loadTextFromRemote())}loadTextFromRemote(){this.state.loadingText||(this.setState({loadingText:!0}),A().get(this.props.loadTextAjaxUrl,{id:this.props.selectedValue}).done((e=>{e&&e.results&&e.results.length&&e.results.forEach((e=>{this.addOption(e.id,e.text,!0)})),this.setState({loadingText:!1})})))}addOption(e,t,s){let n=new Option(t,e,!1,s);A()(this.selectElement.current).append(n).trigger("change")}noOptionsAvailable(){return!Object.keys(this.props.options).length}componentWillUnmount(){A()(this.selectElement.current).off().SUIselect2("destroy")}getSelect2Args(){let e={dropdownParent:A()(this.selectElementContainer.current),dropdownCssClass:"sui-select-dropdown",minimumResultsForSearch:this.props.minimumResultsForSearch,multiple:this.props.multiple,tagging:this.props.tagging};return this.props.placeholder&&(e.placeholder=this.props.placeholder),this.props.ajaxUrl&&(e.ajax={url:this.props.ajaxUrl},e.minimumInputLength=this.props.minimumInputLength),this.props.templateResult&&(e.templateResult=this.props.templateResult),this.props.templateSelection&&(e.templateSelection=this.props.templateSelection),this.props.ajaxUrl&&this.props.tagging&&!this.props.processResults&&(e.ajax.processResults=(e,t)=>e.results&&!e.results.length?{results:[{id:t.term,text:t.term}]}:e),this.props.processResults&&(e.ajax.processResults=this.props.processResults),e}handleChange(e){let t=e.target.value;this.props.multiple&&(t=Array.from(e.target.selectedOptions,(e=>e.value))),this.props.onSelect(t)}isOptGroup(e){return"object"==typeof e&&e.label&&e.options}printOptions(t){return Object.keys(t).map((s=>{const n=t[s];return this.isOptGroup(n)?(0,e.createElement)("optgroup",{key:s,label:n.label},this.printOptions(n.options)):(0,e.createElement)("option",{key:s,value:s},n)}))}render(){const t=this.props.options;let s;return s=Object.keys(t).length?this.printOptions(t):(0,e.createElement)("option",null),(0,e.createElement)("div",{ref:this.selectElementContainer},(0,e.createElement)("select",{disabled:this.state.loadingText||this.props.disabled,value:this.props.selectedValue,onChange:()=>!0,ref:this.selectElement,multiple:this.props.multiple},s))}}class ie extends n().Component{static defaultProps={name:"",label:"",included:!1,excluded:[],taxonomies:{},onPostTypeInclusionChange:()=>!1,onTermIdsExclusion:()=>!1,onPostExclusion:()=>!1};render(){const{name:t,taxonomies:s}=this.props;return this.props.included?(0,e.createElement)(p,{className:`sui-builder-field wds-news-post-type-${t}`,header:(0,e.createElement)(n().Fragment,null,this.getHeader(),(0,e.createElement)(se,null))},Object.keys(s).map((t=>{const n=s[t];return(0,e.createElement)("div",{className:`wds-news-taxonomy wds-news-taxonomy-${t}`,key:t},(0,e.createElement)(F,{label:(0,c.sprintf)((0,c.__)("Exclude %s","wds"),n.label),description:(0,c.sprintf)((0,c.__)("Search for and select %s that should be excluded from the Google News sitemap.","wds"),n.label.toLowerCase()),formControl:re,selectedValue:n.excluded,multiple:!0,ajaxUrl:this.getTermAjaxSearchUrl(t),loadTextAjaxUrl:this.getTermAjaxSearchUrl(t,"text"),onSelect:e=>this.props.onTermIdsExclusion(this.props.name,t,e)}))})),(0,e.createElement)(F,{label:(0,c.sprintf)((0,c.__)("Exclude %s","wds"),this.props.label),description:(0,c.sprintf)((0,c.__)("Search for and select %s that should be excluded from the Google News sitemap.","wds"),this.props.label.toLowerCase()),formControl:re,selectedValue:this.props.excluded,multiple:!0,ajaxUrl:this.getAjaxSearchUrl(),loadTextAjaxUrl:this.getAjaxSearchUrl("text"),onSelect:e=>this.props.onPostExclusion(this.props.name,e)})):(0,e.createElement)(p,{className:`sui-builder-field wds-news-post-type-${t} disabled`,header:this.getHeader()})}getAjaxSearchUrl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,c.sprintf)("%s?action=wds-search-post&type=%s&request_type=%s",q(),this.props.name,e)}getTermAjaxSearchUrl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,c.sprintf)("%s?action=wds-search-term&type=%s&request_type=%s",q(),e,t)}getHeader(){return(0,e.createElement)(n().Fragment,null,(0,e.createElement)(ne,{checked:this.props.included,onChange:e=>this.props.onPostTypeInclusionChange(this.props.name,e)}),(0,e.createElement)("div",{className:"sui-builder-field-label"},(0,e.createElement)("span",null,this.props.label),(0,e.createElement)("span",null,"(",this.props.name,")")))}}var oe=s(7145),ae=s.n(oe);class le extends n().Component{static defaultProps={type:"warning",message:""};render(){const t=this.getIcon(this.props.type);return(0,e.createElement)("div",{className:d()("sui-notice","sui-notice-"+this.props.type,this.props.className)},(0,e.createElement)("div",{className:"sui-notice-content"},(0,e.createElement)("div",{className:"sui-notice-message"},t&&(0,e.createElement)("span",{className:d()("sui-notice-icon sui-md",t),"aria-hidden":"true"}),(0,e.createElement)("p",null,this.props.message))))}getIcon(e){return{warning:"sui-icon-warning-alert",error:"sui-icon-warning-alert",info:"sui-icon-info",success:"sui-icon-check-tick",purple:"sui-icon-info","":"sui-icon-info"}[e]}}class ce extends n().Component{static defaultProps={newsSitemapUrl:"",enabled:!1,publication:"",schemaEnabled:"",postTypes:{}};constructor(e){super(e),this.state={requestInProgress:!1,enabled:this.props.enabled,publication:this.props.publication,postTypes:this.props.postTypes}}render(){const t=this.state.enabled,s=this.state.publication,n=this.state.postTypes;return(0,e.createElement)("div",{className:"sui-box"},(0,e.createElement)(H,{id:"wds-news-sitemap-notice"}),(0,e.createElement)("div",{className:"sui-box-header"},(0,e.createElement)("h2",{className:"sui-box-title"},(0,c.__)("News Sitemap","wds"))),(0,e.createElement)("div",{className:"sui-box-body"},(0,e.createElement)("p",null,(0,e.createInterpolateElement)((0,c.__)("Are you publishing newsworthy content? Use the Google News Sitemap to list news articles and posts published in the last 48 hours so that they show up in Google News. <a>Learn More</a>","wds"),{a:(0,e.createElement)("a",{href:"https://wpmudev.com/docs/wpmu-dev-plugins/smartcrawl/#news-sitemap",target:"_blank"})})),t&&(0,e.createElement)(le,{type:"info",message:(0,e.createInterpolateElement)((0,c.__)("Your sitemap is available at <a>/news-sitemap.xml</a>","wds"),{a:(0,e.createElement)("a",{target:"_blank",href:this.props.newsSitemapUrl})})}),(0,e.createElement)(ee,{label:(0,c.__)("Enable News Sitemap","wds"),description:(0,c.__)("Use this option to enable or disable the Google News Sitemap feature.","wds")},(0,e.createElement)("div",{id:"wds-news-sitemap-status",style:{marginBottom:"10px"}},(0,e.createElement)(te,{value:t?"enable":"disable",onChange:e=>this.toggleNewsSitemap(e),tabs:{enable:(0,c.__)("Enable","wds"),disable:(0,c.__)("Disable","wds")}})),t&&this.props.schemaEnabled&&(0,e.createElement)(le,{type:"",message:(0,e.createInterpolateElement)((0,c.__)("SmartCrawl automatically changes the schema to <strong>NewsArticle</strong> for all included posts/pages to ensure your newsworthy content is properly crawled and indexed. Note that if some schema types have been added using the Types Builder, the <strong>NewsArticle</strong> schema will not be displayed.","wds"),{strong:(0,e.createElement)("strong",null)})})),t&&(0,e.createElement)(ee,{label:(0,c.__)("News Publication","wds"),description:(0,c.__)("Enter your Google News publication name.","wds")},(0,e.createElement)(D,{label:(0,c.__)("Publication Name","wds"),description:(0,e.createInterpolateElement)((0,c.__)("The publication name must match your publication name on <span>news.google.com</span>","wds"),{span:(0,e.createElement)("span",{style:{color:"#000"}})}),id:"wds-news-publication-name",value:s,onChange:e=>this.updatePublication(e)})),t&&(0,e.createElement)(ee,{label:(0,c.__)("Inclusions","wds"),description:(0,c.__)("Select Post Types to include in your news sitemap.","wds")},(0,e.createElement)("strong",null,(0,c.__)("Post types to include","wds")),(0,e.createElement)("p",{className:"sui-description",style:{margin:"10px 0 20px 0"}},(0,c.__)("Select post types to be included in the Google News sitemap. Expand a post type to exclude specific items or groups.","wds")),(0,e.createElement)("div",{className:"sui-box-builder"},(0,e.createElement)("div",{className:"sui-box-builder-body"},(0,e.createElement)("div",{className:"sui-builder-fields sui-accordion"},Object.keys(n).map((t=>{const s=n[t];return(0,e.createElement)(ie,l({key:t},s,{onPostTypeInclusionChange:(e,t)=>this.updatePostTypeInclusionStatus(e,t),onTermIdsExclusion:(e,t,s)=>this.updateTermIdsExclusion(e,t,s),onPostExclusion:(e,t)=>this.updatePostExclusion(e,t)}))}))))))),(0,e.createElement)("div",{className:"sui-box-footer"},(0,e.createElement)("input",{type:"hidden",name:"wds_sitemap_options[news-settings]",value:JSON.stringify(this.state)}),(0,e.createElement)("button",{name:"submit",type:"submit",className:"sui-button sui-button-blue"},(0,e.createElement)("span",{className:"sui-icon-save","aria-hidden":"true"}),(0,c.__)("Save Settings","wds"))))}updatePostExclusion(e,t){const s=this.formatSpec([e,"excluded"],{$set:t}),n=ae()(this.state.postTypes,s);this.setState({postTypes:n})}updatePostTypeInclusionStatus(e,t){const s=ae()(this.state.postTypes,{[e]:{included:{$set:t}}});this.setState({postTypes:s})}updateTermIdsExclusion(e,t,s){const n=this.formatSpec([e,"taxonomies",t,"excluded"],{$set:s}),r=ae()(this.state.postTypes,n);this.setState({postTypes:r})}formatSpec(e,t){return e.slice().reverse().forEach((e=>{t={[e]:t}})),t}toggleNewsSitemap(e){this.setState({enabled:"enable"===e})}updatePublication(e){this.setState({publication:e})}}class ue extends n().Component{static defaultProps={progress:"",stateMessage:""};render(){const t=Math.ceil(this.props.progress),s=t+"%";return(0,e.createElement)(n().Fragment,null,(0,e.createElement)("div",{className:"sui-progress-block"},(0,e.createElement)("div",{className:"sui-progress"},(0,e.createElement)("span",{className:"sui-progress-icon","aria-hidden":"true"},(0,e.createElement)("span",{className:"sui-icon-loader sui-loading"})),(0,e.createElement)("div",{className:"sui-progress-text"},s),(0,e.createElement)("div",{className:"sui-progress-bar"},(0,e.createElement)("span",{style:{transition:0!==t&&"transform 0.4s linear 0s",transformOrigin:"left center",transform:`translateX(${t-100}%)`}})))),(0,e.createElement)("div",{className:"sui-progress-state"},this.props.stateMessage))}}class de extends n().Component{static defaultProps={nonce:"",sitemapUrl:"",onClose:()=>!1};constructor(e){super(e),this.state={inProgress:!1,checked:!1,fixed:!1,progress:0,issue:"",message:"",actionText:"",actionUrl:"",initialSitemapStatus:!1}}showGetStarted(){const{checked:e,inProgress:t}=this.state;return!e||t}getStarted(){const{inProgress:t,progress:s}=this.state;return(0,e.createElement)(n().Fragment,null,!t&&(0,e.createElement)("p",{className:"sui-description"},(0,c.__)("Click the button below to detect any problems with your sitemap. This will only take a few seconds.","wds")),t&&(0,e.createElement)(ue,{progress:s,stateMessage:(0,c.__)("Checking sitemap...")}),(0,e.createElement)("div",{style:{marginBottom:"20px"}},(0,e.createElement)(N,{text:(0,c.__)("Start","wds"),icon:"sui-icon-arrow-right",id:"wds-start-troubleshooting-sitemap",onClick:()=>this.handleAction(),loading:t})))}showSuccess(){const{checked:e,fixed:t,inProgress:s}=this.state;return e&&!s&&t}success(){const{sitemapUrl:t}=this.props,{fixed:s,issue:r}=this.state;return(0,e.createElement)(n().Fragment,null,s&&!r&&(0,e.createElement)("p",{className:"sui-description"},(0,c.__)("Hurray! No problems with your sitemap were detected.","wds")),s&&r&&(0,e.createElement)("p",{className:"sui-description"},(0,c.__)("We detected and automatically resolved 1 problem with your sitemap. See additional details below.")),(0,e.createElement)(N,{className:"wds-troubleshoot-open-sitemap-button",ghost:!0,icon:"sui-icon-sitemap",href:t,target:"_blank",text:(0,c.__)("Open sitemap","wds")}),r&&this.issueAccordion(!0),this.checkAgainFooter())}checkAgainFooter(){const{onClose:t}=this.props,{inProgress:s}=this.state;return(0,e.createElement)("div",{className:"wds-troubleshoot-check-again-footer"},(0,e.createElement)(N,{text:(0,c.__)("Cancel","wds"),onClick:t,ghost:!0,disabled:s}),(0,e.createElement)(N,{text:(0,c.__)("Check Again","wds"),icon:"sui-icon-refresh",id:"wds-start-troubleshooting-sitemap",onClick:()=>this.handleAction(),loading:s}))}showIssueList(){const{checked:e,fixed:t,inProgress:s}=this.state;return e&&!s&&!t}issueList(){return(0,e.createElement)(n().Fragment,null,(0,e.createElement)("p",{className:"sui-description"},(0,c.__)("We’ve detected 1 problem with your sitemap. Click the problem listed below for more information.")),this.issueAccordion(!1),this.checkAgainFooter())}issueAccordion(t){const{issue:s,actionText:r,actionUrl:i}=this.state,o=t?"sui-icon-check-tick sui-success":"sui-icon-warning-alert sui-error";return(0,e.createElement)("div",{className:"sui-accordion sui-accordion-flushed"},(0,e.createElement)(p,{header:(0,e.createElement)(n().Fragment,null,(0,e.createElement)("div",{className:"sui-accordion-item-title sui-accordion-col-4"},(0,e.createElement)("span",{"aria-hidden":"true",className:o})," ",s),(0,e.createElement)("div",{className:"sui-accordion-col-2"},(0,e.createElement)(se,null)))},this.formatMessage(),!t&&r&&i&&(0,e.createElement)("div",{style:{marginTop:"15px"}},(0,e.createElement)(N,{ghost:!0,href:i,target:"_blank",text:r}))))}render(){const{onClose:t}=this.props,{inProgress:s}=this.state,n=this.showGetStarted(),r=this.showSuccess(),i=this.showIssueList();return(0,e.createElement)(T,{id:"wds-troubleshoot-sitemap-modal",title:(0,c.__)("Troubleshoot Sitemap","wds"),small:!0,dialogClasses:{"sui-modal-md":!0,"sui-modal-sm":!1},onClose:t,disableCloseButton:s,beforeTitle:(0,e.createElement)("div",{className:"wds-troubleshoot-header"},r&&(0,e.createElement)("span",{className:"sui-icon-check-tick sui-success","aria-hidden":"true"}),i&&(0,e.createElement)("span",{className:"sui-icon-cross-close sui-error","aria-hidden":"true"}),n&&(0,e.createElement)("span",{className:"wds-troubleshoot-wrench-and-screw-icon"}))},r&&this.success(),i&&this.issueList(),n&&this.getStarted())}formatMessage(){const{message:t}=this.state;return(0,e.createInterpolateElement)(t||"",{code:(0,e.createElement)("code",null),br:(0,e.createElement)("br",null)})}handleAction(){this.setState({initialSitemapStatus:!1,inProgress:!0,progress:0},(()=>{this.startTroubleshooting().then((()=>this.showDummyProgress(15))).then((()=>this.performFinalChecks())).catch((()=>{const e=(0,c.__)("The AJAX request failed.","wds");this.showErrorNotice(e),this.setState({issue:(0,c.__)("Request Failed","wds"),message:e})})).finally((()=>{this.setState({progress:100},(()=>{setTimeout((()=>{this.setState({inProgress:!1,checked:!0})}),1e3)}))}))}))}startTroubleshooting(){return new Promise(((e,t)=>{this.post("wds_troubleshoot_sitemap").then((t=>{this.setState({initialSitemapStatus:null==t?void 0:t.status},e)})).catch(t)}))}showDummyProgress(e){return new Promise((t=>{let s=Promise.resolve();for(let t=0;t<2*e;t++)s=s.then((()=>this.updateDummyProgress()));s.then(t)}))}performFinalChecks(){const{initialSitemapStatus:e}=this.state;return this.post("wds_recheck_sitemaps",{status:e}).then((e=>{this.setState({fixed:!(null==e||!e.fixed),issue:null==e?void 0:e.issue,message:null==e?void 0:e.message,actionText:null==e?void 0:e.action_text,actionUrl:null==e?void 0:e.action_url})}))}updateDummyProgress(){return new Promise((e=>{const{progress:t}=this.state;setTimeout((()=>{const s=t+this.getRandom(1,3);this.setState({progress:s>99?99:s},e)}),500)}))}getRandom(e,t){return Math.random()*(t-e)+e}showErrorNotice(e){z.showErrorNotice("wds-troubleshoot-notice",e,!1)}post(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{nonce:s}=this.props;return L.post(e,s,t)}}class pe extends n().Component{static defaultStatic={nonce:"",sitemapUrl:""};constructor(e){super(e),this.state={started:!1}}render(){const{started:t}=this.state,{nonce:s,sitemapUrl:r}=this.props;return(0,e.createElement)(n().Fragment,null,(0,e.createElement)(ee,{label:(0,c.__)("Troubleshoot Sitemap","wds"),description:(0,c.__)("If your sitemap is not as expected, you can use this tool to identify the problem.","wds")},(0,e.createElement)(H,{id:"wds-troubleshoot-notice"}),(0,e.createElement)(N,{id:"wds-open-troubleshooting-modal",text:(0,c.__)("Troubleshoot","wds"),ghost:!0,onClick:()=>this.startTroubleshooting()})),t&&(0,e.createElement)(de,{nonce:s,sitemapUrl:r,onClose:()=>this.stopTroubleshooting()}))}startTroubleshooting(){this.setState({started:!0})}stopTroubleshooting(){this.setState({started:!1})}}!function(t,s){const r=document.getElementById("wds-url-crawler-report");r&&(0,o.render)((0,e.createElement)(i,null,(0,e.createElement)(X,{onActiveIssueCountChange:function(e,s){const n=t("#tab_url_crawler .sui-box-header .sui-tag"),r=t("li.tab_url_crawler"),i=r.find(".sui-tag"),o=r.find(".sui-icon-check-tick"),a=r.find(".sui-icon-loader"),l=t(".wds-new-crawl-button"),c=t(".sui-summary-large"),u=t('.sui-summary-large + [class*="sui-icon-"]'),d=t(".wds-invisible-urls-count"),p=t(".sui-box-header .wds-ignore-all").closest("div");undefined!==e&&(e>0?(n.show().html(e),i.show().html(e),p.show(),o.hide(),u.removeClass("sui-icon-check-tick sui-success").addClass("sui-icon-info sui-warning")):(n.hide(),i.hide(),p.hide(),o.show(),u.removeClass("sui-icon-info sui-warning").addClass("sui-icon-check-tick sui-success")),c.html(e),d.html(s),a.hide(),l.show())}})),r);const a=document.getElementById("wds-news-sitemap-tab");a&&(0,o.render)((0,e.createElement)(i,null,(0,e.createElement)(ce,{newsSitemapUrl:R.get("news_sitemap_url","news"),schemaEnabled:R.get("schema_enabled","news"),enabled:R.get("enabled","news"),publication:R.get("publication","news"),postTypes:R.get("post_types","news")})),a);const l=document.getElementById("wds-troubleshooting-sitemap-placeholder");function c(){t(".tab_url_crawler").find(".wds-url-crawler-progress").length&&t.post(ajaxurl,{action:"wds_get_crawl_progress",_wds_nonce:Wds.get("crawler","nonce")},(()=>!1),"json").done((function(e){var s,n;const r=null==e||null===(s=e.data)||void 0===s?void 0:s.in_progress,i=null==e||null===(n=e.data)||void 0===n?void 0:n.progress,o=t("#tab_url_crawler .wds-progress");r?(Wds.update_progress_bar(o,i),setTimeout(c,5e3)):(Wds.update_progress_bar(o,100),window.location.reload())}))}function u(){t(".wds-sitemap-toggleable").each((function(){const e=t(this),s=e.next("tr").find(".sui-table");e.find('input[type="checkbox"]').is(":checked")?s.show():s.hide()}))}function d(){const e=t("#wds-switch-to-native-button");Wds.open_dialog("wds-switch-to-native-modal","wds-switch-to-native-sitemap",e.attr("id")),e.off().on("click",(function(){e.addClass("sui-button-onload"),m(!1,(function(){window.location.href=h({"switched-to-native":1})}))}))}function p(){const e=t("#wds-switch-to-smartcrawl-button");Wds.open_dialog("wds-switch-to-smartcrawl-modal","wds-switch-to-smartcrawl-sitemap",e.attr("id")),e.off().on("click",(function(){e.addClass("sui-button-onload"),m(!0,(function(){window.location.href=h({"switched-to-sc":1})}))}))}function h(e){const s=window.location.href,n=new URLSearchParams(window.location.search);return s.split("?")[0]+"?"+t.param(t.extend({},{page:n.get("page")},e))}function m(e,s){return t.post(ajaxurl,{action:"wds-override-native",override:e?"1":"0",_wds_nonce:Wds.get("sitemaps","nonce")},s,"json")}function g(){const e=t(this);return e.addClass("sui-button-onload"),t.post(ajaxurl,{action:"wds-manually-update-engines",_wds_nonce:Wds.get("sitemaps","nonce")},(function(){Wds.show_floating_message("wds-sitemap-manually-notify-search-engines",Wds.l10n("sitemaps","manually_notified_engines"),"success"),e.removeClass("sui-button-onload")}),"json")}function w(){const e=t(this);return e.addClass("sui-button-onload"),t.post(ajaxurl,{action:"wds-manually-update-sitemap",_wds_nonce:Wds.get("sitemaps","nonce")},(function(){Wds.show_floating_message("wds-sitemap-manually-updated",Wds.l10n("sitemaps","manually_updated"),"success"),e.removeClass("sui-button-onload")}),"json")}function f(){return t(this).addClass("sui-button-onload"),t.post(ajaxurl,{action:"wds-deactivate-sitemap-module",_wds_nonce:Wds.get("sitemaps","nonce")},(function(){window.location.reload()}),"json")}l&&(0,o.render)((0,e.createElement)(n().Fragment,null,(0,e.createElement)(i,null,(0,e.createElement)(pe,{nonce:R.get("nonce","sitemaps"),sitemapUrl:R.get("sitemap_url","sitemaps")})),(0,e.createElement)("div",null)),l),t((function(){window.Wds.hook_conditionals(),window.Wds.hook_toggleables(),window.Wds.conditional_fields(),window.Wds.dismissible_message(),window.Wds.vertical_tabs(),window.Wds.reporting_schedule(),c(),Z.removeQueryParam("crawl-in-progress"),t(document).on("change",'.wds-sitemap-toggleable input[type="checkbox"]',u).on("change","#wds_sitemap_options-sitemap-disable-automatic-regeneration",(function(){const e=t(this);e.closest(".sui-toggle").find(".sui-notice").toggleClass("hidden",e.is(":checked"))})).on("click","#wds-switch-to-native-sitemap",d).on("click","#wds-switch-to-smartcrawl-sitemap",p).on("click","#wds-deactivate-sitemap-module",f).on("click","#wds-manually-update-sitemap",w).on("click","#wds-manually-notify-search-engines",g),t(u)}))}(jQuery)}()}();