!function(){var e={4184:function(e,t){var s;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var s=arguments[t];if(s){var i=typeof s;if("string"===i||"number"===i)e.push(s);else if(Array.isArray(s)){if(s.length){var a=r.apply(null,s);a&&e.push(a)}}else if("object"===i){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){e.push(s.toString());continue}for(var o in s)n.call(s,o)&&s[o]&&e.push(o)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(s=function(){return r}.apply(t,[]))||(e.exports=s)}()},7145:function(e,t){"use strict";function s(e){return"object"!=typeof e||"toString"in e?e:Object.prototype.toString.call(e).slice(8,-1)}Object.defineProperty(t,"__esModule",{value:!0});var n="object"==typeof process&&!0;function r(e,t){if(!e){if(n)throw new Error("Invariant failed");throw new Error(t())}}t.invariant=r;var i=Object.prototype.hasOwnProperty,a=Array.prototype.splice,o=Object.prototype.toString;function l(e){return o.call(e).slice(8,-1)}var c=Object.assign||function(e,t){return u(t).forEach((function(s){i.call(t,s)&&(e[s]=t[s])})),e},u="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function d(e){return Array.isArray(e)?c(e.constructor(e.length),e):"Map"===l(e)?new Map(e):"Set"===l(e)?new Set(e):e&&"object"==typeof e?c(Object.create(Object.getPrototypeOf(e)),e):e}var h=function(){function e(){this.commands=c({},m),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new e).update}}return Object.defineProperty(e.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this.commands[e]=t},e.prototype.update=function(e,t){var s=this,n="function"==typeof t?{$apply:t}:t;Array.isArray(e)&&Array.isArray(n)||r(!Array.isArray(n),(function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."})),r("object"==typeof n&&null!==n,(function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(s.commands).join(", ")+"."}));var a=e;return u(n).forEach((function(t){if(i.call(s.commands,t)){var r=e===a;a=s.commands[t](n[t],a,n,e),r&&s.isEquals(a,e)&&(a=e)}else{var o="Map"===l(e)?s.update(e.get(t),n[t]):s.update(e[t],n[t]),c="Map"===l(a)?a.get(t):a[t];s.isEquals(o,c)&&(void 0!==o||i.call(e,t))||(a===e&&(a=d(e)),"Map"===l(a)?a.set(t,o):a[t]=o)}})),a},e}();t.Context=h;var m={$push:function(e,t,s){return f(t,s,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,s){return f(t,s,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,i){return function(e,t){r(Array.isArray(e),(function(){return"Expected $splice target to be an array; got "+s(e)})),y(t.$splice)}(t,n),e.forEach((function(e){y(e),t===i&&e.length&&(t=d(i)),a.apply(t,e)})),t},$set:function(e,t,s){return function(e){r(1===Object.keys(e).length,(function(){return"Cannot have more than one key in an object with $set"}))}(s),e},$toggle:function(e,t){g(e,"$toggle");var s=e.length?d(t):t;return e.forEach((function(e){s[e]=!t[e]})),s},$unset:function(e,t,s,n){return g(e,"$unset"),e.forEach((function(e){Object.hasOwnProperty.call(t,e)&&(t===n&&(t=d(n)),delete t[e])})),t},$add:function(e,t,s,n){return w(t,"$add"),g(e,"$add"),"Map"===l(t)?e.forEach((function(e){var s=e[0],r=e[1];t===n&&t.get(s)!==r&&(t=d(n)),t.set(s,r)})):e.forEach((function(e){t!==n||t.has(e)||(t=d(n)),t.add(e)})),t},$remove:function(e,t,s,n){return w(t,"$remove"),g(e,"$remove"),e.forEach((function(e){t===n&&t.has(e)&&(t=d(n)),t.delete(e)})),t},$merge:function(e,t,n,i){var a,o;return a=t,r((o=e)&&"object"==typeof o,(function(){return"update(): $merge expects a spec of type 'object'; got "+s(o)})),r(a&&"object"==typeof a,(function(){return"update(): $merge expects a target of type 'object'; got "+s(a)})),u(e).forEach((function(s){e[s]!==t[s]&&(t===i&&(t=d(i)),t[s]=e[s])})),t},$apply:function(e,t){var n;return r("function"==typeof(n=e),(function(){return"update(): expected spec of $apply to be a function; got "+s(n)+"."})),e(t)}},p=new h;function f(e,t,n){r(Array.isArray(e),(function(){return"update(): expected target of "+s(n)+" to be an array; got "+s(e)+"."})),g(t[n],n)}function g(e,t){r(Array.isArray(e),(function(){return"update(): expected spec of "+s(t)+" to be an array; got "+s(e)+". Did you forget to wrap your parameter in an array?"}))}function y(e){r(Array.isArray(e),(function(){return"update(): expected spec of $splice to be an array of arrays; got "+s(e)+". Did you forget to wrap your parameters in an array?"}))}function w(e,t){var n=l(e);r("Map"===n||"Set"===n,(function(){return"update(): "+s(t)+" expects a target of type Set or Map; got "+s(n)}))}t.isEquals=p.update.isEquals,t.extend=p.extend,t.default=p.update,t.default.default=e.exports=c(t.default,t)},2705:function(e,t,s){var n=s(5639).Symbol;e.exports=n},9932:function(e){e.exports=function(e,t){for(var s=-1,n=null==e?0:e.length,r=Array(n);++s<n;)r[s]=t(e[s],s,e);return r}},4239:function(e,t,s){var n=s(2705),r=s(9607),i=s(2333),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?r(e):i(e)}},98:function(e){var t=Math.ceil,s=Math.max;e.exports=function(e,n,r,i){for(var a=-1,o=s(t((n-e)/(r||1)),0),l=Array(o);o--;)l[i?o:++a]=e,e+=r;return l}},531:function(e,t,s){var n=s(2705),r=s(9932),i=s(1469),a=s(3448),o=n?n.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return r(t,e)+"";if(a(t))return l?l.call(t):"";var s=t+"";return"0"==s&&1/t==-1/0?"-0":s}},7561:function(e,t,s){var n=s(7990),r=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(r,""):e}},7445:function(e,t,s){var n=s(98),r=s(6612),i=s(8601);e.exports=function(e){return function(t,s,a){return a&&"number"!=typeof a&&r(t,s,a)&&(s=a=void 0),t=i(t),void 0===s?(s=t,t=0):s=i(s),a=void 0===a?t<s?1:-1:i(a),n(t,s,a,e)}}},1957:function(e,t,s){var n="object"==typeof s.g&&s.g&&s.g.Object===Object&&s.g;e.exports=n},9607:function(e,t,s){var n=s(2705),r=Object.prototype,i=r.hasOwnProperty,a=r.toString,o=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,o),s=e[o];try{e[o]=void 0;var n=!0}catch(e){}var r=a.call(e);return n&&(t?e[o]=s:delete e[o]),r}},5776:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,s){var n=typeof e;return!!(s=null==s?9007199254740991:s)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<s}},6612:function(e,t,s){var n=s(7813),r=s(8612),i=s(5776),a=s(3218);e.exports=function(e,t,s){if(!a(s))return!1;var o=typeof t;return!!("number"==o?r(s)&&i(t,s.length):"string"==o&&t in s)&&n(s[t],e)}},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:function(e,t,s){var n=s(1957),r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")();e.exports=i},7990:function(e){var t=/\s/;e.exports=function(e){for(var s=e.length;s--&&t.test(e.charAt(s)););return s}},7813:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},1469:function(e){var t=Array.isArray;e.exports=t},8612:function(e,t,s){var n=s(3560),r=s(1780);e.exports=function(e){return null!=e&&r(e.length)&&!n(e)}},3560:function(e,t,s){var n=s(4239),r=s(3218);e.exports=function(e){if(!r(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},3448:function(e,t,s){var n=s(4239),r=s(7005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==n(e)}},6026:function(e,t,s){var n=s(7445)();e.exports=n},8601:function(e,t,s){var n=s(4841);e.exports=function(e){return e?Infinity===(e=n(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},4841:function(e,t,s){var n=s(7561),r=s(3218),i=s(3448),a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var s=o.test(e);return s||l.test(e)?c(e.slice(2),s?2:8):a.test(e)?NaN:+e}},9833:function(e,t,s){var n=s(531);e.exports=function(e){return null==e?"":n(e)}},3955:function(e,t,s){var n=s(9833),r=0;e.exports=function(e){var t=++r;return n(e)+t}}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,s),i.exports}s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(){return e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},e.apply(this,arguments)}var t=window.wp.element,n=window.React,r=s.n(n);class i extends r().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){console.error(e),console.error(t)}render(){return this.state.hasError?(0,t.createElement)("div",{className:"sui-notice sui-notice-error"},(0,t.createElement)("div",{className:"sui-notice-content"},(0,t.createElement)("div",{className:"sui-notice-message"},(0,t.createElement)("span",{className:"sui-notice-icon sui-icon-warning-alert sui-md","aria-hidden":"true"}),(0,t.createElement)("p",null,(0,t.createElement)("strong",null,"Something went wrong. Please contact ",(0,t.createElement)("a",{target:"_blank",href:"https://wpmudev.com/get-support/"},"support"),"."))))):this.props.children}}var a=i,o=window.wp.domReady,l=s.n(o),c=window.ReactDOM,u=s(4184),d=s.n(u);class h extends r().Component{static defaultProps={id:"",text:"",color:"",dashed:!1,icon:!1,loading:!1,ghost:!1,disabled:!1,href:"",target:"",className:"",onClick:()=>!1};handleClick(e){e.preventDefault(),this.props.onClick()}render(){let s,n;this.props.href?(s="a",n={href:this.props.href,target:this.props.target}):(s="button",n={disabled:this.props.disabled,onClick:e=>this.handleClick(e)});const i=this.props.text&&this.props.text.trim();return(0,t.createElement)(r().Fragment,null,(0,t.createElement)(s,e({},n,{className:d()(this.props.className,"sui-button-"+this.props.color,{"sui-button-onload":this.props.loading,"sui-button-ghost":this.props.ghost,"sui-button-icon":!i,"sui-button-dashed":this.props.dashed,"sui-button":i}),id:this.props.id}),this.text(),this.loadingIcon()))}text(){const e=this.props.icon?(0,t.createElement)("span",{className:this.props.icon,"aria-hidden":"true"}):"";return(0,t.createElement)("span",{className:d()({"sui-loading-text":this.props.loading})},e," ",this.props.text)}loadingIcon(){return this.props.loading?(0,t.createElement)("span",{className:"sui-icon-loader sui-loading","aria-hidden":"true"}):""}}var m=window.wp.i18n;class p extends r().Component{static defaultProps={icon:"sui-icon-widget-settings-config",buttons:[],loading:!1,disabled:!1,onClick:()=>!1};render(){const e=d()("sui-button-icon sui-dropdown-anchor",{"sui-button-onload":this.props.loading});return(0,t.createElement)("div",{className:"sui-dropdown sui-accordion-item-action"},(0,t.createElement)("button",{className:e,"aria-label":(0,m.__)("Dropdown","wds"),disabled:this.props.disabled},(0,t.createElement)("span",{className:"sui-loading-text"},(0,t.createElement)("span",{className:this.props.icon,style:{pointerEvents:"none"},"aria-hidden":"true"})),(0,t.createElement)("span",{className:"sui-icon-loader sui-loading","aria-hidden":"true"})),(0,t.createElement)("ul",null,this.props.buttons.map(((e,s)=>(0,t.createElement)("li",{key:s},e)))))}}class f extends r().Component{static defaultProps={className:"",text:"",icon:"",red:!1,onClick:()=>!1};render(){return(0,t.createElement)("button",{className:d()(this.props.className,{"sui-option-red":this.props.red}),onClick:()=>this.props.onClick(),type:"button"},(0,t.createElement)("span",{className:this.props.icon,"aria-hidden":"true"}),this.props.text)}}var g=s(6026),y=s.n(g);class w{static getPage(e,t,s){const n={};return Object.keys(e).slice((t-1)*s,t*s).forEach((t=>n[t]=e[t])),n}static getPageCount(e,t){const s=Math.ceil(e/t);return s<1?1:s}}class b extends r().Component{static defaultProps={count:0,perPage:10,currentPage:1,onClick:()=>!1};handleClick(e,t){e.preventDefault(),this.props.onClick(t)}getPageNumbers(){const e=this.getPageCount(),t=y()(1,e+1);if(e<=7)return t;const s=this.props.currentPage;let n,r;s<=3?(n=s-1,r=7-n-1):e-s<=3?(r=e-s,n=7-r-1):(n=2,r=3);let i=-1;const a=t.map((e=>e<s-n||e>s+r?i:(i--,e)));return Array.from(new Set(a))}render(){const e=this.getPageCount(),s=this.getPageNumbers();return(0,t.createElement)("div",{className:"sui-pagination-wrap"},(0,t.createElement)("span",{className:"sui-pagination-results"},(0,m.sprintf)((0,m.__)("%s results","wds"),this.props.count)),(0,t.createElement)("ul",{className:"sui-pagination"},(0,t.createElement)("li",null,(0,t.createElement)("a",{href:"#",role:"button",onClick:e=>this.handleClick(e,1),disabled:1===this.props.currentPage},(0,t.createElement)("span",{className:"sui-icon-arrow-skip-back","aria-hidden":"true"}),(0,t.createElement)("span",{className:"sui-screen-reader-text"},(0,m.__)("Go to first page","wds")))),(0,t.createElement)("li",null,(0,t.createElement)("a",{href:"#",role:"button",onClick:e=>this.handleClick(e,this.props.currentPage-1),disabled:1===this.props.currentPage},(0,t.createElement)("span",{className:"sui-icon-chevron-left","aria-hidden":"true"}),(0,t.createElement)("span",{className:"sui-screen-reader-text"},(0,m.__)("Go to previous page","wds")))),s.map((e=>e<0?(0,t.createElement)("li",{key:e},(0,t.createElement)("a",{style:{pointerEvents:"none"}},"...")):(0,t.createElement)("li",{key:e,className:d()({"sui-active":e===this.props.currentPage})},(0,t.createElement)("a",{href:"#",role:"button",onClick:t=>this.handleClick(t,e)},e)))),(0,t.createElement)("li",null,(0,t.createElement)("a",{href:"#",role:"button",onClick:e=>this.handleClick(e,this.props.currentPage+1),disabled:this.props.currentPage===e},(0,t.createElement)("span",{className:"sui-icon-chevron-right","aria-hidden":"true"}),(0,t.createElement)("span",{className:"sui-screen-reader-text"},(0,m.__)("Go to next page","wds")))),(0,t.createElement)("li",null,(0,t.createElement)("a",{href:"#",role:"button",onClick:t=>this.handleClick(t,e),disabled:this.props.currentPage===e},(0,t.createElement)("span",{className:"sui-icon-arrow-skip-forward","aria-hidden":"true"}),(0,t.createElement)("span",{className:"sui-screen-reader-text"},(0,m.__)("Go to last page","wds"))))))}getPageCount(){return w.getPageCount(this.props.count,this.props.perPage)}}var v=SUI,E=s.n(v),S=jQuery,_=s.n(S);class x extends r().Component{static defaultProps={id:"",title:"",description:"",small:!1,headerActions:!1,focusAfterOpen:"",focusAfterClose:"container",dialogClasses:[],disableCloseButton:!1,enterDisabled:!1,onEnter:!1,beforeTitle:!1,onClose:()=>!1};constructor(e){super(e),this.props=e}componentDidMount(){E().openModal(this.props.id,this.props.focusAfterClose,this.props.focusAfterOpen?this.props.focusAfterOpen:this.getTitleId(),!1,!1)}componentWillUnmount(){E().closeModal()}handleKeyDown(e){_()(e.target).is(".sui-modal.sui-active input")&&13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),!this.props.enterDisabled&&this.props.onEnter&&this.props.onEnter(e))}render(){const e=this.getHeaderActions(),s=Object.assign({},{"sui-modal-sm":this.props.small,"sui-modal-lg":!this.props.small},this.props.dialogClasses);return(0,t.createElement)("div",{className:d()("sui-modal",s),onKeyDown:e=>this.handleKeyDown(e)},(0,t.createElement)("div",{role:"dialog",id:this.props.id,className:d()("sui-modal-content",this.props.id+"-modal"),"aria-modal":"true","aria-labelledby":this.props.id+"-modal-title","aria-describedby":this.props.id+"-modal-description"},(0,t.createElement)("div",{className:"sui-box",role:"document"},(0,t.createElement)("div",{className:d()("sui-box-header",{"sui-flatten sui-content-center sui-spacing-top--40":this.props.small})},this.props.beforeTitle,(0,t.createElement)("h3",{id:this.getTitleId(),className:d()("sui-box-title",{"sui-lg":this.props.small})},this.props.title),e),(0,t.createElement)("div",{className:d()("sui-box-body",{"sui-content-center":this.props.small})},this.props.description&&(0,t.createElement)("p",{className:"sui-description",id:this.props.id+"-modal-description"},this.props.description),this.props.children),this.props.footer&&(0,t.createElement)("div",{className:"sui-box-footer"},this.props.footer))))}getTitleId(){return this.props.id+"-modal-title"}getHeaderActions(){const e=this.getCloseButton();return this.props.small?e:this.props.headerActions?this.props.headerActions:(0,t.createElement)("div",{className:"sui-actions-right"},e)}getCloseButton(){return(0,t.createElement)("button",{id:this.props.id+"-close-button",type:"button",onClick:()=>this.props.onClose(),disabled:this.props.disableCloseButton,className:d()("sui-button-icon",{"sui-button-float--right":this.props.small})},(0,t.createElement)("span",{className:"sui-icon-close sui-md","aria-hidden":"true"}),(0,t.createElement)("span",{className:"sui-screen-reader-text"},(0,m.__)("Close this dialog window","wds")))}}var N=function(s,n){return class extends r().Component{static defaultProps={value:"",validateOnInit:!1,onChange:()=>!1};constructor(e){super(e);const{value:t,validateOnInit:s}=this.props;s?this.handleChange(t):(this.isValid=!0,this.errorMessage="")}validateValue(e){Array.isArray(n)?n.some((t=>{if(this.isValid=this.runValidator(t,e),this.errorMessage=this.isValid?"":this.getErrorMessage(t),!this.isValid)return!0})):(this.isValid=this.runValidator(n,e),this.errorMessage=this.isValid?"":this.getErrorMessage(n))}getErrorMessage(e){let t="";return e.getError instanceof Function&&(t=e.getError()),t}runValidator(e,t){let s;return e.isValid instanceof Function?s=e.isValid(t):e instanceof Function&&(s=e(t)),s}handleChange(e){this.validateValue(e),this.props.onChange(e,this.isValid)}render(){return(0,t.createElement)(s,e({},this.props,{isValid:this.isValid,errorMessage:this.errorMessage,onChange:e=>this.handleChange(e)}))}}};class k extends r().Component{static defaultProps={label:"",description:"",errorMessage:"",isValid:!0,isRequired:!1,formControl:!1};render(){const{label:e,isRequired:s,errorMessage:n,description:r,isValid:i}=this.props,a=this.props.formControl;return(0,t.createElement)("div",{className:d()("sui-form-field",{"sui-form-field-error":!i})},(0,t.createElement)("label",{className:"sui-label"},e," ",s&&(0,t.createElement)("span",{className:"wds-required-asterisk"},"*")),(0,t.createElement)(a,this.props),!i&&!!n&&(0,t.createElement)("span",{className:"sui-error-message",role:"alert"},n),!!r&&(0,t.createElement)("p",{className:"sui-description"},(0,t.createElement)("small",null,r)))}}class C extends r().Component{static defaultProps={id:"",value:"",placeholder:"",disabled:!1,onChange:()=>!1};render(){const{id:e,value:s,placeholder:n,disabled:r,onChange:i}=this.props;return(0,t.createElement)("input",{id:e,type:"text",className:"sui-form-control",onChange:e=>i(e.target.value),value:s,disabled:r,placeholder:n})}}class T extends r().Component{render(){return(0,t.createElement)(k,e({},this.props,{formControl:C}))}}const O=e=>e&&e.trim(),P=e=>{var t;const s=(new DOMParser).parseFromString(e,"text/html");return(null==s||null===(t=s.body)||void 0===t?void 0:t.textContent)===e},I=e=>M(e)||V(e),M=e=>e.startsWith("/")&&V("https://dummydomain.com"+e),D=e=>{try{new RegExp(e)}catch(e){return!1}return!0},V=e=>{let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol};class R{constructor(e,t){this.func=e,this.errorMessage=t}isValid(e){return this.func(e)}getError(){return this.errorMessage}}const A=N(T,[O,P]),F=N(T,[O,P]);class U extends r().Component{static defaultProps={keyword:"",url:"",editMode:!1,onClose:()=>!1,onSave:()=>!1};constructor(e){super(e);const t=this.props.editMode;this.state={keyword:this.props.keyword,keywordIsValid:t,url:this.props.url,urlIsValid:t}}handleKeywordChange(e,t){this.setState({keyword:e,keywordIsValid:t})}handleUrlChange(e,t){this.setState({url:e,urlIsValid:t})}render(){const e=()=>this.props.onSave(this.state.keyword,this.state.url),s=!this.state.keywordIsValid||!this.state.urlIsValid;return(0,t.createElement)(x,{id:"wds-custom-keywords",title:(0,m.__)("Add Custom Keywords","wds"),description:(0,m.__)("Choose your keywords, and then specify the URL to auto-link to.","wds"),enterDisabled:s,focusAfterOpen:"wds-custom-keyword",focusAfterClose:"wds-keyword-pair-new-button",onEnter:e,onClose:this.props.onClose,footer:(0,t.createElement)(r().Fragment,null,(0,t.createElement)("div",{className:"sui-flex-child-right"},(0,t.createElement)(h,{text:(0,m.__)("Cancel","wds"),ghost:!0,onClick:this.props.onClose})),(0,t.createElement)("div",{className:"sui-actions-right"},(0,t.createElement)(h,{text:(0,m.__)("Save","wds"),color:"blue",onClick:e,icon:"sui-icon-save",disabled:s})))},(0,t.createElement)(A,{id:"wds-custom-keyword",label:(0,t.createInterpolateElement)((0,m.__)("Keyword group <span>Usually related terms</span>","wds"),{span:(0,t.createElement)("span",null)}),value:this.state.keyword,placeholder:(0,m.__)("E.g. Cats, Kittens, Felines","wds"),onChange:(e,t)=>this.handleKeywordChange(e,t)}),(0,t.createElement)(F,{id:"wds-custom-link-url",label:(0,t.createInterpolateElement)((0,m.__)("Link URL <span>Both internal and external links are supported</span>","wds"),{span:(0,t.createElement)("span",null)}),value:this.state.url,placeholder:(0,m.__)("E.g. /cats","wds"),description:(0,t.createInterpolateElement)((0,m.__)("Formats include relative (E.g. <strong>/cats</strong>) or absolute URLs (E.g. <strong>https://www.website.com/cats</strong> or <strong>https://website.com/cats</strong>).","wds"),{strong:(0,t.createElement)("strong",null)}),onChange:(e,t)=>this.handleUrlChange(e,t)}))}}var j=s(7145),$=s.n(j);class L extends r().Component{static defaultProps={data:""};constructor(e){super(e),this.state={pairs:this.dataPropToPairs(),addingPair:!1,editingPair:!1,currentPageNumber:1},this.pairsPerPage=10}render(){const e=this.state.pairs,s=this.objectLength(e),n=s>0,i=this.getPairsPage();return(0,t.createElement)("div",{className:"wds-keyword-pairs"},n&&(0,t.createElement)("table",{className:"wds-keyword-pairs-existing sui-table"},(0,t.createElement)("tbody",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,(0,m.__)("Keyword","wds")),(0,t.createElement)("th",{colSpan:"2"},(0,m.__)("Auto-Linked URL","wds"))),Object.keys(i).map((e=>{const s=i[e];return(0,t.createElement)("tr",{className:"wds-keyword-pair",key:e},(0,t.createElement)("td",{className:"wds-pair-keyword"},s.keyword),(0,t.createElement)("td",{className:"wds-pair-url"},s.url),(0,t.createElement)("td",{className:"wds-pair-actions"},(0,t.createElement)(p,{buttons:[(0,t.createElement)(f,{onClick:()=>this.startEditingPair(e),icon:"sui-icon-pencil",text:(0,m.__)("Edit","wds")}),(0,t.createElement)(f,{onClick:()=>this.deletePair(e),icon:"sui-icon-trash",text:(0,m.__)("Delete","wds"),red:!0})]}),this.state.editingPair===e&&(0,t.createElement)(U,{keyword:s.keyword,url:s.url,editMode:!0,onClose:()=>this.stopEditingPair(),onSave:(t,s)=>this.editPair(e,t,s)})))})))),(0,t.createElement)("div",{className:"wds-keyword-pairs-actions"},(0,t.createElement)("div",{className:"wds-keyword-pair-new"},(0,t.createElement)(h,{id:"wds-keyword-pair-new-button",icon:"sui-icon-plus",onClick:()=>this.startAddingPair(),text:(0,m.__)("Add Link","wds")})),(0,t.createElement)(r().Fragment,null,s>this.pairsPerPage&&(0,t.createElement)(b,{count:s,currentPage:this.state.currentPageNumber,perPage:this.pairsPerPage,onClick:e=>this.changePage(e)}))),(0,t.createElement)("textarea",{name:"wds_autolinks_options[customkey]",style:{display:"none"},value:this.pairsToText(),readOnly:!0}),this.state.addingPair&&(0,t.createElement)(U,{onClose:()=>this.stopAddingPair(),onSave:(e,t)=>this.addPair(e,t)}))}dataPropToPairs(){return this.textToPairs(this.props.data)}objectLength(e){return Object.keys(e).length}changePage(e){this.setState({currentPageNumber:e})}getPairsPage(){return w.getPage(this.state.pairs,this.state.currentPageNumber,this.pairsPerPage)}textToPairs(e){const t=e.split(/\n/),s=[];return t.forEach((e=>{if(!e.includes(","))return;const t=e.split(",").map((e=>e.trim()));s.push({keyword:t.slice(0,-1).join(","),url:t.slice(-1).pop()})})),s}pairsToText(){const e=[];return this.state.pairs.forEach((t=>{var s,n;const r=null===(s=t.keyword)||void 0===s?void 0:s.trim(),i=null===(n=t.url)||void 0===n?void 0:n.trim();r&&i&&e.push(r+","+i)})),e.join("\n")}startEditingPair(e){this.setState({editingPair:e})}editPair(e,t,s){const n=this.state.pairs.slice();t.trim()&&s.trim()&&(n[e]={keyword:t,url:s},this.setState({pairs:n,editingPair:!1}))}stopEditingPair(){this.setState({editingPair:!1})}startAddingPair(){this.setState({addingPair:!0})}addPair(e,t){if(!e.trim()||!t.trim())return;const s=this.state.pairs.slice();s.splice(0,0,{keyword:e,url:t}),this.setState({pairs:$()(this.state.pairs,{$set:s}),addingPair:!1,currentPageNumber:1})}stopAddingPair(){this.setState({addingPair:!1})}deletePair(e){const t=this.state.pairs.filter(((t,s)=>s!==e));this.setState({pairs:t})}}var q=class{static get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"general";Array.isArray(e)||(e=[e]);let s=window["_wds_"+t]||{};return e.forEach((e=>{s=s&&s.hasOwnProperty(e)?s[e]:""})),s}static get_bool(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"general";return!!this.get(e,t)}};class Z extends r().Component{static defaultProps={id:"",checked:!1,disabled:!1,label:"",onChange:()=>!1};render(){return(0,t.createElement)("label",{className:"sui-checkbox"},(0,t.createElement)("input",{id:this.props.id,type:"checkbox",checked:this.props.checked,disabled:this.props.disabled,onChange:e=>this.props.onChange(e.target.checked)}),(0,t.createElement)("span",{"aria-hidden":"true"}),this.props.label&&(0,t.createElement)("span",null,this.props.label))}}class z extends r().Component{static defaultProps={id:"",title:"",source:"",destination:"",type:"",options:[],selected:!1,onToggle:()=>!1,onEdit:()=>!1,onDelete:()=>!1};render(){const{selected:e,title:s,source:n,destination:r,type:i,onToggle:a,onEdit:o,onDelete:l}=this.props;return(0,t.createElement)("div",{className:d()("wds-redirect-item sui-builder-field",{"wds-redirect-has-title":!!s})},(0,t.createElement)("div",{className:"wds-redirect-item-checkbox"},(0,t.createElement)(Z,{checked:e,onChange:e=>a(e)})),(0,t.createElement)("div",{className:"wds-redirect-item-source"},(0,t.createElement)("div",{className:"sui-tooltip","data-tooltip":n},(0,t.createElement)("div",{className:"wds-redirect-item-source-trimmed"},n)),s&&(0,t.createElement)("small",null,s)),(0,t.createElement)("div",{className:"wds-redirect-item-destination"},(0,t.createElement)("small",null,r)),(0,t.createElement)("div",{className:"wds-redirect-item-options"},301===i&&(0,t.createElement)("span",{className:"sui-tag sui-tag-sm"},(0,m.__)("Permanent","wds")),302===i&&(0,t.createElement)("span",{className:"sui-tag sui-tag-sm"},(0,m.__)("Temporary","wds")),this.options()),(0,t.createElement)("div",{className:"wds-redirect-item-dropdown"},(0,t.createElement)(p,{buttons:[(0,t.createElement)(f,{className:"wds-edit-redirect-item",icon:"sui-icon-pencil",text:(0,m.__)("Edit","wds"),onClick:()=>o()}),(0,t.createElement)(f,{className:"wds-remove-redirect-item",icon:"sui-icon-trash",text:(0,m.__)("Remove","wds"),red:!0,onClick:()=>l()})]})))}options(){const e={regex:(0,m.__)("Regex","wds")};return this.props.options.map((s=>(0,t.createElement)("span",{className:"sui-tag sui-tag-yellow sui-tag-sm",key:s},e[s])))}}class W extends r().Component{static defaultProps={small:!1,tagging:!1,placeholder:"",ajaxUrl:"",loadTextAjaxUrl:"",selectedValue:"",minimumResultsForSearch:10,minimumInputLength:3,multiple:!1,options:{},templateResult:!1,templateSelection:!1,disabled:!1,onSelect:()=>!1};constructor(e){super(e),this.props=e,this.state={loadingText:!1},this.selectElement=r().createRef(),this.selectElementContainer=r().createRef()}componentDidMount(){const e=_()(this.selectElement.current);e.addClass(this.props.small?"sui-select sui-select-sm":"sui-select").SUIselect2(this.getSelect2Args()),this.includeSelectedValueAsDynamicOption(),e.on("change",(e=>this.handleChange(e)))}includeSelectedValueAsDynamicOption(){this.props.selectedValue&&this.noOptionsAvailable()&&(this.props.tagging?Array.isArray(this.props.selectedValue)?this.props.selectedValue.forEach((e=>{this.addOption(e,e,!0)})):this.addOption(this.props.selectedValue,this.props.selectedValue,!0):this.props.loadTextAjaxUrl&&this.loadTextFromRemote())}loadTextFromRemote(){this.state.loadingText||(this.setState({loadingText:!0}),_().get(this.props.loadTextAjaxUrl,{id:this.props.selectedValue}).done((e=>{e&&e.results&&e.results.length&&e.results.forEach((e=>{this.addOption(e.id,e.text,!0)})),this.setState({loadingText:!1})})))}addOption(e,t,s){let n=new Option(t,e,!1,s);_()(this.selectElement.current).append(n).trigger("change")}noOptionsAvailable(){return!Object.keys(this.props.options).length}componentWillUnmount(){_()(this.selectElement.current).off().SUIselect2("destroy")}getSelect2Args(){let e={dropdownParent:_()(this.selectElementContainer.current),dropdownCssClass:"sui-select-dropdown",minimumResultsForSearch:this.props.minimumResultsForSearch,multiple:this.props.multiple,tagging:this.props.tagging};return this.props.placeholder&&(e.placeholder=this.props.placeholder),this.props.ajaxUrl&&(e.ajax={url:this.props.ajaxUrl},e.minimumInputLength=this.props.minimumInputLength),this.props.templateResult&&(e.templateResult=this.props.templateResult),this.props.templateSelection&&(e.templateSelection=this.props.templateSelection),this.props.ajaxUrl&&this.props.tagging&&!this.props.processResults&&(e.ajax.processResults=(e,t)=>e.results&&!e.results.length?{results:[{id:t.term,text:t.term}]}:e),this.props.processResults&&(e.ajax.processResults=this.props.processResults),e}handleChange(e){let t=e.target.value;this.props.multiple&&(t=Array.from(e.target.selectedOptions,(e=>e.value))),this.props.onSelect(t)}isOptGroup(e){return"object"==typeof e&&e.label&&e.options}printOptions(e){return Object.keys(e).map((s=>{const n=e[s];return this.isOptGroup(n)?(0,t.createElement)("optgroup",{key:s,label:n.label},this.printOptions(n.options)):(0,t.createElement)("option",{key:s,value:s},n)}))}render(){const e=this.props.options;let s;return s=Object.keys(e).length?this.printOptions(e):(0,t.createElement)("option",null),(0,t.createElement)("div",{ref:this.selectElementContainer},(0,t.createElement)("select",{disabled:this.state.loadingText||this.props.disabled,value:this.props.selectedValue,onChange:()=>!0,ref:this.selectElement,multiple:this.props.multiple},s))}}class H extends r().Component{render(){return(0,t.createElement)(k,e({},this.props,{formControl:W}))}}function G(){return q.get("default_redirect_type","autolinks")}class Y extends r().Component{static defaultProps={className:""};constructor(e){super(e),this.state={open:!1}}toggle(e){const t=e.target.className||"";("BUTTON"!==(e.target.tagName||"")||t.includes("sui-accordion-open-indicator"))&&this.setState({open:!this.state.open})}render(){return(0,t.createElement)("div",{className:d()("sui-accordion-item",this.props.className,{"sui-accordion-item--open":this.state.open})},(0,t.createElement)("div",{className:"sui-accordion-item-header",onClick:e=>this.toggle(e)},this.props.header),this.props.children&&(0,t.createElement)("div",{className:"sui-accordion-item-body"},(0,t.createElement)("div",{className:"sui-box"},(0,t.createElement)("div",{className:"sui-box-body"},this.props.children))))}}class B extends r().Component{render(){return(0,t.createElement)("button",{type:"button",className:"sui-button-icon sui-accordion-open-indicator"},(0,t.createElement)("span",{"aria-hidden":"true",className:"sui-icon-chevron-down"}),(0,t.createElement)("span",{className:"sui-screen-reader-text"},(0,m.__)("Expand item","wds")))}}class J extends r().Component{static defaultProps={tabs:{},value:"",onChange:()=>!1};render(){const{tabs:e,children:s,value:n,onChange:i}=this.props,a=!!r().Children.toArray(s).length;return(0,t.createElement)("div",{className:"sui-side-tabs"},(0,t.createElement)("div",{className:"sui-tabs-menu"},Object.keys(e).map((s=>(0,t.createElement)("div",{className:d()("sui-tab-item",{active:n===s}),key:s,onClick:()=>i(s)},e[s])))),a&&(0,t.createElement)("div",{className:"sui-tabs-content"},(0,t.createElement)("div",{className:"sui-tab-content active"},(0,t.createElement)("div",{className:"sui-border-frame"},s))))}}class Q extends r().Component{render(){return(0,t.createElement)(k,e({},this.props,{formControl:J}))}}class K extends r().Component{static defaultProps={type:"warning",message:""};render(){const e=this.getIcon(this.props.type);return(0,t.createElement)("div",{className:d()("sui-notice","sui-notice-"+this.props.type,this.props.className)},(0,t.createElement)("div",{className:"sui-notice-content"},(0,t.createElement)("div",{className:"sui-notice-message"},e&&(0,t.createElement)("span",{className:d()("sui-notice-icon sui-md",e),"aria-hidden":"true"}),(0,t.createElement)("p",null,this.props.message))))}getIcon(e){return{warning:"sui-icon-warning-alert",error:"sui-icon-warning-alert",info:"sui-icon-info",success:"sui-icon-check-tick",purple:"sui-icon-info","":"sui-icon-info"}[e]}}class X extends r().Component{static defaultProps={editMode:!1,id:"",title:"",source:"",destination:"",homeUrl:"",type:G(),options:[],inProgress:!1,onSave:()=>!1,onClose:()=>!1};constructor(e){super(e);const t=this.props.editMode;this.state={title:this.props.title,isTitleValid:!0,source:this.props.source,isSourceValid:t,sourceTouched:!1,destination:this.props.destination,isDestinationValid:t,type:this.props.type,options:this.props.options},this.titleField=N(T,[P]),this.sourceField=N(T,[O,P,this.urlValidator(),this.sourceContainsHomeUrlValidator()]),this.sourceRegexField=N(T,[O,new R(D,(0,m.__)("This regex is invalid.","wds"))]),this.destinationField=N(T,[O,P,this.urlValidator()])}sourceContainsHomeUrlValidator(){return new R((e=>{const t=M(e),s=e.startsWith(this.props.homeUrl);return t||s}),(0,m.__)("You need to enter a URL belonging to the current site.","wds"))}urlValidator(){return new R(I,(0,m.__)("You need to use an absolute URL like https://domain.com/new-url or start with a slash /new-url.","wds"))}handleTitleChange(e,t){this.setState({title:e,isTitleValid:t})}handleSourceChange(e,t){this.setState({source:e,isSourceValid:t,sourceTouched:!0})}handleDestinationChange(e,t){this.setState({destination:e,isDestinationValid:t})}handleOptionChange(e,t){let s=[...this.state.options];t?s.includes(e)||s.push(e):s=s.filter((t=>t!==e)),this.setState({options:s})}render(){const{source:e,isSourceValid:s,sourceTouched:n,destination:i,isDestinationValid:a,type:o,title:l,isTitleValid:c,options:u}=this.state,{id:d,inProgress:p,onClose:f,onSave:g,homeUrl:y}=this.props,w=()=>g({id:d,title:l.trim(),source:e.trim(),destination:i.trim(),type:o,options:u}),b=!c||!s||!a||p,v=u.includes("regex"),E=this.titleField,S=v?this.sourceRegexField:this.sourceField,_=this.destinationField,N=/[\[*^$\\{|]/g.test(e),k=v?(0,m.__)("Regex redirects will only match absolute URLs, such as <strong>%s/cats</strong>.","wds"):(0,m.__)("Allowed formats include relative URLs like <strong>/cats</strong> or absolute URLs such as <strong>%s/cats</strong>.","wds"),C=v?(0,m.sprintf)((0,m.__)("E.g. %s/(.*)-cats","wds"),this.removeTrailingSlash(y)):(0,m.__)("E.g. /cats","wds");return(0,t.createElement)(x,{id:"wds-add-redirect-form",title:(0,m.__)("Add Redirect","wds"),description:(0,t.createInterpolateElement)((0,m.sprintf)(k,this.removeTrailingSlash(y)),{strong:(0,t.createElement)("strong",null)}),onEnter:w,onClose:f,disableCloseButton:p,enterDisabled:b,focusAfterOpen:"wds-source-field",focusAfterClose:"wds-add-redirect-dashed-button",dialogClasses:{"sui-modal-md":!0,"sui-modal-sm":!1},small:!0},(0,t.createElement)(S,{id:"wds-source-field",label:(0,m.__)("Old URL","wds"),description:v?(0,m.__)("Enter regex to match absolute URLs.","wds"):"",value:e,placeholder:C,onChange:(e,t)=>this.handleSourceChange(e,t),disabled:p,validateOnInit:n||O(e)}),N&&!v&&(0,t.createElement)(K,{type:"info",message:(0,t.createInterpolateElement)((0,m.__)("To configure a regex redirect, you must first select <strong>Regex</strong> in the Advanced settings below.","wds"),{strong:(0,t.createElement)("strong",null)})}),(0,t.createElement)(_,{label:(0,m.__)("New URL","wds"),value:i,placeholder:(0,m.__)("E.g. /cats-new","wds"),onChange:(e,t)=>this.handleDestinationChange(e,t),disabled:p}),(0,t.createElement)(H,{label:(0,m.__)("Redirect Type","wds"),description:(0,m.__)("This tells search engines whether to keep indexing the old page, or replace it with the new page.","wds"),options:{302:(0,m.__)("Temporary","wds"),301:(0,m.__)("Permanent","wds")},selectedValue:o,onSelect:e=>this.setState({type:e}),disabled:p}),(0,t.createElement)("div",{className:"sui-accordion sui-accordion-flushed"},(0,t.createElement)(Y,{header:(0,t.createElement)(r().Fragment,null,(0,t.createElement)("div",{className:"sui-accordion-item-title sui-accordion-col-10"},(0,m.__)("Advanced","wds")),(0,t.createElement)("div",{className:"sui-accordion-col-2"},(0,t.createElement)(B,null)))},(0,t.createElement)(E,{id:"wds-title-field",label:(0,t.createElement)("span",null,(0,t.createElement)("span",null,(0,m.__)("Label","wds"))," ",(0,m.__)("(Optional)","wds")),description:(0,m.__)("Use labels to differentiate long or similar URLs.","wds"),value:l,placeholder:(0,m.__)("E.g. Press release","wds"),onChange:(e,t)=>this.handleTitleChange(e,t),disabled:p}),(0,t.createElement)(Q,{label:(0,m.__)("Regular Expression","wds"),description:(0,t.createInterpolateElement)((0,m.__)("Choose whether the strings entered into the Old URL and New URL fields above should be treated as plain text URLs or regular expressions (Regex). Note that only valid regular expressions are allowed. <a>Learn more</a> about Regex.","wds"),{a:(0,t.createElement)("a",{target:"_blank",href:"https://wpmudev.com/docs/wpmu-dev-plugins/smartcrawl/#about-regex-redirects"})}),tabs:{0:(0,m.__)("Plain Text","wds"),1:(0,m.__)("Regex","wds")},value:v?"1":"0",onChange:e=>this.handleOptionChange("regex","1"===e)}))),(0,t.createElement)("div",{style:{display:"flex",justifyContent:"space-between"}},(0,t.createElement)(h,{text:(0,m.__)("Cancel","wds"),ghost:!0,onClick:f,disabled:p}),(0,t.createElement)(h,{text:(0,m.__)("Apply Redirect","wds"),color:"blue",onClick:w,icon:"sui-icon-save",disabled:b,loading:p})))}removeTrailingSlash(e){return e.endsWith("/")?e.slice(0,-1):e}}var ee=window.lodash;class te extends r().Component{static defaultProps={homeUrl:"",inProgress:!1,onSave:()=>!1,onClose:()=>!1};constructor(e){super(e),this.state={destination:"",isDestinationValid:!1,type:G()},this.destinationField=N(T,[O,P,this.urlValidator()])}handleDestinationChange(e,t){this.setState({destination:e,isDestinationValid:t})}urlValidator(){return new R(I,(0,m.__)("You need to use an absolute URL like https://domain.com/new-url or start with a slash /new-url.","wds"))}render(){const{onSave:e,onClose:s,inProgress:n}=this.props,{type:r,destination:i,isDestinationValid:a}=this.state,o=()=>e(i.trim(),r),l=!a||n,c=this.destinationField;return(0,t.createElement)(x,{id:"wds-bulk-update-redirects",title:(0,m.__)("Bulk Update","wds"),description:(0,m.__)("Choose which bulk update actions you wish to apply. This will override the existing values for the selected items.","wds"),onEnter:o,onClose:s,disableCloseButton:n,enterDisabled:l,focusAfterOpen:"wds-destination-field",focusAfterClose:"wds-add-redirect-dashed-button",small:!0},(0,t.createElement)(c,{id:"wds-destination-field",label:(0,m.__)("New URL","wds"),value:i,placeholder:(0,m.__)("E.g. /cats-new","wds"),onChange:(e,t)=>this.handleDestinationChange(e,t),disabled:n}),(0,t.createElement)(H,{label:(0,m.__)("Redirect Type","wds"),description:(0,m.__)("This tells search engines whether to keep indexing the old page, or replace it with the new page.","wds"),options:{302:(0,m.__)("Temporary","wds"),301:(0,m.__)("Permanent","wds")},selectedValue:r,onSelect:e=>this.setState({type:e}),disabled:n}),(0,t.createElement)("div",{style:{display:"flex",justifyContent:"space-between"}},(0,t.createElement)(h,{text:(0,m.__)("Cancel","wds"),ghost:!0,onClick:s,disabled:n}),(0,t.createElement)(h,{id:"wds-redirects-save-bulk-changes",text:(0,m.__)("Save","wds"),color:"blue",onClick:o,icon:"sui-icon-save",disabled:l,loading:n})))}}class se{static getQueryParam(e){const t=location.search;return new URLSearchParams(t).get(e)}static removeQueryParam(e){const t=location.search,s=new URLSearchParams(t);if(!s.get(e))return;s.delete(e);const n=location.href.replace(t,"?"+s.toString());history.replaceState({},"",n)}static getUrlHost(e){const t=document.createElement("a");return t.href=e,t.host}}var ne=ajaxurl,re=s.n(ne);class ie{static post(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(n,r){const i=Object.assign({},{action:e,_wds_nonce:t},s);_().post(re(),i).done((e=>{var t;e.success?n(null==e?void 0:e.data):r(null==e||null===(t=e.data)||void 0===t?void 0:t.message)})).fail((()=>r()))}))}static uploadFile(e,t,s){const n=new FormData;return n.append("file",s),n.append("action",e),n.append("_wds_nonce",t),new Promise(((e,t)=>{_().ajax({url:re(),cache:!1,contentType:!1,processData:!1,type:"post",data:n}).done((s=>{var n;s.success?e(null==s?void 0:s.data):t(null==s||null===(n=s.data)||void 0===n?void 0:n.message)})).fail((()=>t()))}))}}class ae extends r().Component{static defaultProps={id:"",title:"",description:"",inProgress:!1,onClose:()=>!1,onDelete:()=>!1};render(){const{id:e,title:s,description:n,inProgress:r,onClose:i,onDelete:a}=this.props,o=e+"-cancel";return(0,t.createElement)(x,{id:e,title:s,description:n,small:!0,disableCloseButton:r,focusAfterOpen:o,onClose:i},(0,t.createElement)(h,{id:o,ghost:!0,disabled:r,text:(0,m.__)("Cancel","wds"),onClick:i}),(0,t.createElement)(h,{color:"red",loading:r,icon:"sui-icon-trash",text:(0,m.__)("Delete","wds"),onClick:a}))}}class oe extends r().Component{static defaultProps={id:"",acceptType:"",onChange:()=>!1};constructor(e){super(e),this.state={file:null}}handleFileChange(e){const t=e.target.files[0];this.changeFile(t)}handleRemoval(){this.changeFile(null)}changeFile(e){this.setState({file:e}),this.props.onChange(e)}render(){const{id:e,acceptType:s}=this.props,{file:n}=this.state,r=!!n,i=r&&(null==n?void 0:n.name);return(0,t.createElement)("div",{className:d()("sui-upload",{"sui-has_file":r,"sui-file-upload sui-file-browser":!r})},(0,t.createElement)("input",{id:e,type:"file",readOnly:"readonly",accept:s,value:"",onChange:e=>this.handleFileChange(e)}),(0,t.createElement)("label",{className:"sui-upload-button",htmlFor:e},(0,t.createElement)("span",{className:"sui-icon-upload-cloud","aria-hidden":"true"}),(0,m.__)("Upload file","wds")),(0,t.createElement)("div",{className:"sui-upload-file"},(0,t.createElement)("span",null,i),(0,t.createElement)("button",{type:"button","aria-label":(0,m.__)("Remove file","wds"),onClick:()=>this.handleRemoval()},(0,t.createElement)("span",{className:"sui-icon-close","aria-hidden":"true"}))))}}class le extends r().Component{render(){return(0,t.createElement)(k,e({},this.props,{formControl:oe}))}}class ce{static triggerFileDownload(e,t){const s=document.createElement("a"),n=new Blob([e],{type:"application/json"}),r=window.URL.createObjectURL(n);s.href=r,s.download=t,s.click(),window.URL.revokeObjectURL(r)}}class ue extends r().Component{static defaultProps={inProgress:!1,csvTypes:[],onClose:()=>!1,onImport:()=>!1};constructor(e){super(e),this.state={file:null,sizeError:!1,typeError:!1}}handleFileChange(e){this.setState({file:e,sizeError:(null==e?void 0:e.size)&&(null==e?void 0:e.size)>1e6,typeError:e&&!this.isFileTypeValid(e)})}isFileTypeValid(e){return((null==e?void 0:e.name)+"").endsWith(".csv")&&this.props.csvTypes.includes(null==e?void 0:e.type)}render(){const{inProgress:e,onClose:s,onImport:n}=this.props,{file:i,sizeError:a,typeError:o}=this.state,l=(0,t.createInterpolateElement)((0,m.__)("Choose a CSV file (.csv) with a max-size of 1MB containing your redirects, formatted as follows: <strong>old-url</strong>, <strong>new-url</strong>, redirect-type <strong>301 or 302</strong>, is-regex <strong>0 or 1</strong>, <strong>label</strong> (optional). <a>Download CSV template</a>.","wds"),{strong:(0,t.createElement)("strong",null),a:(0,t.createElement)("a",{href:"#",onClick:e=>this.downloadTemplateFile(e)})}),c=!i||a||o;return(0,t.createElement)(x,{id:"wds-import-redirects-modal",title:(0,m.__)("Import Redirects","wds"),description:(0,m.__)("Import redirects from a CSV file below.","wds"),small:!0,focusAfterOpen:"wds-import-redirects-modal-close-button",focusAfterClose:"wds-import-redirects-button",onClose:s,disableCloseButton:e,footer:(0,t.createElement)(r().Fragment,null,(0,t.createElement)("div",{className:"sui-flex-child-right"},(0,t.createElement)(h,{text:(0,m.__)("Cancel","wds"),ghost:!0,onClick:s,disabled:e})),(0,t.createElement)("div",{className:"sui-actions-right"},(0,t.createElement)(h,{text:(0,m.__)("Import","wds"),color:"blue",onClick:()=>n(i),icon:"sui-icon-upload-cloud",disabled:c,loading:e})))},(0,t.createElement)(le,{id:"wds-import-redirects-file",acceptType:".csv",label:(0,m.__)("Upload CSV file","wds"),onChange:e=>this.handleFileChange(e)}),a&&(0,t.createElement)(K,{type:"error",message:(0,m.__)("Oops! The uploaded file is too large, please select a file not larger than 1MB.","wds")}),o&&(0,t.createElement)(K,{type:"error",message:(0,m.__)("Whoops! Only .csv filetypes are allowed.","wds")}),(0,t.createElement)("p",{className:"sui-description",style:{textAlign:"left"}},(0,t.createElement)("small",null,l)))}downloadTemplateFile(e){e.preventDefault(),e.stopPropagation(),ce.triggerFileDownload('"/old-url-1","/new-url-1",302,1,"Temporary Regex Redirect"\n"/old-url-2","/new-url-2",301,0,"Permanent Plain Redirect"',"smartcrawl-redirects-csv-template.csv")}}class de extends Error{}class he extends de{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class me extends de{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class pe extends de{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class fe extends de{}class ge extends de{constructor(e){super(`Invalid unit ${e}`)}}class ye extends de{}class we extends de{constructor(){super("Zone is an abstract class")}}const be="numeric",ve="short",Ee="long",Se={year:be,month:be,day:be},_e={year:be,month:ve,day:be},xe={year:be,month:ve,day:be,weekday:ve},Ne={year:be,month:Ee,day:be},ke={year:be,month:Ee,day:be,weekday:Ee},Ce={hour:be,minute:be},Te={hour:be,minute:be,second:be},Oe={hour:be,minute:be,second:be,timeZoneName:ve},Pe={hour:be,minute:be,second:be,timeZoneName:Ee},Ie={hour:be,minute:be,hourCycle:"h23"},Me={hour:be,minute:be,second:be,hourCycle:"h23"},De={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:ve},Ve={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:Ee},Re={year:be,month:be,day:be,hour:be,minute:be},Ae={year:be,month:be,day:be,hour:be,minute:be,second:be},Fe={year:be,month:ve,day:be,hour:be,minute:be},Ue={year:be,month:ve,day:be,hour:be,minute:be,second:be},je={year:be,month:ve,day:be,weekday:ve,hour:be,minute:be},$e={year:be,month:Ee,day:be,hour:be,minute:be,timeZoneName:ve},Le={year:be,month:Ee,day:be,hour:be,minute:be,second:be,timeZoneName:ve},qe={year:be,month:Ee,day:be,weekday:Ee,hour:be,minute:be,timeZoneName:Ee},Ze={year:be,month:Ee,day:be,weekday:Ee,hour:be,minute:be,second:be,timeZoneName:Ee};function ze(e){return void 0===e}function We(e){return"number"==typeof e}function He(e){return"number"==typeof e&&e%1==0}function Ge(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function Ye(e,t,s){if(0!==e.length)return e.reduce(((e,n)=>{const r=[t(n),n];return e&&s(e[0],r[0])===e[0]?e:r}),null)[1]}function Be(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Je(e,t,s){return He(e)&&e>=t&&e<=s}function Qe(e,t=2){let s;return s=e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0"),s}function Ke(e){return ze(e)||null===e||""===e?void 0:parseInt(e,10)}function Xe(e){return ze(e)||null===e||""===e?void 0:parseFloat(e)}function et(e){if(!ze(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function tt(e,t,s=!1){const n=10**t;return(s?Math.trunc:Math.round)(e*n)/n}function st(e){return e%4==0&&(e%100!=0||e%400==0)}function nt(e){return st(e)?366:365}function rt(e,t){const s=(n=t-1)-12*Math.floor(n/12)+1;var n;return 2===s?st(e+(t-s)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][s-1]}function it(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function at(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,s=e-1,n=(s+Math.floor(s/4)-Math.floor(s/100)+Math.floor(s/400))%7;return 4===t||3===n?53:52}function ot(e){return e>99?e:e>60?1900+e:2e3+e}function lt(e,t,s,n=null){const r=new Date(e),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(i.timeZone=n);const a={timeZoneName:t,...i},o=new Intl.DateTimeFormat(s,a).formatToParts(r).find((e=>"timezonename"===e.type.toLowerCase()));return o?o.value:null}function ct(e,t){let s=parseInt(e,10);Number.isNaN(s)&&(s=0);const n=parseInt(t,10)||0;return 60*s+(s<0||Object.is(s,-0)?-n:n)}function ut(e){const t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new ye(`Invalid unit value ${e}`);return t}function dt(e,t){const s={};for(const n in e)if(Be(e,n)){const r=e[n];if(null==r)continue;s[t(n)]=ut(r)}return s}function ht(e,t){const s=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),r=e>=0?"+":"-";switch(t){case"short":return`${r}${Qe(s,2)}:${Qe(n,2)}`;case"narrow":return`${r}${s}${n>0?`:${n}`:""}`;case"techie":return`${r}${Qe(s,2)}${Qe(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function mt(e){return function(e,t){return["hour","minute","second","millisecond"].reduce(((t,s)=>(t[s]=e[s],t)),{})}(e)}const pt=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,ft=["January","February","March","April","May","June","July","August","September","October","November","December"],gt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],yt=["J","F","M","A","M","J","J","A","S","O","N","D"];function wt(e){switch(e){case"narrow":return[...yt];case"short":return[...gt];case"long":return[...ft];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const bt=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],vt=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Et=["M","T","W","T","F","S","S"];function St(e){switch(e){case"narrow":return[...Et];case"short":return[...vt];case"long":return[...bt];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const _t=["AM","PM"],xt=["Before Christ","Anno Domini"],Nt=["BC","AD"],kt=["B","A"];function Ct(e){switch(e){case"narrow":return[...kt];case"short":return[...Nt];case"long":return[...xt];default:return null}}function Tt(e,t){let s="";for(const n of e)n.literal?s+=n.val:s+=t(n.val);return s}const Ot={D:Se,DD:_e,DDD:Ne,DDDD:ke,t:Ce,tt:Te,ttt:Oe,tttt:Pe,T:Ie,TT:Me,TTT:De,TTTT:Ve,f:Re,ff:Fe,fff:$e,ffff:qe,F:Ae,FF:Ue,FFF:Le,FFFF:Ze};class Pt{static create(e,t={}){return new Pt(e,t)}static parseFormat(e){let t=null,s="",n=!1;const r=[];for(let i=0;i<e.length;i++){const a=e.charAt(i);"'"===a?(s.length>0&&r.push({literal:n,val:s}),t=null,s="",n=!n):n||a===t?s+=a:(s.length>0&&r.push({literal:!1,val:s}),s=a,t=a)}return s.length>0&&r.push({literal:n,val:s}),r}static macroTokenToFormatOpts(e){return Ot[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}formatDateTime(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).format()}formatDateTimeParts(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).formatToParts()}resolvedOptions(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return Qe(e,t);const s={...this.opts};return t>0&&(s.padTo=t),this.loc.numberFormatter(s).format(e)}formatDateTimeFromString(e,t){const s="en"===this.loc.listingMode(),n=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,r=(t,s)=>this.loc.extract(e,t,s),i=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",a=(t,n)=>s?function(e,t){return wt(t)[e.month-1]}(e,t):r(n?{month:t}:{month:t,day:"numeric"},"month"),o=(t,n)=>s?function(e,t){return St(t)[e.weekday-1]}(e,t):r(n?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),l=t=>{const s=Pt.macroTokenToFormatOpts(t);return s?this.formatWithSystemDefault(e,s):t},c=t=>s?function(e,t){return Ct(t)[e.year<0?0:1]}(e,t):r({era:t},"era");return Tt(Pt.parseFormat(t),(t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return i({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return i({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return i({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return s?function(e){return _t[e.hour<12?0:1]}(e):r({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return n?r({day:"numeric"},"day"):this.num(e.day);case"dd":return n?r({day:"2-digit"},"day"):this.num(e.day,2);case"c":case"E":return this.num(e.weekday);case"ccc":return o("short",!0);case"cccc":return o("long",!0);case"ccccc":return o("narrow",!0);case"EEE":return o("short",!1);case"EEEE":return o("long",!1);case"EEEEE":return o("narrow",!1);case"L":return n?r({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return n?r({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return n?r({month:"numeric"},"month"):this.num(e.month);case"MM":return n?r({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return n?r({year:"numeric"},"year"):this.num(e.year);case"yy":return n?r({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return n?r({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return n?r({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return l(t)}}))}formatDurationFromString(e,t){const s=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=Pt.parseFormat(t),r=n.reduce(((e,{literal:t,val:s})=>t?e:e.concat(s)),[]);return Tt(n,(e=>t=>{const n=s(t);return n?this.num(e.get(n),t.length):t})(e.shiftTo(...r.map(s).filter((e=>e)))))}}class It{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class Mt{get type(){throw new we}get name(){throw new we}get ianaName(){return this.name}get isUniversal(){throw new we}offsetName(e,t){throw new we}formatOffset(e,t){throw new we}offset(e){throw new we}equals(e){throw new we}get isValid(){throw new we}}let Dt=null;class Vt extends Mt{static get instance(){return null===Dt&&(Dt=new Vt),Dt}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:s}){return lt(e,t,s)}formatOffset(e,t){return ht(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"system"===e.type}get isValid(){return!0}}let Rt={};const At={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let Ft={};class Ut extends Mt{static create(e){return Ft[e]||(Ft[e]=new Ut(e)),Ft[e]}static resetCache(){Ft={},Rt={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}}constructor(e){super(),this.zoneName=e,this.valid=Ut.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:s}){return lt(e,t,s,this.name)}formatOffset(e,t){return ht(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const s=(n=this.name,Rt[n]||(Rt[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Rt[n]);var n;let[r,i,a,o,l,c,u]=s.formatToParts?function(e,t){const s=e.formatToParts(t),n=[];for(let e=0;e<s.length;e++){const{type:t,value:r}=s[e],i=At[t];"era"===t?n[i]=r:ze(i)||(n[i]=parseInt(r,10))}return n}(s,t):function(e,t){const s=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(s),[,r,i,a,o,l,c,u]=n;return[a,r,i,o,l,c,u]}(s,t);"BC"===o&&(r=1-Math.abs(r));let d=+t;const h=d%1e3;return d-=h>=0?h:1e3+h,(it({year:r,month:i,day:a,hour:24===l?0:l,minute:c,second:u,millisecond:0})-d)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let jt=null;class $t extends Mt{static get utcInstance(){return null===jt&&(jt=new $t(0)),jt}static instance(e){return 0===e?$t.utcInstance:new $t(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new $t(ct(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${ht(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${ht(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return ht(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class Lt extends Mt{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function qt(e,t){if(ze(e)||null===e)return t;if(e instanceof Mt)return e;if("string"==typeof e){const s=e.toLowerCase();return"local"===s||"system"===s?t:"utc"===s||"gmt"===s?$t.utcInstance:$t.parseSpecifier(s)||Ut.create(e)}return We(e)?$t.instance(e):"object"==typeof e&&e.offset&&"number"==typeof e.offset?e:new Lt(e)}let Zt,zt=()=>Date.now(),Wt="system",Ht=null,Gt=null,Yt=null;class Bt{static get now(){return zt}static set now(e){zt=e}static set defaultZone(e){Wt=e}static get defaultZone(){return qt(Wt,Vt.instance)}static get defaultLocale(){return Ht}static set defaultLocale(e){Ht=e}static get defaultNumberingSystem(){return Gt}static set defaultNumberingSystem(e){Gt=e}static get defaultOutputCalendar(){return Yt}static set defaultOutputCalendar(e){Yt=e}static get throwOnInvalid(){return Zt}static set throwOnInvalid(e){Zt=e}static resetCaches(){as.resetCache(),Ut.resetCache()}}let Jt={},Qt={};function Kt(e,t={}){const s=JSON.stringify([e,t]);let n=Qt[s];return n||(n=new Intl.DateTimeFormat(e,t),Qt[s]=n),n}let Xt={},es={},ts=null;function ss(e,t,s,n,r){const i=e.listingMode(s);return"error"===i?null:"en"===i?n(t):r(t)}class ns{constructor(e,t,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;const{padTo:n,floor:r,...i}=s;if(!t||Object.keys(i).length>0){const t={useGrouping:!1,...s};s.padTo>0&&(t.minimumIntegerDigits=s.padTo),this.inf=function(e,t={}){const s=JSON.stringify([e,t]);let n=Xt[s];return n||(n=new Intl.NumberFormat(e,t),Xt[s]=n),n}(e,t)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return Qe(this.floor?Math.floor(e):tt(e,3),this.padTo)}}class rs{constructor(e,t,s){let n;if(this.opts=s,e.zone.isUniversal){const t=e.offset/60*-1,r=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`;0!==e.offset&&Ut.create(r).valid?(n=r,this.dt=e):(n="UTC",s.timeZoneName?this.dt=e:this.dt=0===e.offset?e:nr.fromMillis(e.ts+60*e.offset*1e3))}else"system"===e.zone.type?this.dt=e:(this.dt=e,n=e.zone.name);const r={...this.opts};n&&(r.timeZone=n),this.dtf=Kt(t,r)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class is{constructor(e,t,s){this.opts={style:"long",...s},!t&&Ge()&&(this.rtf=function(e,t={}){const{base:s,...n}=t,r=JSON.stringify([e,n]);let i=es[r];return i||(i=new Intl.RelativeTimeFormat(e,t),es[r]=i),i}(e,s))}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,s="always",n=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===s&&i){const s="days"===e;switch(t){case 1:return s?"tomorrow":`next ${r[e][0]}`;case-1:return s?"yesterday":`last ${r[e][0]}`;case 0:return s?"today":`this ${r[e][0]}`}}const a=Object.is(t,-0)||t<0,o=Math.abs(t),l=1===o,c=r[e],u=n?l?c[1]:c[2]||c[1]:l?r[e][0]:e;return a?`${o} ${u} ago`:`in ${o} ${u}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}class as{static fromOpts(e){return as.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,s,n=!1){const r=e||Bt.defaultLocale,i=r||(n?"en-US":ts||(ts=(new Intl.DateTimeFormat).resolvedOptions().locale,ts)),a=t||Bt.defaultNumberingSystem,o=s||Bt.defaultOutputCalendar;return new as(i,a,o,r)}static resetCache(){ts=null,Qt={},Xt={},es={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:s}={}){return as.create(e,t,s)}constructor(e,t,s,n){const[r,i,a]=function(e){const t=e.indexOf("-u-");if(-1===t)return[e];{let s;const n=e.substring(0,t);try{s=Kt(e).resolvedOptions()}catch(e){s=Kt(n).resolvedOptions()}const{numberingSystem:r,calendar:i}=s;return[n,r,i]}}(e);this.locale=r,this.numberingSystem=t||i||null,this.outputCalendar=s||a||null,this.intl=function(e,t,s){return s||t?(e+="-u",s&&(e+=`-ca-${s}`),t&&(e+=`-nu-${t}`),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}get fastNumbers(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?as.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1):this}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1,s=!0){return ss(this,e,s,wt,(()=>{const s=t?{month:e,day:"numeric"}:{month:e},n=t?"format":"standalone";return this.monthsCache[n][e]||(this.monthsCache[n][e]=function(e){const t=[];for(let s=1;s<=12;s++){const n=nr.utc(2016,s,1);t.push(e(n))}return t}((e=>this.extract(e,s,"month")))),this.monthsCache[n][e]}))}weekdays(e,t=!1,s=!0){return ss(this,e,s,St,(()=>{const s=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},n=t?"format":"standalone";return this.weekdaysCache[n][e]||(this.weekdaysCache[n][e]=function(e){const t=[];for(let s=1;s<=7;s++){const n=nr.utc(2016,11,13+s);t.push(e(n))}return t}((e=>this.extract(e,s,"weekday")))),this.weekdaysCache[n][e]}))}meridiems(e=!0){return ss(this,void 0,e,(()=>_t),(()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[nr.utc(2016,11,13,9),nr.utc(2016,11,13,19)].map((t=>this.extract(t,e,"dayperiod")))}return this.meridiemCache}))}eras(e,t=!0){return ss(this,e,t,Ct,(()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[nr.utc(-40,1,1),nr.utc(2017,1,1)].map((e=>this.extract(e,t,"era")))),this.eraCache[e]}))}extract(e,t,s){const n=this.dtFormatter(e,t).formatToParts().find((e=>e.type.toLowerCase()===s));return n?n.value:null}numberFormatter(e={}){return new ns(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new rs(e,this.intl,t)}relFormatter(e={}){return new is(this.intl,this.isEnglish(),e)}listFormatter(e={}){return function(e,t={}){const s=JSON.stringify([e,t]);let n=Jt[s];return n||(n=new Intl.ListFormat(e,t),Jt[s]=n),n}(this.intl,e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}function os(...e){const t=e.reduce(((e,t)=>e+t.source),"");return RegExp(`^${t}$`)}function ls(...e){return t=>e.reduce((([e,s,n],r)=>{const[i,a,o]=r(t,n);return[{...e,...i},a||s,o]}),[{},null,1]).slice(0,2)}function cs(e,...t){if(null==e)return[null,null];for(const[s,n]of t){const t=s.exec(e);if(t)return n(t)}return[null,null]}function us(...e){return(t,s)=>{const n={};let r;for(r=0;r<e.length;r++)n[e[r]]=Ke(t[s+r]);return[n,null,s+r]}}const ds=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,hs=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ms=RegExp(`${hs.source}(?:${ds.source}?(?:\\[(${pt.source})\\])?)?`),ps=RegExp(`(?:T${ms.source})?`),fs=us("weekYear","weekNumber","weekDay"),gs=us("year","ordinal"),ys=RegExp(`${hs.source} ?(?:${ds.source}|(${pt.source}))?`),ws=RegExp(`(?: ${ys.source})?`);function bs(e,t,s){const n=e[t];return ze(n)?s:Ke(n)}function vs(e,t){return[{hours:bs(e,t,0),minutes:bs(e,t+1,0),seconds:bs(e,t+2,0),milliseconds:et(e[t+3])},null,t+4]}function Es(e,t){const s=!e[t]&&!e[t+1],n=ct(e[t+1],e[t+2]);return[{},s?null:$t.instance(n),t+3]}function Ss(e,t){return[{},e[t]?Ut.create(e[t]):null,t+1]}const _s=RegExp(`^T?${hs.source}$`),xs=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Ns(e){const[t,s,n,r,i,a,o,l,c]=e,u="-"===t[0],d=l&&"-"===l[0],h=(e,t=!1)=>void 0!==e&&(t||e&&u)?-e:e;return[{years:h(Xe(s)),months:h(Xe(n)),weeks:h(Xe(r)),days:h(Xe(i)),hours:h(Xe(a)),minutes:h(Xe(o)),seconds:h(Xe(l),"-0"===l),milliseconds:h(et(c),d)}]}const ks={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Cs(e,t,s,n,r,i,a){const o={year:2===t.length?ot(Ke(t)):Ke(t),month:gt.indexOf(s)+1,day:Ke(n),hour:Ke(r),minute:Ke(i)};return a&&(o.second=Ke(a)),e&&(o.weekday=e.length>3?bt.indexOf(e)+1:vt.indexOf(e)+1),o}const Ts=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Os(e){const[,t,s,n,r,i,a,o,l,c,u,d]=e,h=Cs(t,r,n,s,i,a,o);let m;return m=l?ks[l]:c?0:ct(u,d),[h,new $t(m)]}const Ps=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Is=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Ms=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Ds(e){const[,t,s,n,r,i,a,o]=e;return[Cs(t,r,n,s,i,a,o),$t.utcInstance]}function Vs(e){const[,t,s,n,r,i,a,o]=e;return[Cs(t,o,s,n,r,i,a),$t.utcInstance]}const Rs=os(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,ps),As=os(/(\d{4})-?W(\d\d)(?:-?(\d))?/,ps),Fs=os(/(\d{4})-?(\d{3})/,ps),Us=os(ms),js=ls((function(e,t){return[{year:bs(e,t),month:bs(e,t+1,1),day:bs(e,t+2,1)},null,t+3]}),vs,Es,Ss),$s=ls(fs,vs,Es,Ss),Ls=ls(gs,vs,Es,Ss),qs=ls(vs,Es,Ss),Zs=ls(vs),zs=os(/(\d{4})-(\d\d)-(\d\d)/,ws),Ws=os(ys),Hs=ls(vs,Es,Ss),Gs={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Ys={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...Gs},Bs={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...Gs},Js=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Qs=Js.slice(0).reverse();function Ks(e,t,s=!1){const n={values:s?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy};return new en(n)}function Xs(e,t,s,n,r){const i=e[r][s],a=t[s]/i,o=Math.sign(a)!==Math.sign(n[r])&&0!==n[r]&&Math.abs(a)<=1?function(e){return e<0?Math.floor(e):Math.ceil(e)}(a):Math.trunc(a);n[r]+=o,t[s]-=o*i}class en{constructor(e){const t="longterm"===e.conversionAccuracy||!1;this.values=e.values,this.loc=e.loc||as.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=t?Bs:Ys,this.isLuxonDuration=!0}static fromMillis(e,t){return en.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(null==e||"object"!=typeof e)throw new ye("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new en({values:dt(e,en.normalizeUnit),loc:as.fromObject(t),conversionAccuracy:t.conversionAccuracy})}static fromDurationLike(e){if(We(e))return en.fromMillis(e);if(en.isDuration(e))return e;if("object"==typeof e)return en.fromObject(e);throw new ye(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[s]=function(e){return cs(e,[xs,Ns])}(e);return s?en.fromObject(s,t):en.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[s]=function(e){return cs(e,[_s,Zs])}(e);return s?en.fromObject(s,t):en.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new ye("need to specify a reason the Duration is invalid");const s=e instanceof It?e:new It(e,t);if(Bt.throwOnInvalid)throw new pe(s);return new en({invalid:s})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new ge(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const s={...t,floor:!1!==t.round&&!1!==t.floor};return this.isValid?Pt.create(this.loc,s).formatDurationFromString(this,e):"Invalid Duration"}toHuman(e={}){const t=Js.map((t=>{const s=this.values[t];return ze(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:t.slice(0,-1)}).format(s)})).filter((e=>e));return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=tt(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();if(t<0||t>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};const s=this.shiftTo("hours","minutes","seconds","milliseconds");let n="basic"===e.format?"hhmm":"hh:mm";e.suppressSeconds&&0===s.seconds&&0===s.milliseconds||(n+="basic"===e.format?"ss":":ss",e.suppressMilliseconds&&0===s.milliseconds||(n+=".SSS"));let r=s.toFormat(n);return e.includePrefix&&(r="T"+r),r}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=en.fromDurationLike(e),s={};for(const e of Js)(Be(t.values,e)||Be(this.values,e))&&(s[e]=t.get(e)+this.get(e));return Ks(this,{values:s},!0)}minus(e){if(!this.isValid)return this;const t=en.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const s of Object.keys(this.values))t[s]=ut(e(this.values[s],s));return Ks(this,{values:t},!0)}get(e){return this[en.normalizeUnit(e)]}set(e){return this.isValid?Ks(this,{values:{...this.values,...dt(e,en.normalizeUnit)}}):this}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:s}={}){const n={loc:this.loc.clone({locale:e,numberingSystem:t})};return s&&(n.conversionAccuracy=s),Ks(this,n)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return function(e,t){Qs.reduce(((s,n)=>ze(t[n])?s:(s&&Xs(e,t,s,t,n),n)),null)}(this.matrix,e),Ks(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(0===e.length)return this;e=e.map((e=>en.normalizeUnit(e)));const t={},s={},n=this.toObject();let r;for(const i of Js)if(e.indexOf(i)>=0){r=i;let e=0;for(const t in s)e+=this.matrix[t][i]*s[t],s[t]=0;We(n[i])&&(e+=n[i]);const a=Math.trunc(e);t[i]=a,s[i]=(1e3*e-1e3*a)/1e3;for(const e in n)Js.indexOf(e)>Js.indexOf(i)&&Xs(this.matrix,n,e,t,i)}else We(n[i])&&(s[i]=n[i]);for(const e in s)0!==s[e]&&(t[r]+=e===r?s[e]:s[e]/this.matrix[r][e]);return Ks(this,{values:t},!0).normalize()}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=0===this.values[t]?0:-this.values[t];return Ks(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(const n of Js)if(t=this.values[n],s=e.values[n],!(void 0===t||0===t?void 0===s||0===s:t===s))return!1;var t,s;return!0}}const tn="Invalid Interval";class sn{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new ye("need to specify a reason the Interval is invalid");const s=e instanceof It?e:new It(e,t);if(Bt.throwOnInvalid)throw new me(s);return new sn({invalid:s})}static fromDateTimes(e,t){const s=rr(e),n=rr(t),r=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?sn.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null:sn.invalid("missing or invalid end"):sn.invalid("missing or invalid start")}(s,n);return null==r?new sn({start:s,end:n}):r}static after(e,t){const s=en.fromDurationLike(t),n=rr(e);return sn.fromDateTimes(n,n.plus(s))}static before(e,t){const s=en.fromDurationLike(t),n=rr(e);return sn.fromDateTimes(n.minus(s),n)}static fromISO(e,t){const[s,n]=(e||"").split("/",2);if(s&&n){let e,r,i,a;try{e=nr.fromISO(s,t),r=e.isValid}catch(n){r=!1}try{i=nr.fromISO(n,t),a=i.isValid}catch(n){a=!1}if(r&&a)return sn.fromDateTimes(e,i);if(r){const s=en.fromISO(n,t);if(s.isValid)return sn.after(e,s)}else if(a){const e=en.fromISO(s,t);if(e.isValid)return sn.before(i,e)}}return sn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const t=this.start.startOf(e),s=this.end.startOf(e);return Math.floor(s.diff(t,e).get(e))+1}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&this.s<=e&&this.e>e}set({start:e,end:t}={}){return this.isValid?sn.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(rr).filter((e=>this.contains(e))).sort(),s=[];let{s:n}=this,r=0;for(;n<this.e;){const e=t[r]||this.e,i=+e>+this.e?this.e:e;s.push(sn.fromDateTimes(n,i)),n=i,r+=1}return s}splitBy(e){const t=en.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let s,{s:n}=this,r=1;const i=[];for(;n<this.e;){const e=this.start.plus(t.mapUnits((e=>e*r)));s=+e>+this.e?this.e:e,i.push(sn.fromDateTimes(n,s)),n=s,r+=1}return i}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e==+e.s}abutsEnd(e){return!!this.isValid&&+e.e==+this.s}engulfs(e){return!!this.isValid&&this.s<=e.s&&this.e>=e.e}equals(e){return!(!this.isValid||!e.isValid)&&this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,s=this.e<e.e?this.e:e.e;return t>=s?null:sn.fromDateTimes(t,s)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,s=this.e>e.e?this.e:e.e;return sn.fromDateTimes(t,s)}static merge(e){const[t,s]=e.sort(((e,t)=>e.s-t.s)).reduce((([e,t],s)=>t?t.overlaps(s)||t.abutsStart(s)?[e,t.union(s)]:[e.concat([t]),s]:[e,s]),[[],null]);return s&&t.push(s),t}static xor(e){let t=null,s=0;const n=[],r=e.map((e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}])),i=Array.prototype.concat(...r).sort(((e,t)=>e.time-t.time));for(const e of i)s+="s"===e.type?1:-1,1===s?t=e.time:(t&&+t!=+e.time&&n.push(sn.fromDateTimes(t,e.time)),t=null);return sn.merge(n)}difference(...e){return sn.xor([this].concat(e)).map((e=>this.intersection(e))).filter((e=>e&&!e.isEmpty()))}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:tn}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:tn}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:tn}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:tn}toFormat(e,{separator:t="  "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:tn}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):en.invalid(this.invalidReason)}mapEndpoints(e){return sn.fromDateTimes(e(this.s),e(this.e))}}class nn{static hasDST(e=Bt.defaultZone){const t=nr.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return Ut.isValidZone(e)}static normalizeZone(e){return qt(e,Bt.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:s=null,locObj:n=null,outputCalendar:r="gregory"}={}){return(n||as.create(t,s,r)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:s=null,locObj:n=null,outputCalendar:r="gregory"}={}){return(n||as.create(t,s,r)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:s=null,locObj:n=null}={}){return(n||as.create(t,s,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:s=null,locObj:n=null}={}){return(n||as.create(t,s,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return as.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return as.create(t,null,"gregory").eras(e)}static features(){return{relative:Ge()}}}function rn(e,t){const s=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=s(t)-s(e);return Math.floor(en.fromMillis(n).as("days"))}const an={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},on={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ln=an.hanidec.replace(/[\[|\]]/g,"").split("");function cn({numberingSystem:e},t=""){return new RegExp(`${an[e||"latn"]}${t}`)}function un(e,t=(e=>e)){return{regex:e,deser:([e])=>t(function(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let s=0;s<e.length;s++){const n=e.charCodeAt(s);if(-1!==e[s].search(an.hanidec))t+=ln.indexOf(e[s]);else for(const e in on){const[s,r]=on[e];n>=s&&n<=r&&(t+=n-s)}}return parseInt(t,10)}return t}(e))}}const dn=`[ ${String.fromCharCode(160)}]`,hn=new RegExp(dn,"g");function mn(e){return e.replace(/\./g,"\\.?").replace(hn,dn)}function pn(e){return e.replace(/\./g,"").replace(hn," ").toLowerCase()}function fn(e,t){return null===e?null:{regex:RegExp(e.map(mn).join("|")),deser:([s])=>e.findIndex((e=>pn(s)===pn(e)))+t}}function gn(e,t){return{regex:e,deser:([,e,t])=>ct(e,t),groups:t}}function yn(e){return{regex:e,deser:([e])=>e}}const wn={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};let bn=null;function vn(e,t,s){const n=function(e,t){return Array.prototype.concat(...e.map((e=>function(e,t){if(e.literal)return e;const s=Pt.macroTokenToFormatOpts(e.val);if(!s)return e;const n=Pt.create(t,s).formatDateTimeParts((bn||(bn=nr.fromMillis(1555555555555)),bn)).map((e=>function(e,t,s){const{type:n,value:r}=e;if("literal"===n)return{literal:!0,val:r};const i=s[n];let a=wn[n];return"object"==typeof a&&(a=a[i]),a?{literal:!1,val:a}:void 0}(e,0,s)));return n.includes(void 0)?e:n}(e,t))))}(Pt.parseFormat(s),e),r=n.map((t=>function(e,t){const s=cn(t),n=cn(t,"{2}"),r=cn(t,"{3}"),i=cn(t,"{4}"),a=cn(t,"{6}"),o=cn(t,"{1,2}"),l=cn(t,"{1,3}"),c=cn(t,"{1,6}"),u=cn(t,"{1,9}"),d=cn(t,"{2,4}"),h=cn(t,"{4,6}"),m=e=>{return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([e])=>e,literal:!0};var t},p=(p=>{if(e.literal)return m(p);switch(p.val){case"G":return fn(t.eras("short",!1),0);case"GG":return fn(t.eras("long",!1),0);case"y":return un(c);case"yy":case"kk":return un(d,ot);case"yyyy":case"kkkk":return un(i);case"yyyyy":return un(h);case"yyyyyy":return un(a);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return un(o);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return un(n);case"MMM":return fn(t.months("short",!0,!1),1);case"MMMM":return fn(t.months("long",!0,!1),1);case"LLL":return fn(t.months("short",!1,!1),1);case"LLLL":return fn(t.months("long",!1,!1),1);case"o":case"S":return un(l);case"ooo":case"SSS":return un(r);case"u":return yn(u);case"uu":return yn(o);case"uuu":case"E":case"c":return un(s);case"a":return fn(t.meridiems(),0);case"EEE":return fn(t.weekdays("short",!1,!1),1);case"EEEE":return fn(t.weekdays("long",!1,!1),1);case"ccc":return fn(t.weekdays("short",!0,!1),1);case"cccc":return fn(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return gn(new RegExp(`([+-]${o.source})(?::(${n.source}))?`),2);case"ZZZ":return gn(new RegExp(`([+-]${o.source})(${n.source})?`),2);case"z":return yn(/[a-z_+-/]{1,256}?/i);default:return m(p)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return p.token=e,p}(t,e))),i=r.find((e=>e.invalidReason));if(i)return{input:t,tokens:n,invalidReason:i.invalidReason};{const[e,s]=function(e){return[`^${e.map((e=>e.regex)).reduce(((e,t)=>`${e}(${t.source})`),"")}$`,e]}(r),i=RegExp(e,"i"),[a,o]=function(e,t,s){const n=e.match(t);if(n){const e={};let t=1;for(const r in s)if(Be(s,r)){const i=s[r],a=i.groups?i.groups+1:1;!i.literal&&i.token&&(e[i.token.val[0]]=i.deser(n.slice(t,t+a))),t+=a}return[n,e]}return[n,{}]}(t,i,s),[l,c,u]=o?function(e){let t,s=null;return ze(e.z)||(s=Ut.create(e.z)),ze(e.Z)||(s||(s=new $t(e.Z)),t=e.Z),ze(e.q)||(e.M=3*(e.q-1)+1),ze(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),ze(e.u)||(e.S=et(e.u)),[Object.keys(e).reduce(((t,s)=>{const n=(e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(s);return n&&(t[n]=e[s]),t}),{}),s,t]}(o):[null,null,void 0];if(Be(o,"a")&&Be(o,"H"))throw new fe("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:i,rawMatches:a,matches:o,result:l,zone:c,specificOffset:u}}}const En=[0,31,59,90,120,151,181,212,243,273,304,334],Sn=[0,31,60,91,121,152,182,213,244,274,305,335];function xn(e,t){return new It("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function Nn(e,t,s){const n=new Date(Date.UTC(e,t-1,s));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const r=n.getUTCDay();return 0===r?7:r}function kn(e,t,s){return s+(st(e)?Sn:En)[t-1]}function Cn(e,t){const s=st(e)?Sn:En,n=s.findIndex((e=>e<t));return{month:n+1,day:t-s[n]}}function Tn(e){const{year:t,month:s,day:n}=e,r=kn(t,s,n),i=Nn(t,s,n);let a,o=Math.floor((r-i+10)/7);return o<1?(a=t-1,o=at(a)):o>at(t)?(a=t+1,o=1):a=t,{weekYear:a,weekNumber:o,weekday:i,...mt(e)}}function On(e){const{weekYear:t,weekNumber:s,weekday:n}=e,r=Nn(t,1,4),i=nt(t);let a,o=7*s+n-r-3;o<1?(a=t-1,o+=nt(a)):o>i?(a=t+1,o-=nt(t)):a=t;const{month:l,day:c}=Cn(a,o);return{year:a,month:l,day:c,...mt(e)}}function Pn(e){const{year:t,month:s,day:n}=e;return{year:t,ordinal:kn(t,s,n),...mt(e)}}function In(e){const{year:t,ordinal:s}=e,{month:n,day:r}=Cn(t,s);return{year:t,month:n,day:r,...mt(e)}}function Mn(e){const t=He(e.year),s=Je(e.month,1,12),n=Je(e.day,1,rt(e.year,e.month));return t?s?!n&&xn("day",e.day):xn("month",e.month):xn("year",e.year)}function Dn(e){const{hour:t,minute:s,second:n,millisecond:r}=e,i=Je(t,0,23)||24===t&&0===s&&0===n&&0===r,a=Je(s,0,59),o=Je(n,0,59),l=Je(r,0,999);return i?a?o?!l&&xn("millisecond",r):xn("second",n):xn("minute",s):xn("hour",t)}const Vn="Invalid DateTime",Rn=864e13;function An(e){return new It("unsupported zone",`the zone "${e.name}" is not supported`)}function Fn(e){return null===e.weekData&&(e.weekData=Tn(e.c)),e.weekData}function Un(e,t){const s={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new nr({...s,...t,old:s})}function jn(e,t,s){let n=e-60*t*1e3;const r=s.offset(n);if(t===r)return[n,t];n-=60*(r-t)*1e3;const i=s.offset(n);return r===i?[n,r]:[e-60*Math.min(r,i)*1e3,Math.max(r,i)]}function $n(e,t){const s=new Date(e+=60*t*1e3);return{year:s.getUTCFullYear(),month:s.getUTCMonth()+1,day:s.getUTCDate(),hour:s.getUTCHours(),minute:s.getUTCMinutes(),second:s.getUTCSeconds(),millisecond:s.getUTCMilliseconds()}}function Ln(e,t,s){return jn(it(e),t,s)}function qn(e,t){const s=e.o,n=e.c.year+Math.trunc(t.years),r=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),i={...e.c,year:n,month:r,day:Math.min(e.c.day,rt(n,r))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},a=en.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),o=it(i);let[l,c]=jn(o,s,e.zone);return 0!==a&&(l+=a,c=e.zone.offset(l)),{ts:l,o:c}}function Zn(e,t,s,n,r,i){const{setZone:a,zone:o}=s;if(e&&0!==Object.keys(e).length){const n=t||o,r=nr.fromObject(e,{...s,zone:n,specificOffset:i});return a?r:r.setZone(o)}return nr.invalid(new It("unparsable",`the input "${r}" can't be parsed as ${n}`))}function zn(e,t,s=!0){return e.isValid?Pt.create(as.create("en-US"),{allowZ:s,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Wn(e,t){const s=e.c.year>9999||e.c.year<0;let n="";return s&&e.c.year>=0&&(n+="+"),n+=Qe(e.c.year,s?6:4),t?(n+="-",n+=Qe(e.c.month),n+="-",n+=Qe(e.c.day)):(n+=Qe(e.c.month),n+=Qe(e.c.day)),n}function Hn(e,t,s,n,r,i){let a=Qe(e.c.hour);return t?(a+=":",a+=Qe(e.c.minute),0===e.c.second&&s||(a+=":")):a+=Qe(e.c.minute),0===e.c.second&&s||(a+=Qe(e.c.second),0===e.c.millisecond&&n||(a+=".",a+=Qe(e.c.millisecond,3))),r&&(e.isOffsetFixed&&0===e.offset&&!i?a+="Z":e.o<0?(a+="-",a+=Qe(Math.trunc(-e.o/60)),a+=":",a+=Qe(Math.trunc(-e.o%60))):(a+="+",a+=Qe(Math.trunc(e.o/60)),a+=":",a+=Qe(Math.trunc(e.o%60)))),i&&(a+="["+e.zone.ianaName+"]"),a}const Gn={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Yn={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Bn={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Jn=["year","month","day","hour","minute","second","millisecond"],Qn=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Kn=["year","ordinal","hour","minute","second","millisecond"];function Xn(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new ge(e);return t}function er(e,t){const s=qt(t.zone,Bt.defaultZone),n=as.fromObject(t),r=Bt.now();let i,a;if(ze(e.year))i=r;else{for(const t of Jn)ze(e[t])&&(e[t]=Gn[t]);const t=Mn(e)||Dn(e);if(t)return nr.invalid(t);const n=s.offset(r);[i,a]=Ln(e,n,s)}return new nr({ts:i,zone:s,loc:n,o:a})}function tr(e,t,s){const n=!!ze(s.round)||s.round,r=(e,r)=>(e=tt(e,n||s.calendary?0:2,!0),t.loc.clone(s).relFormatter(s).format(e,r)),i=n=>s.calendary?t.hasSame(e,n)?0:t.startOf(n).diff(e.startOf(n),n).get(n):t.diff(e,n).get(n);if(s.unit)return r(i(s.unit),s.unit);for(const e of s.units){const t=i(e);if(Math.abs(t)>=1)return r(t,e)}return r(e>t?-0:0,s.units[s.units.length-1])}function sr(e){let t,s={};return e.length>0&&"object"==typeof e[e.length-1]?(s=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[s,t]}class nr{constructor(e){const t=e.zone||Bt.defaultZone;let s=e.invalid||(Number.isNaN(e.ts)?new It("invalid input"):null)||(t.isValid?null:An(t));this.ts=ze(e.ts)?Bt.now():e.ts;let n=null,r=null;if(!s)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[n,r]=[e.old.c,e.old.o];else{const e=t.offset(this.ts);n=$n(this.ts,e),s=Number.isNaN(n.year)?new It("invalid input"):null,n=s?null:n,r=s?null:e}this._zone=t,this.loc=e.loc||as.create(),this.invalid=s,this.weekData=null,this.c=n,this.o=r,this.isLuxonDateTime=!0}static now(){return new nr({})}static local(){const[e,t]=sr(arguments),[s,n,r,i,a,o,l]=t;return er({year:s,month:n,day:r,hour:i,minute:a,second:o,millisecond:l},e)}static utc(){const[e,t]=sr(arguments),[s,n,r,i,a,o,l]=t;return e.zone=$t.utcInstance,er({year:s,month:n,day:r,hour:i,minute:a,second:o,millisecond:l},e)}static fromJSDate(e,t={}){const s=(n=e,"[object Date]"===Object.prototype.toString.call(n)?e.valueOf():NaN);var n;if(Number.isNaN(s))return nr.invalid("invalid input");const r=qt(t.zone,Bt.defaultZone);return r.isValid?new nr({ts:s,zone:r,loc:as.fromObject(t)}):nr.invalid(An(r))}static fromMillis(e,t={}){if(We(e))return e<-Rn||e>Rn?nr.invalid("Timestamp out of range"):new nr({ts:e,zone:qt(t.zone,Bt.defaultZone),loc:as.fromObject(t)});throw new ye(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(We(e))return new nr({ts:1e3*e,zone:qt(t.zone,Bt.defaultZone),loc:as.fromObject(t)});throw new ye("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const s=qt(t.zone,Bt.defaultZone);if(!s.isValid)return nr.invalid(An(s));const n=Bt.now(),r=ze(t.specificOffset)?s.offset(n):t.specificOffset,i=dt(e,Xn),a=!ze(i.ordinal),o=!ze(i.year),l=!ze(i.month)||!ze(i.day),c=o||l,u=i.weekYear||i.weekNumber,d=as.fromObject(t);if((c||a)&&u)throw new fe("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&a)throw new fe("Can't mix ordinal dates with month/day");const h=u||i.weekday&&!c;let m,p,f=$n(n,r);h?(m=Qn,p=Yn,f=Tn(f)):a?(m=Kn,p=Bn,f=Pn(f)):(m=Jn,p=Gn);let g=!1;for(const e of m)ze(i[e])?i[e]=g?p[e]:f[e]:g=!0;const y=h?function(e){const t=He(e.weekYear),s=Je(e.weekNumber,1,at(e.weekYear)),n=Je(e.weekday,1,7);return t?s?!n&&xn("weekday",e.weekday):xn("week",e.week):xn("weekYear",e.weekYear)}(i):a?function(e){const t=He(e.year),s=Je(e.ordinal,1,nt(e.year));return t?!s&&xn("ordinal",e.ordinal):xn("year",e.year)}(i):Mn(i),w=y||Dn(i);if(w)return nr.invalid(w);const b=h?On(i):a?In(i):i,[v,E]=Ln(b,r,s),S=new nr({ts:v,zone:s,o:E,loc:d});return i.weekday&&c&&e.weekday!==S.weekday?nr.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${S.toISO()}`):S}static fromISO(e,t={}){const[s,n]=function(e){return cs(e,[Rs,js],[As,$s],[Fs,Ls],[Us,qs])}(e);return Zn(s,n,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[s,n]=function(e){return cs(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[Ts,Os])}(e);return Zn(s,n,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[s,n]=function(e){return cs(e,[Ps,Ds],[Is,Ds],[Ms,Vs])}(e);return Zn(s,n,t,"HTTP",t)}static fromFormat(e,t,s={}){if(ze(e)||ze(t))throw new ye("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:r=null}=s,i=as.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0}),[a,o,l,c]=function(e,t,s){const{result:n,zone:r,specificOffset:i,invalidReason:a}=vn(e,t,s);return[n,r,i,a]}(i,e,t);return c?nr.invalid(c):Zn(a,o,s,`format ${t}`,e,l)}static fromString(e,t,s={}){return nr.fromFormat(e,t,s)}static fromSQL(e,t={}){const[s,n]=function(e){return cs(e,[zs,js],[Ws,Hs])}(e);return Zn(s,n,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new ye("need to specify a reason the DateTime is invalid");const s=e instanceof It?e:new It(e,t);if(Bt.throwOnInvalid)throw new he(s);return new nr({invalid:s})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Fn(this).weekYear:NaN}get weekNumber(){return this.isValid?Fn(this).weekNumber:NaN}get weekday(){return this.isValid?Fn(this).weekday:NaN}get ordinal(){return this.isValid?Pn(this.c).ordinal:NaN}get monthShort(){return this.isValid?nn.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?nn.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?nn.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?nn.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return st(this.year)}get daysInMonth(){return rt(this.year,this.month)}get daysInYear(){return this.isValid?nt(this.year):NaN}get weeksInWeekYear(){return this.isValid?at(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:s,calendar:n}=Pt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:s,outputCalendar:n}}toUTC(e=0,t={}){return this.setZone($t.instance(e),t)}toLocal(){return this.setZone(Bt.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:s=!1}={}){if((e=qt(e,Bt.defaultZone)).equals(this.zone))return this;if(e.isValid){let n=this.ts;if(t||s){const t=e.offset(this.ts),s=this.toObject();[n]=Ln(s,t,e)}return Un(this,{ts:n,zone:e})}return nr.invalid(An(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:s}={}){return Un(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:s})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=dt(e,Xn),s=!ze(t.weekYear)||!ze(t.weekNumber)||!ze(t.weekday),n=!ze(t.ordinal),r=!ze(t.year),i=!ze(t.month)||!ze(t.day),a=r||i,o=t.weekYear||t.weekNumber;if((a||n)&&o)throw new fe("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(i&&n)throw new fe("Can't mix ordinal dates with month/day");let l;s?l=On({...Tn(this.c),...t}):ze(t.ordinal)?(l={...this.toObject(),...t},ze(t.day)&&(l.day=Math.min(rt(l.year,l.month),l.day))):l=In({...Pn(this.c),...t});const[c,u]=Ln(l,this.o,this.zone);return Un(this,{ts:c,o:u})}plus(e){return this.isValid?Un(this,qn(this,en.fromDurationLike(e))):this}minus(e){return this.isValid?Un(this,qn(this,en.fromDurationLike(e).negate())):this}startOf(e){if(!this.isValid)return this;const t={},s=en.normalizeUnit(e);switch(s){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0}if("weeks"===s&&(t.weekday=1),"quarters"===s){const e=Math.ceil(this.month/3);t.month=3*(e-1)+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?Pt.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Vn}toLocaleString(e=Se,t={}){return this.isValid?Pt.create(this.loc.clone(t),e).formatDateTime(this):Vn}toLocaleParts(e={}){return this.isValid?Pt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:s=!1,includeOffset:n=!0,extendedZone:r=!1}={}){if(!this.isValid)return null;const i="extended"===e;let a=Wn(this,i);return a+="T",a+=Hn(this,i,t,s,n,r),a}toISODate({format:e="extended"}={}){return this.isValid?Wn(this,"extended"===e):null}toISOWeekDate(){return zn(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:s=!0,includePrefix:n=!1,extendedZone:r=!1,format:i="extended"}={}){return this.isValid?(n?"T":"")+Hn(this,"extended"===i,t,e,s,r):null}toRFC2822(){return zn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return zn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Wn(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:s=!0}={}){let n="HH:mm:ss.SSS";return(t||e)&&(s&&(n+=" "),t?n+="z":e&&(n+="ZZ")),zn(this,n,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Vn}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",s={}){if(!this.isValid||!e.isValid)return en.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...s},r=(o=t,Array.isArray(o)?o:[o]).map(en.normalizeUnit),i=e.valueOf()>this.valueOf(),a=function(e,t,s,n){let[r,i,a,o]=function(e,t,s){const n=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const s=rn(e,t);return(s-s%7)/7}],["days",rn]],r={};let i,a;for(const[o,l]of n)if(s.indexOf(o)>=0){i=o;let s=l(e,t);a=e.plus({[o]:s}),a>t?(e=e.plus({[o]:s-1}),s-=1):e=a,r[o]=s}return[e,r,a,i]}(e,t,s);const l=t-r,c=s.filter((e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0));0===c.length&&(a<t&&(a=r.plus({[o]:1})),a!==r&&(i[o]=(i[o]||0)+l/(a-r)));const u=en.fromObject(i,n);return c.length>0?en.fromMillis(l,n).shiftTo(...c).plus(u):u}(i?this:e,i?e:this,r,n);var o;return i?a.negate():a}diffNow(e="milliseconds",t={}){return this.diff(nr.now(),e,t)}until(e){return this.isValid?sn.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;const s=e.valueOf(),n=this.setZone(e.zone,{keepLocalTime:!0});return n.startOf(t)<=s&&s<=n.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||nr.fromObject({},{zone:this.zone}),s=e.padding?this<t?-e.padding:e.padding:0;let n=["years","months","days","hours","minutes","seconds"],r=e.unit;return Array.isArray(e.unit)&&(n=e.unit,r=void 0),tr(t,this.plus(s),{...e,numeric:"always",units:n,unit:r})}toRelativeCalendar(e={}){return this.isValid?tr(e.base||nr.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(nr.isDateTime))throw new ye("min requires all arguments be DateTimes");return Ye(e,(e=>e.valueOf()),Math.min)}static max(...e){if(!e.every(nr.isDateTime))throw new ye("max requires all arguments be DateTimes");return Ye(e,(e=>e.valueOf()),Math.max)}static fromFormatExplain(e,t,s={}){const{locale:n=null,numberingSystem:r=null}=s;return vn(as.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0}),e,t)}static fromStringExplain(e,t,s={}){return nr.fromFormatExplain(e,t,s)}static get DATE_SHORT(){return Se}static get DATE_MED(){return _e}static get DATE_MED_WITH_WEEKDAY(){return xe}static get DATE_FULL(){return Ne}static get DATE_HUGE(){return ke}static get TIME_SIMPLE(){return Ce}static get TIME_WITH_SECONDS(){return Te}static get TIME_WITH_SHORT_OFFSET(){return Oe}static get TIME_WITH_LONG_OFFSET(){return Pe}static get TIME_24_SIMPLE(){return Ie}static get TIME_24_WITH_SECONDS(){return Me}static get TIME_24_WITH_SHORT_OFFSET(){return De}static get TIME_24_WITH_LONG_OFFSET(){return Ve}static get DATETIME_SHORT(){return Re}static get DATETIME_SHORT_WITH_SECONDS(){return Ae}static get DATETIME_MED(){return Fe}static get DATETIME_MED_WITH_SECONDS(){return Ue}static get DATETIME_MED_WITH_WEEKDAY(){return je}static get DATETIME_FULL(){return $e}static get DATETIME_FULL_WITH_SECONDS(){return Le}static get DATETIME_HUGE(){return qe}static get DATETIME_HUGE_WITH_SECONDS(){return Ze}}function rr(e){if(nr.isDateTime(e))return e;if(e&&e.valueOf&&We(e.valueOf()))return nr.fromJSDate(e);if(e&&"object"==typeof e)return nr.fromObject(e);throw new ye(`Unknown datetime argument: ${e}, of type ${typeof e}`)}class ir extends r().Component{static defaultProps={placeholder:"",onChange:()=>!1};render(){const{placeholder:e}=this.props;return(0,t.createElement)("div",{className:"sui-search sui-control-with-icon"},(0,t.createElement)("span",{className:"sui-icon-magnifying-glass-search","aria-hidden":"true"}),(0,t.createElement)("input",{type:"text",className:"sui-form-control",onChange:e=>this.handleChange(e.target.value),placeholder:e}))}handleChange(e){this.debounced||(this.debounced=(0,ee.debounce)((e=>this.props.onChange(e)),500)),this.debounced(e)}}var ar=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function or(e,t){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(!((n=e[s])===(r=t[s])||ar(n)&&ar(r)))return!1;var n,r;return!0}class lr extends r().Component{static defaultProps={redirects:{},nonce:"",homeUrl:"",csvTypes:[]};constructor(e){super(e),this.state={redirects:this.props.redirects,keyword:"",bulkItems:new Set,addingRedirect:!1,editingRedirect:!1,deletingRedirect:!1,bulkUpdating:!1,currentPageNumber:1,requestInProgress:!1,importInProgress:!1,exportInProgress:!1},this.redirectsPerPage=10,this.filterMemoized=function(e,t){var s;void 0===t&&(t=or);var n,r=[],i=!1;return function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return i&&s===this&&t(a,r)||(n=e.apply(this,a),i=!0,s=this,r=a),n}}(((e,t)=>this.filterRedirects(e,t)))}componentDidMount(){this.maybeStartAddingRedirect()}render(){const{bulkUpdating:s,bulkItems:n,requestInProgress:i,editingRedirect:a,addingRedirect:o,deletingRedirect:l,currentPageNumber:c,importInProgress:u,exportInProgress:p,keyword:f}=this.state,g=this.getFilteredRedirects(),{homeUrl:y}=this.props,w=this.objectLength(g),v=w>0,E=this.getRedirectsPage(),S=this.objectLength(E),_=n.size,x=S>0&&_===S;return(0,t.createElement)("div",{className:"sui-box"},(0,t.createElement)("div",{className:"sui-box-header"},(0,t.createElement)("h2",{className:"sui-box-title"},(0,m.__)("URL Redirection","wds")),(0,t.createElement)("div",{className:"sui-actions-right"},(0,t.createElement)(h,{id:"wds-import-redirects-button",text:(0,m.__)("Import","wds"),ghost:!0,icon:"sui-icon-upload-cloud",disabled:i,onClick:()=>this.startImporting()}),(0,t.createElement)(h,{id:"wds-export-redirects-button",text:(0,m.__)("Export","wds"),ghost:!0,icon:"sui-icon-cloud-migration",disabled:i,loading:p,onClick:()=>this.exportRedirects()}))),(0,t.createElement)("div",{className:"sui-box-body"},(0,t.createElement)("p",null,(0,m.__)("Automatically redirect traffic from one URL to another. Use this tool if you have changed a pages URL and wish to keep traffic flowing to the new page.","wds")),(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"sui-box-builder"},(0,t.createElement)("div",{className:"sui-box-builder-header",style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"}},(0,t.createElement)(h,{text:(0,m.__)("Add Redirect","wds"),color:"purple",icon:"sui-icon-plus",onClick:()=>this.startAddingRedirect()}),(0,t.createElement)("div",null,w>this.redirectsPerPage&&(0,t.createElement)(b,{count:w,currentPage:c,perPage:this.redirectsPerPage,onClick:e=>this.changePage(e)}))),(0,t.createElement)("div",{className:d()("sui-box-builder-body",{"wds-no-redirects":!v&&!f})},(0,t.createElement)("div",{className:"wds-redirect-controls"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"sui-checkbox"},(0,t.createElement)("input",{type:"checkbox",checked:x,onChange:e=>this.toggleAll(e.target.checked)}),(0,t.createElement)("span",{"aria-hidden":"true"})),(0,t.createElement)(h,{id:"wds-redirects-start-bulk-update",text:(0,m.__)("Bulk Update","wds"),onClick:()=>this.startBulkUpdate(),disabled:!_}),s&&(0,t.createElement)(te,{inProgress:i,homeUrl:y,onSave:(e,t)=>this.bulkUpdate(e,t),onClose:()=>this.stopBulkUpdate()}),(0,t.createElement)(h,{id:"wds-redirects-start-bulk-removing",text:(0,m.__)("Remove Redirects","wds"),onClick:()=>this.startDeletingRedirects(),disabled:!_})),(0,t.createElement)(ir,{placeholder:(0,m.__)("Search Redirects","wds"),onChange:e=>this.handleSearch(e)})),(0,t.createElement)("div",{className:"sui-builder-fields"},v&&(0,t.createElement)("div",{className:"wds-redirect-item wds-redirect-item-columns"},(0,t.createElement)("div",{className:"wds-redirect-item-checkbox"}),(0,t.createElement)("div",{className:"wds-redirect-item-source"},(0,t.createElement)("small",null,(0,t.createElement)("strong",null,(0,m.__)("Old URL","wds")))),(0,t.createElement)("div",{className:"wds-redirect-item-destination"},(0,t.createElement)("small",null,(0,t.createElement)("strong",null,(0,m.__)("New URL","wds")))),(0,t.createElement)("div",{className:"wds-redirect-item-options"},(0,t.createElement)("small",null,(0,t.createElement)("strong",null,(0,m.__)("Type","wds")))),(0,t.createElement)("div",{className:"wds-redirect-item-dropdown"})),Object.keys(E).map((s=>{const o=E[s];return(0,t.createElement)(r().Fragment,{key:s+"-fragment"},(0,t.createElement)(z,e({},o,{key:s,selected:n.has(s),onToggle:e=>this.toggleItem(s,e),onEdit:()=>this.startEditingRedirect(s),onDelete:()=>this.startDeletingRedirect(s)})),a===s&&(0,t.createElement)(X,e({},o,{homeUrl:y,inProgress:i,editMode:!0,onSave:e=>this.editRedirect(e),onClose:()=>this.stopEditingRedirect()})))}))),f&&!v&&(0,t.createElement)("p",null,(0,t.createInterpolateElement)((0,m.sprintf)((0,m.__)("No results found for the keyword <strong>%s</strong>.","wds"),f),{strong:(0,t.createElement)("strong",null)})),(0,t.createElement)(h,{id:"wds-add-redirect-dashed-button",dashed:!0,icon:"sui-icon-plus",text:(0,m.__)("Add Redirect","wds"),onClick:()=>this.startAddingRedirect()}),(0,t.createElement)("p",{className:"wds-no-redirects-message"},(0,t.createElement)("small",null,(0,m.__)("You can add as many redirects as you like. Add your first above!","wds"))))),o&&(0,t.createElement)(X,{inProgress:i,homeUrl:y,onSave:e=>this.addRedirect(e),onClose:()=>this.stopAddingRedirect()}),l&&(0,t.createElement)(ae,{id:"wds-delete-redirect-modal",title:(0,m.__)("Are you sure?","wds"),description:(0,m._n)("Are you sure you want to delete this redirect? This action is irreversible.","Are you sure you want to delete the selected redirects? This action is irreversible.",l.length,"wds"),inProgress:i,onClose:()=>this.stopDeletingRedirect(),onDelete:()=>this.deleteRedirect()})),u&&(0,t.createElement)(ue,{inProgress:i,onClose:()=>this.stopImporting(),onImport:e=>this.importRedirectsFromCsv(e),csvTypes:this.props.csvTypes})))}exportRedirects(){const{nonce:e,homeUrl:t}=this.props;this.setState({exportInProgress:!0,requestInProgress:!0},(()=>{ie.post("wds_export_csv",e).then((e=>{const s=se.getUrlHost(t),n=nr.now().toFormat("dd-LL-y");ce.triggerFileDownload(e.content,`smartcrawl-redirects-${s}-${n}.csv`)})).catch((e=>{this.showErrorNotice(e)})).finally((()=>{this.setState({exportInProgress:!1,requestInProgress:!1})}))}))}startImporting(){this.setState({importInProgress:!0})}stopImporting(){this.setState({importInProgress:!1})}importRedirectsFromCsv(e){this.setState({requestInProgress:!0},(()=>{ie.uploadFile("wds_import_redirects_from_csv",this.props.nonce,e).then((e=>{const t=e.count;this.showSuccessNotice((0,m._n)((0,m.sprintf)((0,m.__)("%d redirect inserted successfully!","wds"),t),(0,m.sprintf)((0,m.__)("%d redirects inserted successfully!","wds"),t),t)),this.setState({redirects:e.redirects},(()=>{this.setState({currentPageNumber:this.getPageCount()})}))})).catch((e=>{this.showErrorNotice(e)})).finally((()=>{this.setState({requestInProgress:!1,importInProgress:!1})}))}))}changePage(e){this.setState({currentPageNumber:e,bulkItems:new Set})}saveRedirect(e){return new Promise(((t,s)=>{this.setState({requestInProgress:!0}),this.post("wds_save_redirect",e).then((e=>{const s=$()(this.state.redirects,{[e.id]:{$set:{...e}}});this.setState({redirects:s},t)})).catch((e=>{this.showErrorNotice(e),s()})).finally((()=>{this.setState({requestInProgress:!1})}))}))}post(e,t){return ie.post(e,this.props.nonce,t)}startAddingRedirect(){this.setState({addingRedirect:!0})}addRedirect(e){this.sourceExists(e.source)?this.showErrorNotice((0,m.__)("That URL already exists, please try again.","wds")):this.saveRedirect(e).then((()=>{this.showSuccessNotice((0,m.__)("The redirect has been added.","wds")),this.setState({currentPageNumber:this.getPageCount()}),this.stopAddingRedirect()}))}sourceExists(e){return Object.values(this.state.redirects).filter((t=>t.source===e)).length>0}stopAddingRedirect(){this.maybeRemoveQueryParam(),this.setState({addingRedirect:!1})}startEditingRedirect(e){this.setState({editingRedirect:e})}editRedirect(e){this.saveRedirect(e).then((()=>{this.stopEditingRedirect(),this.showSuccessNotice((0,m.__)("The redirect has been updated.","wds"))}))}stopEditingRedirect(){this.setState({editingRedirect:!1})}startBulkUpdate(){this.setState({bulkUpdating:!0})}bulkUpdate(e,t){const s=Array.from(this.state.bulkItems);this.setState({requestInProgress:!0}),this.post("wds_bulk_update_redirects",{ids:s,destination:e,type:t}).then((e=>{const t={};s.forEach((s=>{t[s]={$set:{...e[s]}}})),this.setState({redirects:$()(this.state.redirects,t),bulkUpdating:!1,requestInProgress:!1}),this.showSuccessNotice((0,m.__)("The redirects have been updated.","wds"))})).catch((e=>{this.showErrorNotice(e)}))}stopBulkUpdate(){this.setState({bulkUpdating:!1})}startDeletingRedirect(e){this.setState({deletingRedirect:[e]})}startDeletingRedirects(){const e=Array.from(this.state.bulkItems);this.setState({deletingRedirect:e})}stopDeletingRedirect(){this.setState({deletingRedirect:!1})}deleteRedirect(){const e=this.state.deletingRedirect;this.setState({requestInProgress:!0}),this.post("wds_delete_redirect",{ids:e}).then((()=>{const t=$()(this.state.redirects,{$unset:e}),s=$()(this.state.bulkItems,{$remove:e});this.setState({redirects:t},(()=>{this.setState({deletingRedirect:!1,requestInProgress:!1,currentPageNumber:this.newPageNumberAfterDeletion(),bulkItems:s})})),this.showSuccessNotice((0,m._n)((0,m.__)("The redirect has been removed.","wds"),(0,m.__)("The redirects have been removed.","wds"),e.length))})).catch((e=>{this.showErrorNotice(e)}))}toggleItem(e,t){const s=new Set(this.state.bulkItems);t?s.add(e):s.delete(e),this.setState({bulkItems:s})}toggleAll(e){let t;t=e?Object.keys(this.getRedirectsPage()):[],this.setState({bulkItems:new Set(t)})}getPageCount(){return w.getPageCount(this.objectLength(this.getFilteredRedirects()),this.redirectsPerPage)}getRedirectsPage(){return w.getPage(this.getFilteredRedirects(),this.state.currentPageNumber,this.redirectsPerPage)}newPageNumberAfterDeletion(){const e=this.state.currentPageNumber;return e>this.getPageCount()?e-1:e}objectLength(e){return Object.keys(e).length}showNotice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";E().closeNotice("wds-redirect-notice"),E().openNotice("wds-redirect-notice","<p>"+e+"</p>",{type:t,icon:{error:"warning-alert",info:"info",warning:"warning-alert",success:"check-tick"}[t],dismiss:{show:!1}})}showSuccessNotice(e){this.showNotice(e,"success")}showErrorNotice(e){this.showNotice(e||(0,m.__)("An error occurred. Please reload the page and try again!","wds"),"error")}maybeStartAddingRedirect(){"1"===se.getQueryParam("add_redirect")&&this.startAddingRedirect()}maybeRemoveQueryParam(){se.removeQueryParam("add_redirect")}handleSearch(e){this.setState({keyword:e,bulkItems:new Set,currentPageNumber:1})}getFilteredRedirects(){const{keyword:e,redirects:t}=this.state;return this.filterMemoized(e,t)}filterRedirects(e,t){return(0,ee.pickBy)(t,(t=>this.redirectMatchesKeyword(e,t)))}redirectMatchesKeyword(e,t){if(!e)return!0;let s=!1;return["source","destination","title"].some((n=>{if(!t||!t.hasOwnProperty(n))return!1;const r=t[n].toLowerCase(),i=e.toLowerCase();return-1!==r.indexOf(i)?(s=!0,!0):void 0})),s}}class cr extends r().Component{static defaultProps={label:"",description:""};render(){return(0,t.createElement)("div",{className:"sui-box-settings-row"},(0,t.createElement)("div",{className:"sui-box-settings-col-1"},(0,t.createElement)("span",{className:"sui-settings-label"},this.props.label),(0,t.createElement)("span",{className:"sui-description"},this.props.description)),(0,t.createElement)("div",{className:"sui-box-settings-col-2"},this.props.children))}}var ur=s(3955),dr=s.n(ur);class hr extends r().Component{static defaultProps={id:"",label:"",description:"",checked:!1,disabled:!1,children:null,onChange:()=>!1};handleChange(e){this.props.onChange&&this.props.onChange(e.target.checked,e.target)}render(){return this.props.label?(0,t.createElement)("div",{className:"sui-form-field"},this.inner()):this.inner()}inner(){const{label:e,description:s,children:n,checked:i,disabled:a}=this.props,o=dr()();let{id:l}=this.props;return l||(l="wds-toggle-"+o),(0,t.createElement)(r().Fragment,null,(0,t.createElement)("label",{htmlFor:l,className:"sui-toggle"},(0,t.createElement)("input",{type:"checkbox",id:l,checked:i,onChange:e=>this.handleChange(e),disabled:a,"aria-labelledby":e&&`sui-toggle-label-${o}`,"aria-describedby":s&&`sui-toggle-description-${o}`,"aria-controls":n&&`sui-toggle-children-${o}`}),(0,t.createElement)("span",{className:"sui-toggle-slider","aria-hidden":"true"}),e&&(0,t.createElement)("span",{id:`sui-toggle-label-${o}`,className:"sui-toggle-label"},e),s&&(0,t.createElement)("span",{id:`sui-toggle-description-${o}`,className:"sui-description"},s)),n&&(0,t.createElement)("div",{id:`sui-toggle-children-${o}`,className:d()("sui-toggle-children",{"sui-hidden":!i}),"aria-label":(0,m.sprintf)(/* translators: %s: toggle label. */
(0,m.__)("Children of '%s'","wds"),e)},n))}}class mr extends r().Component{static defaultProps={imagePath:!1,message:"",button:!1};render(){return(0,t.createElement)("div",{className:"sui-box sui-message sui-message-lg"},(0,t.createElement)("img",{src:this.props.imagePath,className:"sui-image","aria-hidden":"true",alt:(0,m.__)("Disabled component","wds")}),(0,t.createElement)("div",{className:"sui-message-content"},(0,t.createElement)("p",null,this.props.message),(0,t.createElement)("p",null,this.props.button)))}}class pr extends r().Component{static defaultProps={woocommerceEnabled:!1,removeGeneratorTag:!1,enableOpenGraph:!1,addRobots:!1,enableShopPageSchema:!1,noindexHiddenProducts:!1,brandOptions:{},brand:"",globalIdentifier:"",disabledImagePath:"",permalinkSettingsUrl:"",nonce:"",opengraphEnabled:!1,socialAllowed:!1,socialUrl:"",schemaEnabled:!1,schemaAllowed:!1,schemaUrl:""};constructor(e){super(e),this.state=Object.assign({},this.props,{requestInProgress:!1})}render(){if(!this.state.woocommerceEnabled){const e=(0,t.createElement)(h,{color:"blue",text:(0,m.__)("Activate","wds"),loading:this.state.requestInProgress,onClick:()=>this.changeModuleStatus(!0)});return(0,t.createElement)(mr,{imagePath:this.props.disabledImagePath,message:(0,m.__)("Activate WooCommerce SEO to add the required metadata and Product Schema to your WooCommerce site, helping you stand out in search results.","wds"),button:e})}return(0,t.createElement)("div",{className:"sui-box"},(0,t.createElement)("div",{className:"sui-box-header"},(0,t.createElement)("h2",{className:"sui-box-title"},(0,m.__)("WooCommerce SEO","wds"))),(0,t.createElement)("div",{className:"sui-box-body"},(0,t.createElement)("p",null,(0,m.__)("Use the WooCommerce SEO configurations below to add recommended Woo metadata and Product Schema to your WooCommerce site, helping you stand out in search results pages.","wds")),(0,t.createElement)(cr,{label:(0,m.__)("Improve Woo Schema","wds"),description:(0,m.__)("Improve your site's WooCommerce Schema.","wds")},this.props.schemaAllowed&&!this.props.schemaEnabled&&(0,t.createElement)(K,{message:(0,t.createInterpolateElement)((0,m.__)("For these settings to be applied, the <a>Schema module</a> must first be enabled.","wds"),{a:(0,t.createElement)("a",{target:"_blank",href:this.props.schemaUrl})})}),(0,t.createElement)(H,{label:(0,m.__)("Brand","wds"),description:(0,m.__)("Select the product taxonomy to use as Brand in Schema & OpenGraph markup.","wds"),options:this.props.brandOptions,selectedValue:this.state.brand,onSelect:e=>this.setState({brand:e})}),(0,t.createElement)(H,{label:(0,m.__)("Global Identifier","wds"),description:(0,t.createInterpolateElement)((0,m.__)("Global Identifier key to use in the Product Schema. You can add a Global Identifier value for each product in the <strong>Inventory</strong> section of the <strong>Product Metabox</strong>","wds"),{strong:(0,t.createElement)("strong",null)}),options:{"":(0,m.__)("None","wds"),gtin8:"GTIN-8",gtin12:"GTIN-12",gtin13:"GTIN-13",gtin14:"GTIN-14",isbn:"ISBN",mpn:"MPN"},selectedValue:this.state.globalIdentifier,onSelect:e=>this.setState({globalIdentifier:e})}),this.props.schemaAllowed&&(0,t.createElement)(hr,{id:"wds-enable-shop-schema",label:(0,m.__)("Enable Shop Schema","wds"),description:(0,m.__)("Add schema data on the shop page.","wds"),disabled:!this.props.schemaEnabled,checked:this.state.enableShopPageSchema,onChange:e=>this.setState({enableShopPageSchema:e})})),(0,t.createElement)(cr,{label:(0,m.__)("Improve Woo Meta","wds"),description:(0,m.__)("Improve your site's default WooCommerce Meta.","wds")},this.props.socialAllowed&&!this.props.opengraphEnabled&&(0,t.createElement)(K,{message:(0,t.createInterpolateElement)((0,m.__)("For these settings to be applied, OpenGraph Support must first be <a>enabled</a>.","wds"),{a:(0,t.createElement)("a",{target:"_blank",href:this.props.socialUrl})})}),this.props.socialAllowed&&(0,t.createElement)(hr,{id:"wds-enable-opengraph",label:(0,m.__)("Enable Product Open Graph","wds"),description:(0,m.__)("If enabled, WooCommerce product data will be added to Open Graph.","wds"),disabled:!this.props.opengraphEnabled,checked:this.state.enableOpenGraph,onChange:e=>this.setState({enableOpenGraph:e})}),(0,t.createElement)(hr,{id:"wds-remove-generator-tag",label:(0,m.__)("Remove Generator Tag","wds"),description:(0,t.createInterpolateElement)((0,m.__)('If enabled, the WooCommerce generator tag <strong><meta name="generator" content="WooCommerce x.x.x" /></strong> will be removed.',"wds"),{strong:(0,t.createElement)("strong",null)}),checked:this.state.removeGeneratorTag,onChange:e=>this.setState({removeGeneratorTag:e})})),(0,t.createElement)(cr,{label:(0,m.__)("Restrict Search Engines","wds"),description:(0,m.__)("Use these options to restrict Indexing or crawling of specific pages on the site.","wds")},(0,t.createElement)(hr,{id:"wds-noindex-hidden-products",label:(0,m.__)("Noindex Hidden Products","wds"),description:(0,m.__)("Set Product Pages to noindex when WooCommerce Catalog visibility is set to hidden.","wds"),checked:this.state.noindexHiddenProducts,onChange:e=>this.setState({noindexHiddenProducts:e})}),(0,t.createElement)(hr,{id:"wds-add-robots",label:(0,m.__)("Disallow Crawling of Cart, Checkout & My Account Pages","wds"),description:(0,t.createInterpolateElement)((0,m.__)("If enabled, the following will be added to your Robots.txt file:<br/><strong>Disallow: /*add-to-cart=*<br/>Disallow: /cart/<br/>Disallow: /checkout/<br/>Disallow: /my-account/</strong>","wds"),{strong:(0,t.createElement)("strong",null),br:(0,t.createElement)("br",null)}),checked:this.state.addRobots,onChange:e=>this.setState({addRobots:e})}))),(0,t.createElement)("div",{className:"sui-box-footer"},(0,t.createElement)("input",{type:"hidden",name:"wds_autolinks_options[woo-settings]",value:JSON.stringify(this.state)}),(0,t.createElement)(h,{text:(0,m.__)("Deactivate","wds"),loading:this.state.requestInProgress,icon:"sui-icon-power-on-off",ghost:!0,onClick:()=>this.changeModuleStatus(!1)}),(0,t.createElement)("button",{name:"submit",type:"submit",className:"sui-button sui-button-blue"},(0,t.createElement)("span",{className:"sui-icon-save","aria-hidden":"true"}),(0,m.__)("Save Settings","wds"))))}changeModuleStatus(e){this.setState({requestInProgress:!0}),ie.post("wds_change_woo_status",this.props.nonce,{enable:e?1:0}).then((()=>{this.setState({woocommerceEnabled:e,requestInProgress:!1})}))}}class fr extends r().Component{static defaultProps={id:"",title:"",type:"",onRemove:()=>!1};render(){const{id:e,title:s,type:n,onRemove:r}=this.props;return(0,t.createElement)("tr",null,(0,t.createElement)("td",null,(0,t.createElement)("strong",null,s)),(0,t.createElement)("td",null,n),(0,t.createElement)("td",{className:"wds-postlist-item-remove"},(0,t.createElement)(h,{color:"red",icon:"sui-icon-trash",onClick:()=>r(e)})))}}class gr extends r().Component{static defaultProps={id:"",nonce:"",postTypes:[],onPostsUpdate:()=>!1,onSubmit:()=>!1,onClose:()=>!1};constructor(e){super(e),this.state={items:[],selectedType:Object.keys(this.props.postTypes)[0]}}render(){const{id:e,postTypes:s,onClose:n}=this.props,{items:i,selectedType:a}=this.state;return(0,t.createElement)(x,{id:e,title:(0,m.__)("Add Exclusion","wds"),description:(0,m.__)("Choose which post you want to exclude.","wds"),small:!0,onEnter:()=>this.handleSubmit(),onClose:n,footer:(0,t.createElement)(r().Fragment,null,(0,t.createElement)(h,{ghost:!0,text:(0,m.__)("Cancel","wds"),onClick:n}),(0,t.createElement)("div",{className:"sui-actions-right"},(0,t.createElement)(h,{text:(0,m.__)("Add","wds"),onClick:()=>this.handleSubmit(),disabled:!i.length})))},(0,t.createElement)(H,{label:(0,m.__)("Type","wds"),options:s,selectedValue:a,onSelect:e=>this.handleChangeType(e)}),(0,t.createElement)(H,{label:(0,m.__)("Post","wds"),placeholder:(0,m.__)("Start typing to search ...","wds"),selectedValue:i,multiple:!0,tagging:!0,ajaxUrl:()=>this.getAjaxSearchUrl(),processResults:e=>this.processResults(e),onSelect:e=>this.handleUpdateItems(e)}))}handleSubmit(){this.props.onSubmit&&this.props.onSubmit($()(this.state.items,{$set:this.state.items}))}handleChangeType(e){this.setState({selectedType:e})}handleUpdateItems(e){this.setState({items:e})}getAjaxSearchUrl(){return!!re()&&(0,m.sprintf)("%s?action=wds-load_exclusion_posts-posts_data-paged&type=%s&_wds_nonce=%s",re(),this.state.selectedType,this.props.nonce)}processResults(e){const t=[],s=[];return e.posts.forEach((e=>{t.push({id:e.id,text:e.title}),s.push(e)})),this.props.onPostsUpdate&&this.props.onPostsUpdate(s),{results:t}}}class yr{static showSuccessNotice(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.showNotice(e,t,"success",s)}static showErrorNotice(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.showNotice(e,t,"error",s)}static showInfoNotice(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.showNotice(e,t,"info",s)}static showWarningNotice(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.showNotice(e,t,"warning",s)}static closeNotice(e){SUI.closeNotice(e)}static showNotice(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"success",n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];SUI.closeNotice(e),SUI.openNotice(e,"<p>"+t+"</p>",{type:s,icon:{error:"warning-alert",info:"info",warning:"warning-alert",success:"check-tick"}[s],dismiss:{show:n}})}}class wr extends r().Component{static defaultProps={id:""};render(){return(0,t.createElement)("div",{className:"sui-floating-notices"},(0,t.createElement)("div",{role:"alert",id:this.props.id,className:"sui-notice","aria-live":"assertive"}))}}class br extends r().Component{static defaultProps={items:[],postTypes:{},nonce:"",onUpdate:()=>!1,onRemove:()=>!1};constructor(e){super(e),this.state={loading:!0,openDialog:!1,items:this.props.items,posts:[]}}componentDidMount(){this.loadPosts()}render(){const{postTypes:s,items:n,nonce:i,onRemove:a}=this.props,{posts:o,loading:l,openDialog:c}=this.state;return(0,t.createElement)("div",{className:"wds-postlist-list"},(0,t.createElement)(wr,{id:"wds-postlist-notice"}),!l&&(0,t.createElement)(r().Fragment,null,!!n.length&&(0,t.createElement)("table",{className:"wds-postlist sui-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,(0,m.__)("Post","wds")),(0,t.createElement)("th",{colSpan:"2"},(0,m.__)("Post Type","wds")))),(0,t.createElement)("tbody",null,o.filter((e=>-1!==n.indexOf(e.id))).map(((s,n)=>(0,t.createElement)(fr,e({key:n,onRemove:e=>a(e)},s)))))),!n.length&&(0,t.createElement)(K,{type:"info",message:(0,m.__)("You haven't chosen to exclude any posts/pages.","wds")}),(0,t.createElement)(h,{id:"wds-postlist-selector-open",icon:"sui-icon-plus",text:(0,m.__)("Add Exclusion","wds"),onClick:()=>this.toggleModal()})),l&&(0,t.createElement)("small",null,(0,t.createElement)("i",null,(0,m.__)("Loading posts, please hold on","wds"))),c&&(0,t.createElement)(gr,{id:"wds-postlist-selector",postTypes:s,onPostsUpdate:e=>this.handlePostsUpdate(e),onSubmit:e=>this.handleItemsUpdate(e),onClose:()=>this.toggleModal(),nonce:i}))}loadPosts(){ie.post("wds-load_exclusion_posts-posts_data-specific",this.props.nonce,{type:"exclude",posts:this.props.items}).then((e=>{this.setState({posts:e.posts,loading:!1})})).catch((e=>{yr.showErrorNotice("wds-postlist-notice",e||(0,m.__)("An error occurred. Please try again.","wds"),!1),this.setState({loading:!1})}))}handleItemsUpdate(e){let{items:t}=this.props;e.forEach((e=>{const s=parseInt(e);-1===t.indexOf(s)&&(t=$()(t,{$push:[s]}))})),this.setState({openDialog:!1}),this.props.onUpdate(t)}handlePostsUpdate(e){let{posts:t}=this.state;t||(t=[]);const s=t?t.map((e=>e.id)):[];e.forEach((e=>{-1===s.indexOf(e.id)&&(t=$()(t,{$push:[e]}))})),this.setState({posts:t})}toggleModal(){this.setState({openDialog:!this.state.openDialog})}}class vr extends r().Component{static defaultProps={optionName:"",exclusions:[],postTypes:[],nonce:""};constructor(e){super(e),this.state={openDialog:!1,exclusions:this.props.exclusions}}render(){const{optionName:e,postTypes:s,nonce:n}=this.props,{exclusions:i}=this.state;return(0,t.createElement)(r().Fragment,null,(0,t.createElement)("label",{className:"sui-label"},(0,m.__)("Exclude Posts/Pages","wds")),(0,t.createElement)(br,{items:i,postTypes:s,nonce:n,onRemove:e=>this.handleRemove(e),onUpdate:e=>this.handleUpdate(e)}),(0,t.createElement)("input",{name:e+"[ignorepost]",type:"hidden",value:i.join(",")}))}handleRemove(e){const t=this.state.exclusions.indexOf(e);this.setState({exclusions:$()(this.state.exclusions,{$splice:[[t,1]]})})}handleUpdate(e){this.setState({exclusions:e})}}l()((()=>{const s=document.getElementById("wds-custom-keyword-pairs");if(s){const e=q.get("custom_keywords","autolinks")||"";(0,c.render)((0,t.createElement)(a,null,(0,t.createElement)(L,{data:e})),s)}const n=document.getElementById("wds-redirects-container");if(n){const e=q.get("redirects","redirects")||{},s=q.get("nonce","redirects")||{},r=q.get("home_url","redirects")||{},i=q.get("accepted-csv-types","redirects")||[];(0,c.render)((0,t.createElement)(a,null,(0,t.createElement)(lr,{redirects:e,homeUrl:r,nonce:s,csvTypes:i})),n)}const r=document.getElementById("wds-woo-settings-tab");if(r){const s=q.get("options","woo")||{},n=q.get("permalink_settings","woo");(0,c.render)((0,t.createElement)(a,null,(0,t.createElement)(pr,e({},s,{permalinkSettingsUrl:n,disabledImagePath:q.get("image_path","woo"),nonce:q.get("nonce","woo")}))),r)}const i=document.getElementById("wds-excluded-posts");if(i){let e=q.get("exclusions","excluded_posts");e=e.split(",").filter((e=>!!e)).map((e=>parseInt(e.trim())));let s=q.get("post_types","excluded_posts");for(const e in s)s[e]=s[e].label||s[e].name;(0,c.render)((0,t.createElement)(a,null,(0,t.createElement)(vr,{optionName:q.get("option_name","excluded_posts"),postTypes:q.get("post_types","excluded_posts"),exclusions:e,nonce:q.get("nonce","excluded_posts")})),i)}})),function(e){function t(t){var s=e(this).find(".wds-action-button"),n=t.which;s.length&&13===n&&(t.preventDefault(),t.stopPropagation(),s.trigger("click"))}function s(t){var s=!0,n=e(this),r=e('button[type="submit"]',n);e(".sui-form-field",n).each((function(){var t=e(this),n=e("input",t);n.val().trim()||(s=!1,t.addClass("sui-form-field-error"),n.on("focus keydown",(function(){e(this).closest(".sui-form-field-error").removeClass("sui-form-field-error")})))})),s?r.addClass("sui-button-onload"):(r.removeClass("sui-button-onload"),t.preventDefault())}function n(){let e=this.scrollHeight;!e&&this.value.includes("\n")&&(e=22*(this.value.split("\n").length+1)),this.style.height="1px",this.style.height=e+"px"}e((function(){var r;e(".wds-vertical-tabs").on("wds_vertical_tabs:tab_change",(function(t,s){e(s).find(".wds-vertical-tab-section").removeClass("hidden")})),e(document).on("submit",".wds-moz-form",s).on("input propertychange",".tab_robots_editor textarea",n).on("keydown",".sui-modal",t),e(".tab_robots_editor textarea").each((function(){n.apply(this)})),window.Wds.link_dropdown(),window.Wds.accordion(),window.Wds.vertical_tabs(),window.Wds.hook_toggleables(),"tab_url_redirection"===(r=new URLSearchParams(window.location.search)).get("tab")&&r.get("add_redirect")&&e("button.wds-add-redirect").trigger("click")}))}(jQuery)}()}();