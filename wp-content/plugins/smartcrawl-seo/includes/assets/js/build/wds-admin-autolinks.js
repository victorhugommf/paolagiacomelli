!function(){var e={4184:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var o=s.apply(null,n);o&&e.push(o)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var a in n)r.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(n=function(){return s}.apply(t,[]))||(e.exports=n)}()},7145:function(e,t){"use strict";function n(e){return"object"!=typeof e||"toString"in e?e:Object.prototype.toString.call(e).slice(8,-1)}Object.defineProperty(t,"__esModule",{value:!0});var r="object"==typeof process&&!0;function s(e,t){if(!e){if(r)throw new Error("Invariant failed");throw new Error(t())}}t.invariant=s;var i=Object.prototype.hasOwnProperty,o=Array.prototype.splice,a=Object.prototype.toString;function l(e){return a.call(e).slice(8,-1)}var u=Object.assign||function(e,t){return c(t).forEach((function(n){i.call(t,n)&&(e[n]=t[n])})),e},c="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function d(e){return Array.isArray(e)?u(e.constructor(e.length),e):"Map"===l(e)?new Map(e):"Set"===l(e)?new Set(e):e&&"object"==typeof e?u(Object.create(Object.getPrototypeOf(e)),e):e}var h=function(){function e(){this.commands=u({},m),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new e).update}}return Object.defineProperty(e.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this.commands[e]=t},e.prototype.update=function(e,t){var n=this,r="function"==typeof t?{$apply:t}:t;Array.isArray(e)&&Array.isArray(r)||s(!Array.isArray(r),(function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."})),s("object"==typeof r&&null!==r,(function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(n.commands).join(", ")+"."}));var o=e;return c(r).forEach((function(t){if(i.call(n.commands,t)){var s=e===o;o=n.commands[t](r[t],o,r,e),s&&n.isEquals(o,e)&&(o=e)}else{var a="Map"===l(e)?n.update(e.get(t),r[t]):n.update(e[t],r[t]),u="Map"===l(o)?o.get(t):o[t];n.isEquals(a,u)&&(void 0!==a||i.call(e,t))||(o===e&&(o=d(e)),"Map"===l(o)?o.set(t,a):o[t]=a)}})),o},e}();t.Context=h;var m={$push:function(e,t,n){return f(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return f(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,r,i){return function(e,t){s(Array.isArray(e),(function(){return"Expected $splice target to be an array; got "+n(e)})),y(t.$splice)}(t,r),e.forEach((function(e){y(e),t===i&&e.length&&(t=d(i)),o.apply(t,e)})),t},$set:function(e,t,n){return function(e){s(1===Object.keys(e).length,(function(){return"Cannot have more than one key in an object with $set"}))}(n),e},$toggle:function(e,t){g(e,"$toggle");var n=e.length?d(t):t;return e.forEach((function(e){n[e]=!t[e]})),n},$unset:function(e,t,n,r){return g(e,"$unset"),e.forEach((function(e){Object.hasOwnProperty.call(t,e)&&(t===r&&(t=d(r)),delete t[e])})),t},$add:function(e,t,n,r){return v(t,"$add"),g(e,"$add"),"Map"===l(t)?e.forEach((function(e){var n=e[0],s=e[1];t===r&&t.get(n)!==s&&(t=d(r)),t.set(n,s)})):e.forEach((function(e){t!==r||t.has(e)||(t=d(r)),t.add(e)})),t},$remove:function(e,t,n,r){return v(t,"$remove"),g(e,"$remove"),e.forEach((function(e){t===r&&t.has(e)&&(t=d(r)),t.delete(e)})),t},$merge:function(e,t,r,i){var o,a;return o=t,s((a=e)&&"object"==typeof a,(function(){return"update(): $merge expects a spec of type 'object'; got "+n(a)})),s(o&&"object"==typeof o,(function(){return"update(): $merge expects a target of type 'object'; got "+n(o)})),c(e).forEach((function(n){e[n]!==t[n]&&(t===i&&(t=d(i)),t[n]=e[n])})),t},$apply:function(e,t){var r;return s("function"==typeof(r=e),(function(){return"update(): expected spec of $apply to be a function; got "+n(r)+"."})),e(t)}},p=new h;function f(e,t,r){s(Array.isArray(e),(function(){return"update(): expected target of "+n(r)+" to be an array; got "+n(e)+"."})),g(t[r],r)}function g(e,t){s(Array.isArray(e),(function(){return"update(): expected spec of "+n(t)+" to be an array; got "+n(e)+". Did you forget to wrap your parameter in an array?"}))}function y(e){s(Array.isArray(e),(function(){return"update(): expected spec of $splice to be an array of arrays; got "+n(e)+". Did you forget to wrap your parameters in an array?"}))}function v(e,t){var r=l(e);s("Map"===r||"Set"===r,(function(){return"update(): "+n(t)+" expects a target of type Set or Map; got "+n(r)}))}t.isEquals=p.update.isEquals,t.extend=p.extend,t.default=p.update,t.default.default=e.exports=u(t.default,t)},2705:function(e,t,n){var r=n(5639).Symbol;e.exports=r},9932:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}},4239:function(e,t,n){var r=n(2705),s=n(9607),i=n(2333),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?s(e):i(e)}},98:function(e){var t=Math.ceil,n=Math.max;e.exports=function(e,r,s,i){for(var o=-1,a=n(t((r-e)/(s||1)),0),l=Array(a);a--;)l[i?a:++o]=e,e+=s;return l}},531:function(e,t,n){var r=n(2705),s=n(9932),i=n(1469),o=n(3448),a=r?r.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return s(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},7561:function(e,t,n){var r=n(7990),s=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(s,""):e}},7445:function(e,t,n){var r=n(98),s=n(6612),i=n(8601);e.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&s(t,n,o)&&(n=o=void 0),t=i(t),void 0===n?(n=t,t=0):n=i(n),o=void 0===o?t<n?1:-1:i(o),r(t,n,o,e)}}},1957:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},9607:function(e,t,n){var r=n(2705),s=Object.prototype,i=s.hasOwnProperty,o=s.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var s=o.call(e);return r&&(t?e[a]=n:delete e[a]),s}},5776:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},6612:function(e,t,n){var r=n(7813),s=n(8612),i=n(5776),o=n(3218);e.exports=function(e,t,n){if(!o(n))return!1;var a=typeof t;return!!("number"==a?s(n)&&i(t,n.length):"string"==a&&t in n)&&r(n[t],e)}},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:function(e,t,n){var r=n(1957),s="object"==typeof self&&self&&self.Object===Object&&self,i=r||s||Function("return this")();e.exports=i},7990:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},7813:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},1469:function(e){var t=Array.isArray;e.exports=t},8612:function(e,t,n){var r=n(3560),s=n(1780);e.exports=function(e){return null!=e&&s(e.length)&&!r(e)}},3560:function(e,t,n){var r=n(4239),s=n(3218);e.exports=function(e){if(!s(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},3448:function(e,t,n){var r=n(4239),s=n(7005);e.exports=function(e){return"symbol"==typeof e||s(e)&&"[object Symbol]"==r(e)}},6026:function(e,t,n){var r=n(7445)();e.exports=r},8601:function(e,t,n){var r=n(4841);e.exports=function(e){return e?Infinity===(e=r(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},4841:function(e,t,n){var r=n(7561),s=n(3218),i=n(3448),o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=a.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):o.test(e)?NaN:+e}},9833:function(e,t,n){var r=n(531);e.exports=function(e){return null==e?"":r(e)}},3955:function(e,t,n){var r=n(9833),s=0;e.exports=function(e){var t=++s;return r(e)+t}},9490:function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,n){return(u=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var s=new(Function.bind.apply(e,r));return n&&a(s,n.prototype),s}).apply(null,arguments)}function c(e){var t="function"==typeof Map?new Map:void 0;return(c=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return u(e,arguments,o(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,e)})(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var m=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t}(c(Error)),p=function(e){function t(t){return e.call(this,"Invalid DateTime: "+t.toMessage())||this}return i(t,e),t}(m),f=function(e){function t(t){return e.call(this,"Invalid Interval: "+t.toMessage())||this}return i(t,e),t}(m),g=function(e){function t(t){return e.call(this,"Invalid Duration: "+t.toMessage())||this}return i(t,e),t}(m),y=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t}(m),v=function(e){function t(t){return e.call(this,"Invalid unit "+t)||this}return i(t,e),t}(m),w=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t}(m),b=function(e){function t(){return e.call(this,"Zone is an abstract class")||this}return i(t,e),t}(m),E="numeric",k="short",S="long",_={year:E,month:E,day:E},x={year:E,month:k,day:E},N={year:E,month:k,day:E,weekday:k},C={year:E,month:S,day:E},T={year:E,month:S,day:E,weekday:S},O={hour:E,minute:E},P={hour:E,minute:E,second:E},I={hour:E,minute:E,second:E,timeZoneName:k},M={hour:E,minute:E,second:E,timeZoneName:S},D={hour:E,minute:E,hourCycle:"h23"},R={hour:E,minute:E,second:E,hourCycle:"h23"},V={hour:E,minute:E,second:E,hourCycle:"h23",timeZoneName:k},A={hour:E,minute:E,second:E,hourCycle:"h23",timeZoneName:S},j={year:E,month:E,day:E,hour:E,minute:E},U={year:E,month:E,day:E,hour:E,minute:E,second:E},F={year:E,month:k,day:E,hour:E,minute:E},L={year:E,month:k,day:E,hour:E,minute:E,second:E},q={year:E,month:k,day:E,weekday:k,hour:E,minute:E},Z={year:E,month:S,day:E,hour:E,minute:E,timeZoneName:k},z={year:E,month:S,day:E,hour:E,minute:E,second:E,timeZoneName:k},W={year:E,month:S,day:E,weekday:S,hour:E,minute:E,timeZoneName:S},$={year:E,month:S,day:E,weekday:S,hour:E,minute:E,second:E,timeZoneName:S};function G(e){return void 0===e}function H(e){return"number"==typeof e}function Y(e){return"number"==typeof e&&e%1==0}function B(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function J(e,t,n){if(0!==e.length)return e.reduce((function(e,r){var s=[t(r),r];return e&&n(e[0],s[0])===e[0]?e:s}),null)[1]}function Q(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function K(e,t,n){return Y(e)&&e>=t&&e<=n}function X(e,t){void 0===t&&(t=2);var n=e<0?"-":"",r=n?-1*e:e;return""+n+(r.toString().length<t?("0".repeat(t)+r).slice(-t):r.toString())}function ee(e){return G(e)||null===e||""===e?void 0:parseInt(e,10)}function te(e){if(!G(e)&&null!==e&&""!==e){var t=1e3*parseFloat("0."+e);return Math.floor(t)}}function ne(e,t,n){void 0===n&&(n=!1);var r=Math.pow(10,t);return(n?Math.trunc:Math.round)(e*r)/r}function re(e){return e%4==0&&(e%100!=0||e%400==0)}function se(e){return re(e)?366:365}function ie(e,t){var n,r=(n=t-1)-12*Math.floor(n/12)+1;return 2===r?re(e+(t-r)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function oe(e){var t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t)).setUTCFullYear(t.getUTCFullYear()-1900),+t}function ae(e){var t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,n=e-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return 4===t||3===r?53:52}function le(e){return e>99?e:e>60?1900+e:2e3+e}function ue(e,t,n,r){void 0===r&&(r=null);var i=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(o.timeZone=r);var a=s({timeZoneName:t},o),l=new Intl.DateTimeFormat(n,a).formatToParts(i).find((function(e){return"timezonename"===e.type.toLowerCase()}));return l?l.value:null}function ce(e,t){var n=parseInt(e,10);Number.isNaN(n)&&(n=0);var r=parseInt(t,10)||0;return 60*n+(n<0||Object.is(n,-0)?-r:r)}function de(e){var t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new w("Invalid unit value "+e);return t}function he(e,t){var n={};for(var r in e)if(Q(e,r)){var s=e[r];if(null==s)continue;n[t(r)]=de(s)}return n}function me(e,t){var n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),s=e>=0?"+":"-";switch(t){case"short":return""+s+X(n,2)+":"+X(r,2);case"narrow":return""+s+n+(r>0?":"+r:"");case"techie":return""+s+X(n,2)+X(r,2);default:throw new RangeError("Value format "+t+" is out of range for property format")}}function pe(e){return function(e,t){return["hour","minute","second","millisecond"].reduce((function(t,n){return t[n]=e[n],t}),{})}(e)}var fe=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/,ge=["January","February","March","April","May","June","July","August","September","October","November","December"],ye=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ve=["J","F","M","A","M","J","J","A","S","O","N","D"];function we(e){switch(e){case"narrow":return[].concat(ve);case"short":return[].concat(ye);case"long":return[].concat(ge);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var be=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ee=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ke=["M","T","W","T","F","S","S"];function Se(e){switch(e){case"narrow":return[].concat(ke);case"short":return[].concat(Ee);case"long":return[].concat(be);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var _e=["AM","PM"],xe=["Before Christ","Anno Domini"],Ne=["BC","AD"],Ce=["B","A"];function Te(e){switch(e){case"narrow":return[].concat(Ce);case"short":return[].concat(Ne);case"long":return[].concat(xe);default:return null}}function Oe(e,t){for(var n,r="",s=h(e);!(n=s()).done;){var i=n.value;i.literal?r+=i.val:r+=t(i.val)}return r}var Pe={D:_,DD:x,DDD:C,DDDD:T,t:O,tt:P,ttt:I,tttt:M,T:D,TT:R,TTT:V,TTTT:A,f:j,ff:F,fff:Z,ffff:W,F:U,FF:L,FFF:z,FFFF:$},Ie=function(){function e(e,t){this.opts=t,this.loc=e,this.systemLoc=null}e.create=function(t,n){return void 0===n&&(n={}),new e(t,n)},e.parseFormat=function(e){for(var t=null,n="",r=!1,s=[],i=0;i<e.length;i++){var o=e.charAt(i);"'"===o?(n.length>0&&s.push({literal:r,val:n}),t=null,n="",r=!r):r||o===t?n+=o:(n.length>0&&s.push({literal:!1,val:n}),n=o,t=o)}return n.length>0&&s.push({literal:r,val:n}),s},e.macroTokenToFormatOpts=function(e){return Pe[e]};var t=e.prototype;return t.formatWithSystemDefault=function(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,s({},this.opts,t)).format()},t.formatDateTime=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,s({},this.opts,t)).format()},t.formatDateTimeParts=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,s({},this.opts,t)).formatToParts()},t.resolvedOptions=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,s({},this.opts,t)).resolvedOptions()},t.num=function(e,t){if(void 0===t&&(t=0),this.opts.forceSimple)return X(e,t);var n=s({},this.opts);return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)},t.formatDateTimeFromString=function(t,n){var r=this,s="en"===this.loc.listingMode(),i=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,o=function(e,n){return r.loc.extract(t,e,n)},a=function(e){return t.isOffsetFixed&&0===t.offset&&e.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,e.format):""},l=function(e,n){return s?function(e,t){return we(t)[e.month-1]}(t,e):o(n?{month:e}:{month:e,day:"numeric"},"month")},u=function(e,n){return s?function(e,t){return Se(t)[e.weekday-1]}(t,e):o(n?{weekday:e}:{weekday:e,month:"long",day:"numeric"},"weekday")},c=function(e){return s?function(e,t){return Te(t)[e.year<0?0:1]}(t,e):o({era:e},"era")};return Oe(e.parseFormat(n),(function(n){switch(n){case"S":return r.num(t.millisecond);case"u":case"SSS":return r.num(t.millisecond,3);case"s":return r.num(t.second);case"ss":return r.num(t.second,2);case"m":return r.num(t.minute);case"mm":return r.num(t.minute,2);case"h":return r.num(t.hour%12==0?12:t.hour%12);case"hh":return r.num(t.hour%12==0?12:t.hour%12,2);case"H":return r.num(t.hour);case"HH":return r.num(t.hour,2);case"Z":return a({format:"narrow",allowZ:r.opts.allowZ});case"ZZ":return a({format:"short",allowZ:r.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:r.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:r.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:r.loc.locale});case"z":return t.zoneName;case"a":return s?function(e){return _e[e.hour<12?0:1]}(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return i?o({day:"numeric"},"day"):r.num(t.day);case"dd":return i?o({day:"2-digit"},"day"):r.num(t.day,2);case"c":return r.num(t.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return r.num(t.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return i?o({month:"numeric",day:"numeric"},"month"):r.num(t.month);case"LL":return i?o({month:"2-digit",day:"numeric"},"month"):r.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?o({month:"numeric"},"month"):r.num(t.month);case"MM":return i?o({month:"2-digit"},"month"):r.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?o({year:"numeric"},"year"):r.num(t.year);case"yy":return i?o({year:"2-digit"},"year"):r.num(t.year.toString().slice(-2),2);case"yyyy":return i?o({year:"numeric"},"year"):r.num(t.year,4);case"yyyyyy":return i?o({year:"numeric"},"year"):r.num(t.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return r.num(t.weekYear.toString().slice(-2),2);case"kkkk":return r.num(t.weekYear,4);case"W":return r.num(t.weekNumber);case"WW":return r.num(t.weekNumber,2);case"o":return r.num(t.ordinal);case"ooo":return r.num(t.ordinal,3);case"q":return r.num(t.quarter);case"qq":return r.num(t.quarter,2);case"X":return r.num(Math.floor(t.ts/1e3));case"x":return r.num(t.ts);default:return function(n){var s=e.macroTokenToFormatOpts(n);return s?r.formatWithSystemDefault(t,s):n}(n)}}))},t.formatDurationFromString=function(t,n){var r,s=this,i=function(e){switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},o=e.parseFormat(n),a=o.reduce((function(e,t){var n=t.literal,r=t.val;return n?e:e.concat(r)}),[]),l=t.shiftTo.apply(t,a.map(i).filter((function(e){return e})));return Oe(o,(r=l,function(e){var t=i(e);return t?s.num(r.get(t),e.length):e}))},e}(),Me=function(){function e(e,t){this.reason=e,this.explanation=t}return e.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},e}(),De=function(){function e(){}var t=e.prototype;return t.offsetName=function(e,t){throw new b},t.formatOffset=function(e,t){throw new b},t.offset=function(e){throw new b},t.equals=function(e){throw new b},r(e,[{key:"type",get:function(){throw new b}},{key:"name",get:function(){throw new b}},{key:"isUniversal",get:function(){throw new b}},{key:"isValid",get:function(){throw new b}}]),e}(),Re=null,Ve=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var n=t.prototype;return n.offsetName=function(e,t){return ue(e,t.format,t.locale)},n.formatOffset=function(e,t){return me(this.offset(e),t)},n.offset=function(e){return-new Date(e).getTimezoneOffset()},n.equals=function(e){return"system"===e.type},r(t,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===Re&&(Re=new t),Re}}]),t}(De),Ae=RegExp("^"+fe.source+"$"),je={},Ue={year:0,month:1,day:2,hour:3,minute:4,second:5},Fe={},Le=function(e){function t(n){var r;return(r=e.call(this)||this).zoneName=n,r.valid=t.isValidZone(n),r}i(t,e),t.create=function(e){return Fe[e]||(Fe[e]=new t(e)),Fe[e]},t.resetCache=function(){Fe={},je={}},t.isValidSpecifier=function(e){return!(!e||!e.match(Ae))},t.isValidZone=function(e){try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}},t.parseGMTOffset=function(e){if(e){var t=e.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(t)return-60*parseInt(t[1])}return null};var n=t.prototype;return n.offsetName=function(e,t){return ue(e,t.format,t.locale,this.name)},n.formatOffset=function(e,t){return me(this.offset(e),t)},n.offset=function(e){var t=new Date(e);if(isNaN(t))return NaN;var n,r=(n=this.name,je[n]||(je[n]=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),je[n]),s=r.formatToParts?function(e,t){for(var n=e.formatToParts(t),r=[],s=0;s<n.length;s++){var i=n[s],o=i.type,a=i.value,l=Ue[o];G(l)||(r[l]=parseInt(a,10))}return r}(r,t):function(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n),s=r[1],i=r[2];return[r[3],s,i,r[4],r[5],r[6]]}(r,t),i=+t,o=i%1e3;return(oe({year:s[0],month:s[1],day:s[2],hour:s[3],minute:s[4],second:s[5],millisecond:0})-(i-=o>=0?o:1e3+o))/6e4},n.equals=function(e){return"iana"===e.type&&e.name===this.name},r(t,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),t}(De),qe=null,Ze=function(e){function t(t){var n;return(n=e.call(this)||this).fixed=t,n}i(t,e),t.instance=function(e){return 0===e?t.utcInstance:new t(e)},t.parseSpecifier=function(e){if(e){var n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new t(ce(n[1],n[2]))}return null};var n=t.prototype;return n.offsetName=function(){return this.name},n.formatOffset=function(e,t){return me(this.fixed,t)},n.offset=function(){return this.fixed},n.equals=function(e){return"fixed"===e.type&&e.fixed===this.fixed},r(t,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+me(this.fixed,"narrow")}},{key:"isUniversal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return null===qe&&(qe=new t(0)),qe}}]),t}(De),ze=function(e){function t(t){var n;return(n=e.call(this)||this).zoneName=t,n}i(t,e);var n=t.prototype;return n.offsetName=function(){return null},n.formatOffset=function(){return""},n.offset=function(){return NaN},n.equals=function(){return!1},r(t,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),t}(De);function We(e,t){var n;if(G(e)||null===e)return t;if(e instanceof De)return e;if("string"==typeof e){var r=e.toLowerCase();return"local"===r||"system"===r?t:"utc"===r||"gmt"===r?Ze.utcInstance:null!=(n=Le.parseGMTOffset(e))?Ze.instance(n):Le.isValidSpecifier(r)?Le.create(e):Ze.parseSpecifier(r)||new ze(e)}return H(e)?Ze.instance(e):"object"==typeof e&&e.offset&&"number"==typeof e.offset?e:new ze(e)}var $e,Ge=function(){return Date.now()},He="system",Ye=null,Be=null,Je=null,Qe=function(){function e(){}return e.resetCaches=function(){lt.resetCache(),Le.resetCache()},r(e,null,[{key:"now",get:function(){return Ge},set:function(e){Ge=e}},{key:"defaultZone",get:function(){return We(He,Ve.instance)},set:function(e){He=e}},{key:"defaultLocale",get:function(){return Ye},set:function(e){Ye=e}},{key:"defaultNumberingSystem",get:function(){return Be},set:function(e){Be=e}},{key:"defaultOutputCalendar",get:function(){return Je},set:function(e){Je=e}},{key:"throwOnInvalid",get:function(){return $e},set:function(e){$e=e}}]),e}(),Ke=["base"],Xe={};function et(e,t){void 0===t&&(t={});var n=JSON.stringify([e,t]),r=Xe[n];return r||(r=new Intl.DateTimeFormat(e,t),Xe[n]=r),r}var tt={},nt={};var rt=null;function st(e,t,n,r,s){var i=e.listingMode(n);return"error"===i?null:"en"===i?r(t):s(t)}var it=function(){function e(e,t,n){if(this.padTo=n.padTo||0,this.floor=n.floor||!1,!t){var r={useGrouping:!1};n.padTo>0&&(r.minimumIntegerDigits=n.padTo),this.inf=function(e,t){void 0===t&&(t={});var n=JSON.stringify([e,t]),r=tt[n];return r||(r=new Intl.NumberFormat(e,t),tt[n]=r),r}(e,r)}}return e.prototype.format=function(e){if(this.inf){var t=this.floor?Math.floor(e):e;return this.inf.format(t)}return X(this.floor?Math.floor(e):ne(e,3),this.padTo)},e}(),ot=function(){function e(e,t,n){var r;if(this.opts=n,e.zone.isUniversal){var i=e.offset/60*-1,o=i>=0?"Etc/GMT+"+i:"Etc/GMT"+i,a=Le.isValidZone(o);0!==e.offset&&a?(r=o,this.dt=e):(r="UTC",n.timeZoneName?this.dt=e:this.dt=0===e.offset?e:lr.fromMillis(e.ts+60*e.offset*1e3))}else"system"===e.zone.type?this.dt=e:(this.dt=e,r=e.zone.name);var l=s({},this.opts);r&&(l.timeZone=r),this.dtf=et(t,l)}var t=e.prototype;return t.format=function(){return this.dtf.format(this.dt.toJSDate())},t.formatToParts=function(){return this.dtf.formatToParts(this.dt.toJSDate())},t.resolvedOptions=function(){return this.dtf.resolvedOptions()},e}(),at=function(){function e(e,t,n){this.opts=s({style:"long"},n),!t&&B()&&(this.rtf=function(e,t){void 0===t&&(t={});var n=t;n.base;var r=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(n,Ke),s=JSON.stringify([e,r]),i=nt[s];return i||(i=new Intl.RelativeTimeFormat(e,t),nt[s]=i),i}(e,n))}var t=e.prototype;return t.format=function(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,n,r){void 0===n&&(n="always"),void 0===r&&(r=!1);var s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===n&&i){var o="days"===e;switch(t){case 1:return o?"tomorrow":"next "+s[e][0];case-1:return o?"yesterday":"last "+s[e][0];case 0:return o?"today":"this "+s[e][0]}}var a=Object.is(t,-0)||t<0,l=Math.abs(t),u=1===l,c=s[e],d=r?u?c[1]:c[2]||c[1]:u?s[e][0]:e;return a?l+" "+d+" ago":"in "+l+" "+d}(t,e,this.opts.numeric,"long"!==this.opts.style)},t.formatToParts=function(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]},e}(),lt=function(){function e(e,t,n,r){var s=function(e){var t=e.indexOf("-u-");if(-1===t)return[e];var n,r=e.substring(0,t);try{n=et(e).resolvedOptions()}catch(e){n=et(r).resolvedOptions()}var s=n;return[r,s.numberingSystem,s.calendar]}(e),i=s[0],o=s[1],a=s[2];this.locale=i,this.numberingSystem=t||o||null,this.outputCalendar=n||a||null,this.intl=function(e,t,n){return n||t?(e+="-u",n&&(e+="-ca-"+n),t&&(e+="-nu-"+t),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}e.fromOpts=function(t){return e.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)},e.create=function(t,n,r,s){void 0===s&&(s=!1);var i=t||Qe.defaultLocale;return new e(i||(s?"en-US":rt||(rt=(new Intl.DateTimeFormat).resolvedOptions().locale)),n||Qe.defaultNumberingSystem,r||Qe.defaultOutputCalendar,i)},e.resetCache=function(){rt=null,Xe={},tt={},nt={}},e.fromObject=function(t){var n=void 0===t?{}:t,r=n.locale,s=n.numberingSystem,i=n.outputCalendar;return e.create(r,s,i)};var t=e.prototype;return t.listingMode=function(e){var t=this.isEnglish(),n=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return t&&n?"en":"intl"},t.clone=function(t){return t&&0!==Object.getOwnPropertyNames(t).length?e.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1):this},t.redefaultToEN=function(e){return void 0===e&&(e={}),this.clone(s({},e,{defaultToEN:!0}))},t.redefaultToSystem=function(e){return void 0===e&&(e={}),this.clone(s({},e,{defaultToEN:!1}))},t.months=function(e,t,n){var r=this;return void 0===t&&(t=!1),void 0===n&&(n=!0),st(this,e,n,we,(function(){var n=t?{month:e,day:"numeric"}:{month:e},s=t?"format":"standalone";return r.monthsCache[s][e]||(r.monthsCache[s][e]=function(e){for(var t=[],n=1;n<=12;n++){var r=lr.utc(2016,n,1);t.push(e(r))}return t}((function(e){return r.extract(e,n,"month")}))),r.monthsCache[s][e]}))},t.weekdays=function(e,t,n){var r=this;return void 0===t&&(t=!1),void 0===n&&(n=!0),st(this,e,n,Se,(function(){var n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=t?"format":"standalone";return r.weekdaysCache[s][e]||(r.weekdaysCache[s][e]=function(e){for(var t=[],n=1;n<=7;n++){var r=lr.utc(2016,11,13+n);t.push(e(r))}return t}((function(e){return r.extract(e,n,"weekday")}))),r.weekdaysCache[s][e]}))},t.meridiems=function(e){var t=this;return void 0===e&&(e=!0),st(this,void 0,e,(function(){return _e}),(function(){if(!t.meridiemCache){var e={hour:"numeric",hourCycle:"h12"};t.meridiemCache=[lr.utc(2016,11,13,9),lr.utc(2016,11,13,19)].map((function(n){return t.extract(n,e,"dayperiod")}))}return t.meridiemCache}))},t.eras=function(e,t){var n=this;return void 0===t&&(t=!0),st(this,e,t,Te,(function(){var t={era:e};return n.eraCache[e]||(n.eraCache[e]=[lr.utc(-40,1,1),lr.utc(2017,1,1)].map((function(e){return n.extract(e,t,"era")}))),n.eraCache[e]}))},t.extract=function(e,t,n){var r=this.dtFormatter(e,t).formatToParts().find((function(e){return e.type.toLowerCase()===n}));return r?r.value:null},t.numberFormatter=function(e){return void 0===e&&(e={}),new it(this.intl,e.forceSimple||this.fastNumbers,e)},t.dtFormatter=function(e,t){return void 0===t&&(t={}),new ot(e,this.intl,t)},t.relFormatter=function(e){return void 0===e&&(e={}),new at(this.intl,this.isEnglish(),e)},t.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},t.equals=function(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar},r(e,[{key:"fastNumbers",get:function(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}}]),e}();function ut(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e+t.source}),"");return RegExp("^"+r+"$")}function ct(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){var r=t[0],i=t[1],o=t[2],a=n(e,o),l=a[0],u=a[1],c=a[2];return[s({},r,l),i||u,c]}),[{},null,1]).slice(0,2)}}function dt(e){if(null==e)return[null,null];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var s=0,i=n;s<i.length;s++){var o=i[s],a=o[0],l=o[1],u=a.exec(e);if(u)return l(u)}return[null,null]}function ht(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){var r,s={};for(r=0;r<t.length;r++)s[t[r]]=ee(e[n+r]);return[s,null,n+r]}}var mt=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,pt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ft=RegExp(""+pt.source+mt.source+"?"),gt=RegExp("(?:T"+ft.source+")?"),yt=ht("weekYear","weekNumber","weekDay"),vt=ht("year","ordinal"),wt=RegExp(pt.source+" ?(?:"+mt.source+"|("+fe.source+"))?"),bt=RegExp("(?: "+wt.source+")?");function Et(e,t,n){var r=e[t];return G(r)?n:ee(r)}function kt(e,t){return[{year:Et(e,t),month:Et(e,t+1,1),day:Et(e,t+2,1)},null,t+3]}function St(e,t){return[{hours:Et(e,t,0),minutes:Et(e,t+1,0),seconds:Et(e,t+2,0),milliseconds:te(e[t+3])},null,t+4]}function _t(e,t){var n=!e[t]&&!e[t+1],r=ce(e[t+1],e[t+2]);return[{},n?null:Ze.instance(r),t+3]}function xt(e,t){return[{},e[t]?Le.create(e[t]):null,t+1]}var Nt=RegExp("^T?"+pt.source+"$"),Ct=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function Tt(e){var t=e[0],n=e[1],r=e[2],s=e[3],i=e[4],o=e[5],a=e[6],l=e[7],u=e[8],c="-"===t[0],d=l&&"-"===l[0],h=function(e,t){return void 0===t&&(t=!1),void 0!==e&&(t||e&&c)?-e:e};return[{years:h(ee(n)),months:h(ee(r)),weeks:h(ee(s)),days:h(ee(i)),hours:h(ee(o)),minutes:h(ee(a)),seconds:h(ee(l),"-0"===l),milliseconds:h(te(u),d)}]}var Ot={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Pt(e,t,n,r,s,i,o){var a={year:2===t.length?le(ee(t)):ee(t),month:ye.indexOf(n)+1,day:ee(r),hour:ee(s),minute:ee(i)};return o&&(a.second=ee(o)),e&&(a.weekday=e.length>3?be.indexOf(e)+1:Ee.indexOf(e)+1),a}var It=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Mt(e){var t,n=e[1],r=e[2],s=e[3],i=e[4],o=e[5],a=e[6],l=e[7],u=e[8],c=e[9],d=e[10],h=e[11],m=Pt(n,i,s,r,o,a,l);return t=u?Ot[u]:c?0:ce(d,h),[m,new Ze(t)]}var Dt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Rt=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Vt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function At(e){var t=e[1],n=e[2],r=e[3];return[Pt(t,e[4],r,n,e[5],e[6],e[7]),Ze.utcInstance]}function jt(e){var t=e[1],n=e[2],r=e[3],s=e[4],i=e[5],o=e[6];return[Pt(t,e[7],n,r,s,i,o),Ze.utcInstance]}var Ut=ut(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,gt),Ft=ut(/(\d{4})-?W(\d\d)(?:-?(\d))?/,gt),Lt=ut(/(\d{4})-?(\d{3})/,gt),qt=ut(ft),Zt=ct(kt,St,_t),zt=ct(yt,St,_t),Wt=ct(vt,St,_t),$t=ct(St,_t),Gt=ct(St),Ht=ut(/(\d{4})-(\d\d)-(\d\d)/,bt),Yt=ut(wt),Bt=ct(kt,St,_t,xt),Jt=ct(St,_t,xt),Qt={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Kt=s({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Qt),Xt=s({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Qt),en=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],tn=en.slice(0).reverse();function nn(e,t,n){void 0===n&&(n=!1);var r={values:n?t.values:s({},e.values,t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy};return new sn(r)}function rn(e,t,n,r,s){var i=e[s][n],o=t[n]/i,a=Math.sign(o)!==Math.sign(r[s])&&0!==r[s]&&Math.abs(o)<=1?function(e){return e<0?Math.floor(e):Math.ceil(e)}(o):Math.trunc(o);r[s]+=a,t[n]-=a*i}var sn=function(){function e(e){var t="longterm"===e.conversionAccuracy||!1;this.values=e.values,this.loc=e.loc||lt.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=t?Xt:Kt,this.isLuxonDuration=!0}e.fromMillis=function(t,n){return e.fromObject({milliseconds:t},n)},e.fromObject=function(t,n){if(void 0===n&&(n={}),null==t||"object"!=typeof t)throw new w("Duration.fromObject: argument expected to be an object, got "+(null===t?"null":typeof t));return new e({values:he(t,e.normalizeUnit),loc:lt.fromObject(n),conversionAccuracy:n.conversionAccuracy})},e.fromISO=function(t,n){var r=function(e){return dt(e,[Ct,Tt])}(t)[0];return r?e.fromObject(r,n):e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.fromISOTime=function(t,n){var r=function(e){return dt(e,[Nt,Gt])}(t)[0];return r?e.fromObject(r,n):e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new w("need to specify a reason the Duration is invalid");var r=t instanceof Me?t:new Me(t,n);if(Qe.throwOnInvalid)throw new g(r);return new e({invalid:r})},e.normalizeUnit=function(e){var t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new v(e);return t},e.isDuration=function(e){return e&&e.isLuxonDuration||!1};var t=e.prototype;return t.toFormat=function(e,t){void 0===t&&(t={});var n=s({},t,{floor:!1!==t.round&&!1!==t.floor});return this.isValid?Ie.create(this.loc,n).formatDurationFromString(this,e):"Invalid Duration"},t.toObject=function(){return this.isValid?s({},this.values):{}},t.toISO=function(){if(!this.isValid)return null;var e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=ne(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e},t.toISOTime=function(e){if(void 0===e&&(e={}),!this.isValid)return null;var t=this.toMillis();if(t<0||t>=864e5)return null;e=s({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e);var n=this.shiftTo("hours","minutes","seconds","milliseconds"),r="basic"===e.format?"hhmm":"hh:mm";e.suppressSeconds&&0===n.seconds&&0===n.milliseconds||(r+="basic"===e.format?"ss":":ss",e.suppressMilliseconds&&0===n.milliseconds||(r+=".SSS"));var i=n.toFormat(r);return e.includePrefix&&(i="T"+i),i},t.toJSON=function(){return this.toISO()},t.toString=function(){return this.toISO()},t.toMillis=function(){return this.as("milliseconds")},t.valueOf=function(){return this.toMillis()},t.plus=function(e){if(!this.isValid)return this;for(var t,n=on(e),r={},s=h(en);!(t=s()).done;){var i=t.value;(Q(n.values,i)||Q(this.values,i))&&(r[i]=n.get(i)+this.get(i))}return nn(this,{values:r},!0)},t.minus=function(e){if(!this.isValid)return this;var t=on(e);return this.plus(t.negate())},t.mapUnits=function(e){if(!this.isValid)return this;for(var t={},n=0,r=Object.keys(this.values);n<r.length;n++){var s=r[n];t[s]=de(e(this.values[s],s))}return nn(this,{values:t},!0)},t.get=function(t){return this[e.normalizeUnit(t)]},t.set=function(t){return this.isValid?nn(this,{values:s({},this.values,he(t,e.normalizeUnit))}):this},t.reconfigure=function(e){var t=void 0===e?{}:e,n=t.locale,r=t.numberingSystem,s=t.conversionAccuracy,i={loc:this.loc.clone({locale:n,numberingSystem:r})};return s&&(i.conversionAccuracy=s),nn(this,i)},t.as=function(e){return this.isValid?this.shiftTo(e).get(e):NaN},t.normalize=function(){if(!this.isValid)return this;var e=this.toObject();return function(e,t){tn.reduce((function(n,r){return G(t[r])?n:(n&&rn(e,t,n,t,r),r)}),null)}(this.matrix,e),nn(this,{values:e},!0)},t.shiftTo=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!this.isValid)return this;if(0===n.length)return this;n=n.map((function(t){return e.normalizeUnit(t)}));for(var s,i,o={},a={},l=this.toObject(),u=h(en);!(i=u()).done;){var c=i.value;if(n.indexOf(c)>=0){s=c;var d=0;for(var m in a)d+=this.matrix[m][c]*a[m],a[m]=0;H(l[c])&&(d+=l[c]);var p=Math.trunc(d);for(var f in o[c]=p,a[c]=d-p,l)en.indexOf(f)>en.indexOf(c)&&rn(this.matrix,l,f,o,c)}else H(l[c])&&(a[c]=l[c])}for(var g in a)0!==a[g]&&(o[s]+=g===s?a[g]:a[g]/this.matrix[s][g]);return nn(this,{values:o},!0).normalize()},t.negate=function(){if(!this.isValid)return this;for(var e={},t=0,n=Object.keys(this.values);t<n.length;t++){var r=n[t];e[r]=-this.values[r]}return nn(this,{values:e},!0)},t.equals=function(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(var t,n=h(en);!(t=n()).done;){var r=t.value;if(s=this.values[r],i=e.values[r],!(void 0===s||0===s?void 0===i||0===i:s===i))return!1}var s,i;return!0},r(e,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),e}();function on(e){if(H(e))return sn.fromMillis(e);if(sn.isDuration(e))return e;if("object"==typeof e)return sn.fromObject(e);throw new w("Unknown duration argument "+e+" of type "+typeof e)}var an="Invalid Interval";function ln(e,t){return e&&e.isValid?t&&t.isValid?t<e?un.invalid("end before start","The end of an interval must be after its start, but you had start="+e.toISO()+" and end="+t.toISO()):null:un.invalid("missing or invalid end"):un.invalid("missing or invalid start")}var un=function(){function e(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new w("need to specify a reason the Interval is invalid");var r=t instanceof Me?t:new Me(t,n);if(Qe.throwOnInvalid)throw new f(r);return new e({invalid:r})},e.fromDateTimes=function(t,n){var r=ur(t),s=ur(n),i=ln(r,s);return null==i?new e({start:r,end:s}):i},e.after=function(t,n){var r=on(n),s=ur(t);return e.fromDateTimes(s,s.plus(r))},e.before=function(t,n){var r=on(n),s=ur(t);return e.fromDateTimes(s.minus(r),s)},e.fromISO=function(t,n){var r=(t||"").split("/",2),s=r[0],i=r[1];if(s&&i){var o,a,l,u;try{a=(o=lr.fromISO(s,n)).isValid}catch(i){a=!1}try{u=(l=lr.fromISO(i,n)).isValid}catch(i){u=!1}if(a&&u)return e.fromDateTimes(o,l);if(a){var c=sn.fromISO(i,n);if(c.isValid)return e.after(o,c)}else if(u){var d=sn.fromISO(s,n);if(d.isValid)return e.before(l,d)}}return e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.isInterval=function(e){return e&&e.isLuxonInterval||!1};var t=e.prototype;return t.length=function(e){return void 0===e&&(e="milliseconds"),this.isValid?this.toDuration.apply(this,[e]).get(e):NaN},t.count=function(e){if(void 0===e&&(e="milliseconds"),!this.isValid)return NaN;var t=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(t,e).get(e))+1},t.hasSame=function(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))},t.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},t.isAfter=function(e){return!!this.isValid&&this.s>e},t.isBefore=function(e){return!!this.isValid&&this.e<=e},t.contains=function(e){return!!this.isValid&&this.s<=e&&this.e>e},t.set=function(t){var n=void 0===t?{}:t,r=n.start,s=n.end;return this.isValid?e.fromDateTimes(r||this.s,s||this.e):this},t.splitAt=function(){var t=this;if(!this.isValid)return[];for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];for(var i=r.map(ur).filter((function(e){return t.contains(e)})).sort(),o=[],a=this.s,l=0;a<this.e;){var u=i[l]||this.e,c=+u>+this.e?this.e:u;o.push(e.fromDateTimes(a,c)),a=c,l+=1}return o},t.splitBy=function(t){var n=on(t);if(!this.isValid||!n.isValid||0===n.as("milliseconds"))return[];for(var r,s=this.s,i=1,o=[];s<this.e;){var a=this.start.plus(n.mapUnits((function(e){return e*i})));r=+a>+this.e?this.e:a,o.push(e.fromDateTimes(s,r)),s=r,i+=1}return o},t.divideEqually=function(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]},t.overlaps=function(e){return this.e>e.s&&this.s<e.e},t.abutsStart=function(e){return!!this.isValid&&+this.e==+e.s},t.abutsEnd=function(e){return!!this.isValid&&+e.e==+this.s},t.engulfs=function(e){return!!this.isValid&&this.s<=e.s&&this.e>=e.e},t.equals=function(e){return!(!this.isValid||!e.isValid)&&this.s.equals(e.s)&&this.e.equals(e.e)},t.intersection=function(t){if(!this.isValid)return this;var n=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return n>=r?null:e.fromDateTimes(n,r)},t.union=function(t){if(!this.isValid)return this;var n=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return e.fromDateTimes(n,r)},e.merge=function(e){var t=e.sort((function(e,t){return e.s-t.s})).reduce((function(e,t){var n=e[0],r=e[1];return r?r.overlaps(t)||r.abutsStart(t)?[n,r.union(t)]:[n.concat([r]),t]:[n,t]}),[[],null]),n=t[0],r=t[1];return r&&n.push(r),n},e.xor=function(t){for(var n,r,s=null,i=0,o=[],a=t.map((function(e){return[{time:e.s,type:"s"},{time:e.e,type:"e"}]})),l=h((n=Array.prototype).concat.apply(n,a).sort((function(e,t){return e.time-t.time})));!(r=l()).done;){var u=r.value;1===(i+="s"===u.type?1:-1)?s=u.time:(s&&+s!=+u.time&&o.push(e.fromDateTimes(s,u.time)),s=null)}return e.merge(o)},t.difference=function(){for(var t=this,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.xor([this].concat(r)).map((function(e){return t.intersection(e)})).filter((function(e){return e&&!e.isEmpty()}))},t.toString=function(){return this.isValid?"["+this.s.toISO()+"  "+this.e.toISO()+")":an},t.toISO=function(e){return this.isValid?this.s.toISO(e)+"/"+this.e.toISO(e):an},t.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():an},t.toISOTime=function(e){return this.isValid?this.s.toISOTime(e)+"/"+this.e.toISOTime(e):an},t.toFormat=function(e,t){var n=(void 0===t?{}:t).separator,r=void 0===n?"  ":n;return this.isValid?""+this.s.toFormat(e)+r+this.e.toFormat(e):an},t.toDuration=function(e,t){return this.isValid?this.e.diff(this.s,e,t):sn.invalid(this.invalidReason)},t.mapEndpoints=function(t){return e.fromDateTimes(t(this.s),t(this.e))},r(e,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),e}(),cn=function(){function e(){}return e.hasDST=function(e){void 0===e&&(e=Qe.defaultZone);var t=lr.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset},e.isValidIANAZone=function(e){return Le.isValidSpecifier(e)&&Le.isValidZone(e)},e.normalizeZone=function(e){return We(e,Qe.defaultZone)},e.months=function(e,t){void 0===e&&(e="long");var n=void 0===t?{}:t,r=n.locale,s=void 0===r?null:r,i=n.numberingSystem,o=void 0===i?null:i,a=n.locObj,l=void 0===a?null:a,u=n.outputCalendar,c=void 0===u?"gregory":u;return(l||lt.create(s,o,c)).months(e)},e.monthsFormat=function(e,t){void 0===e&&(e="long");var n=void 0===t?{}:t,r=n.locale,s=void 0===r?null:r,i=n.numberingSystem,o=void 0===i?null:i,a=n.locObj,l=void 0===a?null:a,u=n.outputCalendar,c=void 0===u?"gregory":u;return(l||lt.create(s,o,c)).months(e,!0)},e.weekdays=function(e,t){void 0===e&&(e="long");var n=void 0===t?{}:t,r=n.locale,s=void 0===r?null:r,i=n.numberingSystem,o=void 0===i?null:i,a=n.locObj;return((void 0===a?null:a)||lt.create(s,o,null)).weekdays(e)},e.weekdaysFormat=function(e,t){void 0===e&&(e="long");var n=void 0===t?{}:t,r=n.locale,s=void 0===r?null:r,i=n.numberingSystem,o=void 0===i?null:i,a=n.locObj;return((void 0===a?null:a)||lt.create(s,o,null)).weekdays(e,!0)},e.meridiems=function(e){var t=(void 0===e?{}:e).locale,n=void 0===t?null:t;return lt.create(n).meridiems()},e.eras=function(e,t){void 0===e&&(e="short");var n=(void 0===t?{}:t).locale,r=void 0===n?null:n;return lt.create(r,null,"gregory").eras(e)},e.features=function(){return{relative:B()}},e}();function dn(e,t){var n=function(e){return e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},r=n(t)-n(e);return Math.floor(sn.fromMillis(r).as("days"))}var hn={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},mn={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},pn=hn.hanidec.replace(/[\[|\]]/g,"").split("");function fn(e,t){var n=e.numberingSystem;return void 0===t&&(t=""),new RegExp(""+hn[n||"latn"]+t)}function gn(e,t){return void 0===t&&(t=function(e){return e}),{regex:e,deser:function(e){var n=e[0];return t(function(e){var t=parseInt(e,10);if(isNaN(t)){t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(-1!==e[n].search(hn.hanidec))t+=pn.indexOf(e[n]);else for(var s in mn){var i=mn[s],o=i[0],a=i[1];r>=o&&r<=a&&(t+=r-o)}}return parseInt(t,10)}return t}(n))}}}var yn="( |"+String.fromCharCode(160)+")",vn=new RegExp(yn,"g");function wn(e){return e.replace(/\./g,"\\.?").replace(vn,yn)}function bn(e){return e.replace(/\./g,"").replace(vn," ").toLowerCase()}function En(e,t){return null===e?null:{regex:RegExp(e.map(wn).join("|")),deser:function(n){var r=n[0];return e.findIndex((function(e){return bn(r)===bn(e)}))+t}}}function kn(e,t){return{regex:e,deser:function(e){return ce(e[1],e[2])},groups:t}}function Sn(e){return{regex:e,deser:function(e){return e[0]}}}var xn={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}},Nn=null;function Cn(e,t,n){var r=function(e,t){var n;return(n=Array.prototype).concat.apply(n,e.map((function(e){return function(e,t){if(e.literal)return e;var n=Ie.macroTokenToFormatOpts(e.val);if(!n)return e;var r=Ie.create(t,n).formatDateTimeParts((Nn||(Nn=lr.fromMillis(1555555555555)),Nn)).map((function(e){return function(e,t,n){var r=e.type,s=e.value;if("literal"===r)return{literal:!0,val:s};var i=n[r],o=xn[r];return"object"==typeof o&&(o=o[i]),o?{literal:!1,val:o}:void 0}(e,0,n)}));return r.includes(void 0)?e:r}(e,t)})))}(Ie.parseFormat(n),e),s=r.map((function(t){return n=t,s=fn(r=e),i=fn(r,"{2}"),o=fn(r,"{3}"),a=fn(r,"{4}"),l=fn(r,"{6}"),u=fn(r,"{1,2}"),c=fn(r,"{1,3}"),d=fn(r,"{1,6}"),h=fn(r,"{1,9}"),m=fn(r,"{2,4}"),p=fn(r,"{4,6}"),f=function(e){return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:function(e){return e[0]},literal:!0};var t},(g=function(e){if(n.literal)return f(e);switch(e.val){case"G":return En(r.eras("short",!1),0);case"GG":return En(r.eras("long",!1),0);case"y":return gn(d);case"yy":return gn(m,le);case"yyyy":return gn(a);case"yyyyy":return gn(p);case"yyyyyy":return gn(l);case"M":return gn(u);case"MM":return gn(i);case"MMM":return En(r.months("short",!0,!1),1);case"MMMM":return En(r.months("long",!0,!1),1);case"L":return gn(u);case"LL":return gn(i);case"LLL":return En(r.months("short",!1,!1),1);case"LLLL":return En(r.months("long",!1,!1),1);case"d":return gn(u);case"dd":return gn(i);case"o":return gn(c);case"ooo":return gn(o);case"HH":return gn(i);case"H":return gn(u);case"hh":return gn(i);case"h":return gn(u);case"mm":return gn(i);case"m":case"q":return gn(u);case"qq":return gn(i);case"s":return gn(u);case"ss":return gn(i);case"S":return gn(c);case"SSS":return gn(o);case"u":return Sn(h);case"a":return En(r.meridiems(),0);case"kkkk":return gn(a);case"kk":return gn(m,le);case"W":return gn(u);case"WW":return gn(i);case"E":case"c":return gn(s);case"EEE":return En(r.weekdays("short",!1,!1),1);case"EEEE":return En(r.weekdays("long",!1,!1),1);case"ccc":return En(r.weekdays("short",!0,!1),1);case"cccc":return En(r.weekdays("long",!0,!1),1);case"Z":case"ZZ":return kn(new RegExp("([+-]"+u.source+")(?::("+i.source+"))?"),2);case"ZZZ":return kn(new RegExp("([+-]"+u.source+")("+i.source+")?"),2);case"z":return Sn(/[a-z_+-/]{1,256}?/i);default:return f(e)}}(n)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"}).token=n,g;var n,r,s,i,o,a,l,u,c,d,h,m,p,f,g})),i=s.find((function(e){return e.invalidReason}));if(i)return{input:t,tokens:r,invalidReason:i.invalidReason};var o=function(e){return["^"+e.map((function(e){return e.regex})).reduce((function(e,t){return e+"("+t.source+")"}),"")+"$",e]}(s),a=o[0],l=o[1],u=RegExp(a,"i"),c=function(e,t,n){var r=e.match(t);if(r){var s={},i=1;for(var o in n)if(Q(n,o)){var a=n[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(s[a.token.val[0]]=a.deser(r.slice(i,i+l))),i+=l}return[r,s]}return[r,{}]}(t,u,l),d=c[0],h=c[1],m=h?function(e){var t;return t=G(e.Z)?G(e.z)?null:Le.create(e.z):new Ze(e.Z),G(e.q)||(e.M=3*(e.q-1)+1),G(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),G(e.u)||(e.S=te(e.u)),[Object.keys(e).reduce((function(t,n){var r=function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(n);return r&&(t[r]=e[n]),t}),{}),t]}(h):[null,null],p=m[0],f=m[1];if(Q(h,"a")&&Q(h,"H"))throw new y("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:u,rawMatches:d,matches:h,result:p,zone:f}}var Tn=[0,31,59,90,120,151,181,212,243,273,304,334],On=[0,31,60,91,121,152,182,213,244,274,305,335];function Pn(e,t){return new Me("unit out of range","you specified "+t+" (of type "+typeof t+") as a "+e+", which is invalid")}function In(e,t,n){var r=new Date(Date.UTC(e,t-1,n)).getUTCDay();return 0===r?7:r}function Mn(e,t,n){return n+(re(e)?On:Tn)[t-1]}function Dn(e,t){var n=re(e)?On:Tn,r=n.findIndex((function(e){return e<t}));return{month:r+1,day:t-n[r]}}function Rn(e){var t,n=e.year,r=e.month,i=e.day,o=Mn(n,r,i),a=In(n,r,i),l=Math.floor((o-a+10)/7);return l<1?l=ae(t=n-1):l>ae(n)?(t=n+1,l=1):t=n,s({weekYear:t,weekNumber:l,weekday:a},pe(e))}function Vn(e){var t,n=e.weekYear,r=e.weekNumber,i=e.weekday,o=In(n,1,4),a=se(n),l=7*r+i-o-3;l<1?l+=se(t=n-1):l>a?(t=n+1,l-=se(n)):t=n;var u=Dn(t,l);return s({year:t,month:u.month,day:u.day},pe(e))}function An(e){var t=e.year;return s({year:t,ordinal:Mn(t,e.month,e.day)},pe(e))}function jn(e){var t=e.year,n=Dn(t,e.ordinal);return s({year:t,month:n.month,day:n.day},pe(e))}function Un(e){var t=Y(e.year),n=K(e.month,1,12),r=K(e.day,1,ie(e.year,e.month));return t?n?!r&&Pn("day",e.day):Pn("month",e.month):Pn("year",e.year)}function Fn(e){var t=e.hour,n=e.minute,r=e.second,s=e.millisecond,i=K(t,0,23)||24===t&&0===n&&0===r&&0===s,o=K(n,0,59),a=K(r,0,59),l=K(s,0,999);return i?o?a?!l&&Pn("millisecond",s):Pn("second",r):Pn("minute",n):Pn("hour",t)}var Ln="Invalid DateTime",qn=864e13;function Zn(e){return new Me("unsupported zone",'the zone "'+e.name+'" is not supported')}function zn(e){return null===e.weekData&&(e.weekData=Rn(e.c)),e.weekData}function Wn(e,t){var n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new lr(s({},n,t,{old:n}))}function $n(e,t,n){var r=e-60*t*1e3,s=n.offset(r);if(t===s)return[r,t];r-=60*(s-t)*1e3;var i=n.offset(r);return s===i?[r,s]:[e-60*Math.min(s,i)*1e3,Math.max(s,i)]}function Gn(e,t){var n=new Date(e+=60*t*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Hn(e,t,n){return $n(oe(e),t,n)}function Yn(e,t){var n=e.o,r=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),o=s({},e.c,{year:r,month:i,day:Math.min(e.c.day,ie(r,i))+Math.trunc(t.days)+7*Math.trunc(t.weeks)}),a=sn.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),l=$n(oe(o),n,e.zone),u=l[0],c=l[1];return 0!==a&&(u+=a,c=e.zone.offset(u)),{ts:u,o:c}}function Bn(e,t,n,r,i){var o=n.setZone,a=n.zone;if(e&&0!==Object.keys(e).length){var l=t||a,u=lr.fromObject(e,s({},n,{zone:l}));return o?u:u.setZone(a)}return lr.invalid(new Me("unparsable",'the input "'+i+"\" can't be parsed as "+r))}function Jn(e,t,n){return void 0===n&&(n=!0),e.isValid?Ie.create(lt.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Qn(e,t){var n=t.suppressSeconds,r=void 0!==n&&n,s=t.suppressMilliseconds,i=void 0!==s&&s,o=t.includeOffset,a=t.includePrefix,l=void 0!==a&&a,u=t.includeZone,c=void 0!==u&&u,d=t.spaceZone,h=void 0!==d&&d,m=t.format,p=void 0===m?"extended":m,f="basic"===p?"HHmm":"HH:mm";r&&0===e.second&&0===e.millisecond||(f+="basic"===p?"ss":":ss",i&&0===e.millisecond||(f+=".SSS")),(c||o)&&h&&(f+=" "),c?f+="z":o&&(f+="basic"===p?"ZZZ":"ZZ");var g=Jn(e,f);return l&&(g="T"+g),g}var Kn={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Xn={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},er={ordinal:1,hour:0,minute:0,second:0,millisecond:0},tr=["year","month","day","hour","minute","second","millisecond"],nr=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],rr=["year","ordinal","hour","minute","second","millisecond"];function sr(e){var t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new v(e);return t}function ir(e,t){var n,r,s=We(t.zone,Qe.defaultZone),i=lt.fromObject(t),o=Qe.now();if(G(e.year))n=o;else{for(var a,l=h(tr);!(a=l()).done;){var u=a.value;G(e[u])&&(e[u]=Kn[u])}var c=Un(e)||Fn(e);if(c)return lr.invalid(c);var d=Hn(e,s.offset(o),s);n=d[0],r=d[1]}return new lr({ts:n,zone:s,loc:i,o:r})}function or(e,t,n){var r=!!G(n.round)||n.round,s=function(e,s){return e=ne(e,r||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(e,s)},i=function(r){return n.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r)};if(n.unit)return s(i(n.unit),n.unit);for(var o,a=h(n.units);!(o=a()).done;){var l=o.value,u=i(l);if(Math.abs(u)>=1)return s(u,l)}return s(e>t?-0:0,n.units[n.units.length-1])}function ar(e){var t,n={};return e.length>0&&"object"==typeof e[e.length-1]?(n=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[n,t]}var lr=function(){function e(e){var t=e.zone||Qe.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new Me("invalid input"):null)||(t.isValid?null:Zn(t));this.ts=G(e.ts)?Qe.now():e.ts;var r=null,s=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t)){var i=[e.old.c,e.old.o];r=i[0],s=i[1]}else{var o=t.offset(this.ts);r=Gn(this.ts,o),r=(n=Number.isNaN(r.year)?new Me("invalid input"):null)?null:r,s=n?null:o}this._zone=t,this.loc=e.loc||lt.create(),this.invalid=n,this.weekData=null,this.c=r,this.o=s,this.isLuxonDateTime=!0}e.now=function(){return new e({})},e.local=function(){var e=ar(arguments),t=e[0],n=e[1],r=n[0],s=n[1],i=n[2],o=n[3],a=n[4],l=n[5],u=n[6];return ir({year:r,month:s,day:i,hour:o,minute:a,second:l,millisecond:u},t)},e.utc=function(){var e=ar(arguments),t=e[0],n=e[1],r=n[0],s=n[1],i=n[2],o=n[3],a=n[4],l=n[5],u=n[6];return t.zone=Ze.utcInstance,ir({year:r,month:s,day:i,hour:o,minute:a,second:l,millisecond:u},t)},e.fromJSDate=function(t,n){void 0===n&&(n={});var r,s=(r=t,"[object Date]"===Object.prototype.toString.call(r)?t.valueOf():NaN);if(Number.isNaN(s))return e.invalid("invalid input");var i=We(n.zone,Qe.defaultZone);return i.isValid?new e({ts:s,zone:i,loc:lt.fromObject(n)}):e.invalid(Zn(i))},e.fromMillis=function(t,n){if(void 0===n&&(n={}),H(t))return t<-qn||t>qn?e.invalid("Timestamp out of range"):new e({ts:t,zone:We(n.zone,Qe.defaultZone),loc:lt.fromObject(n)});throw new w("fromMillis requires a numerical input, but received a "+typeof t+" with value "+t)},e.fromSeconds=function(t,n){if(void 0===n&&(n={}),H(t))return new e({ts:1e3*t,zone:We(n.zone,Qe.defaultZone),loc:lt.fromObject(n)});throw new w("fromSeconds requires a numerical input")},e.fromObject=function(t,n){void 0===n&&(n={}),t=t||{};var r=We(n.zone,Qe.defaultZone);if(!r.isValid)return e.invalid(Zn(r));var s=Qe.now(),i=r.offset(s),o=he(t,sr),a=!G(o.ordinal),l=!G(o.year),u=!G(o.month)||!G(o.day),c=l||u,d=o.weekYear||o.weekNumber,m=lt.fromObject(n);if((c||a)&&d)throw new y("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&a)throw new y("Can't mix ordinal dates with month/day");var p,f,g=d||o.weekday&&!c,v=Gn(s,i);g?(p=nr,f=Xn,v=Rn(v)):a?(p=rr,f=er,v=An(v)):(p=tr,f=Kn);for(var w,b=!1,E=h(p);!(w=E()).done;){var k=w.value;G(o[k])?o[k]=b?f[k]:v[k]:b=!0}var S=(g?function(e){var t=Y(e.weekYear),n=K(e.weekNumber,1,ae(e.weekYear)),r=K(e.weekday,1,7);return t?n?!r&&Pn("weekday",e.weekday):Pn("week",e.week):Pn("weekYear",e.weekYear)}(o):a?function(e){var t=Y(e.year),n=K(e.ordinal,1,se(e.year));return t?!n&&Pn("ordinal",e.ordinal):Pn("year",e.year)}(o):Un(o))||Fn(o);if(S)return e.invalid(S);var _=Hn(g?Vn(o):a?jn(o):o,i,r),x=new e({ts:_[0],zone:r,o:_[1],loc:m});return o.weekday&&c&&t.weekday!==x.weekday?e.invalid("mismatched weekday","you can't specify both a weekday of "+o.weekday+" and a date of "+x.toISO()):x},e.fromISO=function(e,t){void 0===t&&(t={});var n=function(e){return dt(e,[Ut,Zt],[Ft,zt],[Lt,Wt],[qt,$t])}(e);return Bn(n[0],n[1],t,"ISO 8601",e)},e.fromRFC2822=function(e,t){void 0===t&&(t={});var n=function(e){return dt(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[It,Mt])}(e);return Bn(n[0],n[1],t,"RFC 2822",e)},e.fromHTTP=function(e,t){void 0===t&&(t={});var n=function(e){return dt(e,[Dt,At],[Rt,At],[Vt,jt])}(e);return Bn(n[0],n[1],t,"HTTP",t)},e.fromFormat=function(t,n,r){if(void 0===r&&(r={}),G(t)||G(n))throw new w("fromFormat requires an input string and a format");var s=r,i=s.locale,o=void 0===i?null:i,a=s.numberingSystem,l=void 0===a?null:a,u=function(e,t,n){var r=Cn(e,t,n);return[r.result,r.zone,r.invalidReason]}(lt.fromOpts({locale:o,numberingSystem:l,defaultToEN:!0}),t,n),c=u[0],d=u[1],h=u[2];return h?e.invalid(h):Bn(c,d,r,"format "+n,t)},e.fromString=function(t,n,r){return void 0===r&&(r={}),e.fromFormat(t,n,r)},e.fromSQL=function(e,t){void 0===t&&(t={});var n=function(e){return dt(e,[Ht,Bt],[Yt,Jt])}(e);return Bn(n[0],n[1],t,"SQL",e)},e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new w("need to specify a reason the DateTime is invalid");var r=t instanceof Me?t:new Me(t,n);if(Qe.throwOnInvalid)throw new p(r);return new e({invalid:r})},e.isDateTime=function(e){return e&&e.isLuxonDateTime||!1};var t=e.prototype;return t.get=function(e){return this[e]},t.resolvedLocaleOptions=function(e){void 0===e&&(e={});var t=Ie.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t.locale,numberingSystem:t.numberingSystem,outputCalendar:t.calendar}},t.toUTC=function(e,t){return void 0===e&&(e=0),void 0===t&&(t={}),this.setZone(Ze.instance(e),t)},t.toLocal=function(){return this.setZone(Qe.defaultZone)},t.setZone=function(t,n){var r=void 0===n?{}:n,s=r.keepLocalTime,i=void 0!==s&&s,o=r.keepCalendarTime,a=void 0!==o&&o;if((t=We(t,Qe.defaultZone)).equals(this.zone))return this;if(t.isValid){var l=this.ts;if(i||a){var u=t.offset(this.ts);l=Hn(this.toObject(),u,t)[0]}return Wn(this,{ts:l,zone:t})}return e.invalid(Zn(t))},t.reconfigure=function(e){var t=void 0===e?{}:e,n=t.locale,r=t.numberingSystem,s=t.outputCalendar;return Wn(this,{loc:this.loc.clone({locale:n,numberingSystem:r,outputCalendar:s})})},t.setLocale=function(e){return this.reconfigure({locale:e})},t.set=function(e){if(!this.isValid)return this;var t,n=he(e,sr),r=!G(n.weekYear)||!G(n.weekNumber)||!G(n.weekday),i=!G(n.ordinal),o=!G(n.year),a=!G(n.month)||!G(n.day),l=o||a,u=n.weekYear||n.weekNumber;if((l||i)&&u)throw new y("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&i)throw new y("Can't mix ordinal dates with month/day");r?t=Vn(s({},Rn(this.c),n)):G(n.ordinal)?(t=s({},this.toObject(),n),G(n.day)&&(t.day=Math.min(ie(t.year,t.month),t.day))):t=jn(s({},An(this.c),n));var c=Hn(t,this.o,this.zone);return Wn(this,{ts:c[0],o:c[1]})},t.plus=function(e){return this.isValid?Wn(this,Yn(this,on(e))):this},t.minus=function(e){return this.isValid?Wn(this,Yn(this,on(e).negate())):this},t.startOf=function(e){if(!this.isValid)return this;var t={},n=sn.normalizeUnit(e);switch(n){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0}if("weeks"===n&&(t.weekday=1),"quarters"===n){var r=Math.ceil(this.month/3);t.month=3*(r-1)+1}return this.set(t)},t.endOf=function(e){var t;return this.isValid?this.plus((t={},t[e]=1,t)).startOf(e).minus(1):this},t.toFormat=function(e,t){return void 0===t&&(t={}),this.isValid?Ie.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Ln},t.toLocaleString=function(e,t){return void 0===e&&(e=_),void 0===t&&(t={}),this.isValid?Ie.create(this.loc.clone(t),e).formatDateTime(this):Ln},t.toLocaleParts=function(e){return void 0===e&&(e={}),this.isValid?Ie.create(this.loc.clone(e),e).formatDateTimeParts(this):[]},t.toISO=function(e){return void 0===e&&(e={}),this.isValid?this.toISODate(e)+"T"+this.toISOTime(e):null},t.toISODate=function(e){var t=(void 0===e?{}:e).format,n="basic"===(void 0===t?"extended":t)?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(n="+"+n),Jn(this,n)},t.toISOWeekDate=function(){return Jn(this,"kkkk-'W'WW-c")},t.toISOTime=function(e){var t=void 0===e?{}:e,n=t.suppressMilliseconds,r=void 0!==n&&n,s=t.suppressSeconds,i=void 0!==s&&s,o=t.includeOffset,a=void 0===o||o,l=t.includePrefix,u=void 0!==l&&l,c=t.format;return Qn(this,{suppressSeconds:i,suppressMilliseconds:r,includeOffset:a,includePrefix:u,format:void 0===c?"extended":c})},t.toRFC2822=function(){return Jn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},t.toHTTP=function(){return Jn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},t.toSQLDate=function(){return Jn(this,"yyyy-MM-dd")},t.toSQLTime=function(e){var t=void 0===e?{}:e,n=t.includeOffset,r=void 0===n||n,s=t.includeZone;return Qn(this,{includeOffset:r,includeZone:void 0!==s&&s,spaceZone:!0})},t.toSQL=function(e){return void 0===e&&(e={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(e):null},t.toString=function(){return this.isValid?this.toISO():Ln},t.valueOf=function(){return this.toMillis()},t.toMillis=function(){return this.isValid?this.ts:NaN},t.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},t.toJSON=function(){return this.toISO()},t.toBSON=function(){return this.toJSDate()},t.toObject=function(e){if(void 0===e&&(e={}),!this.isValid)return{};var t=s({},this.c);return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t},t.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},t.diff=function(e,t,n){if(void 0===t&&(t="milliseconds"),void 0===n&&(n={}),!this.isValid||!e.isValid)return sn.invalid("created by diffing an invalid DateTime");var r,i=s({locale:this.locale,numberingSystem:this.numberingSystem},n),o=(r=t,Array.isArray(r)?r:[r]).map(sn.normalizeUnit),a=e.valueOf()>this.valueOf(),l=function(e,t,n,r){var s,i=function(e,t,n){for(var r,s,i={},o=0,a=[["years",function(e,t){return t.year-e.year}],["quarters",function(e,t){return t.quarter-e.quarter}],["months",function(e,t){return t.month-e.month+12*(t.year-e.year)}],["weeks",function(e,t){var n=dn(e,t);return(n-n%7)/7}],["days",dn]];o<a.length;o++){var l=a[o],u=l[0],c=l[1];if(n.indexOf(u)>=0){var d;r=u;var h,m=c(e,t);(s=e.plus(((d={})[u]=m,d)))>t?(e=e.plus(((h={})[u]=m-1,h)),m-=1):e=s,i[u]=m}}return[e,i,s,r]}(e,t,n),o=i[0],a=i[1],l=i[2],u=i[3],c=t-o,d=n.filter((function(e){return["hours","minutes","seconds","milliseconds"].indexOf(e)>=0}));0===d.length&&(l<t&&(l=o.plus(((s={})[u]=1,s))),l!==o&&(a[u]=(a[u]||0)+c/(l-o)));var h,m=sn.fromObject(a,r);return d.length>0?(h=sn.fromMillis(c,r)).shiftTo.apply(h,d).plus(m):m}(a?this:e,a?e:this,o,i);return a?l.negate():l},t.diffNow=function(t,n){return void 0===t&&(t="milliseconds"),void 0===n&&(n={}),this.diff(e.now(),t,n)},t.until=function(e){return this.isValid?un.fromDateTimes(this,e):this},t.hasSame=function(e,t){if(!this.isValid)return!1;var n=e.valueOf(),r=this.setZone(e.zone,{keepLocalTime:!0});return r.startOf(t)<=n&&n<=r.endOf(t)},t.equals=function(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)},t.toRelative=function(t){if(void 0===t&&(t={}),!this.isValid)return null;var n=t.base||e.fromObject({},{zone:this.zone}),r=t.padding?this<n?-t.padding:t.padding:0,i=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(i=t.unit,o=void 0),or(n,this.plus(r),s({},t,{numeric:"always",units:i,unit:o}))},t.toRelativeCalendar=function(t){return void 0===t&&(t={}),this.isValid?or(t.base||e.fromObject({},{zone:this.zone}),this,s({},t,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},e.min=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.every(e.isDateTime))throw new w("min requires all arguments be DateTimes");return J(n,(function(e){return e.valueOf()}),Math.min)},e.max=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.every(e.isDateTime))throw new w("max requires all arguments be DateTimes");return J(n,(function(e){return e.valueOf()}),Math.max)},e.fromFormatExplain=function(e,t,n){void 0===n&&(n={});var r=n,s=r.locale,i=void 0===s?null:s,o=r.numberingSystem,a=void 0===o?null:o;return Cn(lt.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0}),e,t)},e.fromStringExplain=function(t,n,r){return void 0===r&&(r={}),e.fromFormatExplain(t,n,r)},r(e,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?zn(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?zn(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?zn(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?An(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?cn.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?cn.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?cn.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?cn.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return re(this.year)}},{key:"daysInMonth",get:function(){return ie(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?se(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?ae(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return _}},{key:"DATE_MED",get:function(){return x}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return N}},{key:"DATE_FULL",get:function(){return C}},{key:"DATE_HUGE",get:function(){return T}},{key:"TIME_SIMPLE",get:function(){return O}},{key:"TIME_WITH_SECONDS",get:function(){return P}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return I}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return M}},{key:"TIME_24_SIMPLE",get:function(){return D}},{key:"TIME_24_WITH_SECONDS",get:function(){return R}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return V}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return A}},{key:"DATETIME_SHORT",get:function(){return j}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return U}},{key:"DATETIME_MED",get:function(){return F}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return L}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return q}},{key:"DATETIME_FULL",get:function(){return Z}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return z}},{key:"DATETIME_HUGE",get:function(){return W}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return $}}]),e}();function ur(e){if(lr.isDateTime(e))return e;if(e&&e.valueOf&&H(e.valueOf()))return lr.fromJSDate(e);if(e&&"object"==typeof e)return lr.fromObject(e);throw new w("Unknown datetime argument: "+e+", of type "+typeof e)}t.ou=lr}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var t=window.wp.element,r=window.React,s=n.n(r);class i extends s().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){console.error(e),console.error(t)}render(){return this.state.hasError?(0,t.createElement)("div",{className:"sui-notice sui-notice-error"},(0,t.createElement)("div",{className:"sui-notice-content"},(0,t.createElement)("div",{className:"sui-notice-message"},(0,t.createElement)("span",{className:"sui-notice-icon sui-icon-warning-alert sui-md","aria-hidden":"true"}),(0,t.createElement)("p",null,(0,t.createElement)("strong",null,"Something went wrong. Please contact ",(0,t.createElement)("a",{target:"_blank",href:"https://wpmudev.com/get-support/"},"support"),"."))))):this.props.children}}var o=i,a=window.wp.domReady,l=n.n(a),u=window.ReactDOM;function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n(4184),h=n.n(d);class m extends s().Component{handleClick(e){e.preventDefault(),this.props.onClick()}render(){let n,r;this.props.href?(n="a",r={href:this.props.href,target:this.props.target}):(n="button",r={disabled:this.props.disabled,onClick:e=>this.handleClick(e)});const i=this.props.text&&this.props.text.trim();return(0,t.createElement)(s().Fragment,null,(0,t.createElement)(n,e({},r,{className:h()(this.props.className,"sui-button-"+this.props.color,{"sui-button-onload":this.props.loading,"sui-button-ghost":this.props.ghost,"sui-button-icon":!i,"sui-button-dashed":this.props.dashed,"sui-button":i}),id:this.props.id}),this.text(),this.loadingIcon()))}text(){const e=this.props.icon?(0,t.createElement)("span",{className:this.props.icon,"aria-hidden":"true"}):"";return(0,t.createElement)("span",{className:h()({"sui-loading-text":this.props.loading})},e," ",this.props.text)}loadingIcon(){return this.props.loading?(0,t.createElement)("span",{className:"sui-icon-loader sui-loading","aria-hidden":"true"}):""}}c(m,"defaultProps",{id:"",text:"",color:"",dashed:!1,icon:!1,loading:!1,ghost:!1,disabled:!1,href:"",target:"",className:"",onClick:()=>!1});var p=window.wp.i18n;class f extends s().Component{render(){const e=h()("sui-button-icon sui-dropdown-anchor",{"sui-button-onload":this.props.loading});return(0,t.createElement)("div",{className:"sui-dropdown sui-accordion-item-action"},(0,t.createElement)("button",{className:e,"aria-label":(0,p.__)("Dropdown","wds"),disabled:this.props.disabled},(0,t.createElement)("span",{className:"sui-loading-text"},(0,t.createElement)("span",{className:this.props.icon,style:{pointerEvents:"none"},"aria-hidden":"true"})),(0,t.createElement)("span",{className:"sui-icon-loader sui-loading","aria-hidden":"true"})),(0,t.createElement)("ul",null,this.props.buttons.map(((e,n)=>(0,t.createElement)("li",{key:n},e)))))}}c(f,"defaultProps",{icon:"sui-icon-widget-settings-config",buttons:[],loading:!1,disabled:!1,onClick:()=>!1});class g extends s().Component{render(){return(0,t.createElement)("button",{className:h()(this.props.className,{"sui-option-red":this.props.red}),onClick:()=>this.props.onClick(),type:"button"},(0,t.createElement)("span",{className:this.props.icon,"aria-hidden":"true"}),this.props.text)}}c(g,"defaultProps",{className:"",text:"",icon:"",red:!1,onClick:()=>!1});var y=SUI,v=n.n(y),w=jQuery,b=n.n(w);class E extends s().Component{constructor(e){super(e),this.props=e}componentDidMount(){v().openModal(this.props.id,this.props.focusAfterClose,this.props.focusAfterOpen?this.props.focusAfterOpen:this.getTitleId(),!1,!1)}componentWillUnmount(){v().closeModal()}handleKeyDown(e){b()(e.target).is(".sui-modal.sui-active input")&&13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),!this.props.enterDisabled&&this.props.onEnter&&this.props.onEnter(e))}render(){const e=this.getHeaderActions(),n=Object.assign({},{"sui-modal-sm":this.props.small,"sui-modal-lg":!this.props.small},this.props.dialogClasses);return(0,t.createElement)("div",{className:h()("sui-modal",n),onKeyDown:e=>this.handleKeyDown(e)},(0,t.createElement)("div",{role:"dialog",id:this.props.id,className:h()("sui-modal-content",this.props.id+"-modal"),"aria-modal":"true","aria-labelledby":this.props.id+"-modal-title","aria-describedby":this.props.id+"-modal-description"},(0,t.createElement)("div",{className:"sui-box",role:"document"},(0,t.createElement)("div",{className:h()("sui-box-header",{"sui-flatten sui-content-center sui-spacing-top--40":this.props.small})},this.props.beforeTitle,(0,t.createElement)("h3",{id:this.getTitleId(),className:h()("sui-box-title",{"sui-lg":this.props.small})},this.props.title),e),(0,t.createElement)("div",{className:h()("sui-box-body",{"sui-content-center":this.props.small})},this.props.description&&(0,t.createElement)("p",{className:"sui-description",id:this.props.id+"-modal-description"},this.props.description),this.props.children),this.props.footer&&(0,t.createElement)("div",{className:"sui-box-footer"},this.props.footer))))}getTitleId(){return this.props.id+"-modal-title"}getHeaderActions(){const e=this.getCloseButton();return this.props.small?e:this.props.headerActions?this.props.headerActions:(0,t.createElement)("div",{className:"sui-actions-right"},e)}getCloseButton(){return(0,t.createElement)("button",{id:this.props.id+"-close-button",type:"button",onClick:()=>this.props.onClose(),disabled:this.props.disableCloseButton,className:h()("sui-button-icon",{"sui-button-float--right":this.props.small})},(0,t.createElement)("span",{className:"sui-icon-close sui-md","aria-hidden":"true"}),(0,t.createElement)("span",{className:"sui-screen-reader-text"},(0,p.__)("Close this dialog window","wds")))}}c(E,"defaultProps",{id:"",title:"",description:"",small:!1,headerActions:!1,focusAfterOpen:"",focusAfterClose:"container",dialogClasses:[],disableCloseButton:!1,enterDisabled:!1,onEnter:!1,beforeTitle:!1,onClose:()=>!1});var k=function(n,r){var i,o;return o=i=class extends s().Component{constructor(e){super(e);const{value:t,validateOnInit:n}=this.props;n?this.handleChange(t):(this.isValid=!0,this.errorMessage="")}validateValue(e){Array.isArray(r)?r.some((t=>{if(this.isValid=this.runValidator(t,e),this.errorMessage=this.isValid?"":this.getErrorMessage(t),!this.isValid)return!0})):(this.isValid=this.runValidator(r,e),this.errorMessage=this.isValid?"":this.getErrorMessage(r))}getErrorMessage(e){let t="";return e.getError instanceof Function&&(t=e.getError()),t}runValidator(e,t){let n;return e.isValid instanceof Function?n=e.isValid(t):e instanceof Function&&(n=e(t)),n}handleChange(e){this.validateValue(e),this.props.onChange(e,this.isValid)}render(){return(0,t.createElement)(n,e({},this.props,{isValid:this.isValid,errorMessage:this.errorMessage,onChange:e=>this.handleChange(e)}))}},c(i,"defaultProps",{value:"",validateOnInit:!1,onChange:()=>!1}),o};class S extends s().Component{render(){const{label:e,isRequired:n,errorMessage:r,description:s,isValid:i}=this.props,o=this.props.formControl;return(0,t.createElement)("div",{className:h()("sui-form-field",{"sui-form-field-error":!i})},(0,t.createElement)("label",{className:"sui-label"},e," ",n&&(0,t.createElement)("span",{className:"wds-required-asterisk"},"*")),(0,t.createElement)(o,this.props),!i&&!!r&&(0,t.createElement)("span",{className:"sui-error-message",role:"alert"},r),!!s&&(0,t.createElement)("p",{className:"sui-description"},(0,t.createElement)("small",null,s)))}}c(S,"defaultProps",{label:"",description:"",errorMessage:"",isValid:!0,isRequired:!1,formControl:!1});class _ extends s().Component{render(){const{id:e,value:n,placeholder:r,disabled:s,onChange:i}=this.props;return(0,t.createElement)("input",{id:e,type:"text",className:"sui-form-control",onChange:e=>i(e.target.value),value:n,disabled:s,placeholder:r})}}c(_,"defaultProps",{id:"",value:"",placeholder:"",disabled:!1,onChange:()=>!1});class x extends s().Component{render(){return(0,t.createElement)(S,e({},this.props,{formControl:_}))}}const N=e=>e&&e.trim(),C=e=>{var t;const n=(new DOMParser).parseFromString(e,"text/html");return(null==n||null===(t=n.body)||void 0===t?void 0:t.textContent)===e},T=e=>O(e)||I(e),O=e=>e.startsWith("/")&&I("https://dummydomain.com"+e),P=e=>{try{new RegExp(e)}catch(e){return!1}return!0},I=e=>{let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol};class M{constructor(e,t){this.func=e,this.errorMessage=t}isValid(e){return this.func(e)}getError(){return this.errorMessage}}const D=k(x,[N,C]),R=k(x,[N,C]);class V extends s().Component{constructor(e){super(e);const t=this.props.editMode;this.state={keyword:this.props.keyword,keywordIsValid:t,url:this.props.url,urlIsValid:t}}handleKeywordChange(e,t){this.setState({keyword:e,keywordIsValid:t})}handleUrlChange(e,t){this.setState({url:e,urlIsValid:t})}render(){const e=()=>this.props.onSave(this.state.keyword,this.state.url),n=!this.state.keywordIsValid||!this.state.urlIsValid;return(0,t.createElement)(E,{id:"wds-custom-keywords",title:(0,p.__)("Add Custom Keywords","wds"),description:(0,p.__)("Choose your keywords, and then specify the URL to auto-link to.","wds"),enterDisabled:n,focusAfterOpen:"wds-custom-keyword",focusAfterClose:"wds-keyword-pair-new-button",onEnter:e,onClose:this.props.onClose,footer:(0,t.createElement)(s().Fragment,null,(0,t.createElement)("div",{className:"sui-flex-child-right"},(0,t.createElement)(m,{text:(0,p.__)("Cancel","wds"),ghost:!0,onClick:this.props.onClose})),(0,t.createElement)("div",{className:"sui-actions-right"},(0,t.createElement)(m,{text:(0,p.__)("Save","wds"),color:"blue",onClick:e,icon:"sui-icon-save",disabled:n})))},(0,t.createElement)(D,{id:"wds-custom-keyword",label:(0,t.createInterpolateElement)((0,p.__)("Keyword group <span>Usually related terms</span>","wds"),{span:(0,t.createElement)("span",null)}),value:this.state.keyword,placeholder:(0,p.__)("E.g. Cats, Kittens, Felines","wds"),onChange:(e,t)=>this.handleKeywordChange(e,t)}),(0,t.createElement)(R,{id:"wds-custom-link-url",label:(0,t.createInterpolateElement)((0,p.__)("Link URL <span>Both internal and external links are supported</span>","wds"),{span:(0,t.createElement)("span",null)}),value:this.state.url,placeholder:(0,p.__)("E.g. /cats","wds"),description:(0,t.createInterpolateElement)((0,p.__)("Formats include relative (E.g. <strong>/cats</strong>) or absolute URLs (E.g. <strong>https://www.website.com/cats</strong> or <strong>https://website.com/cats</strong>).","wds"),{strong:(0,t.createElement)("strong",null)}),onChange:(e,t)=>this.handleUrlChange(e,t)}))}}c(V,"defaultProps",{keyword:"",url:"",editMode:!1,onClose:()=>!1,onSave:()=>!1});class A extends s().Component{constructor(e){super(e),this.state={pairs:this.dataPropToPairs(),addingPair:!1,editingPair:!1}}render(){return(0,t.createElement)("div",{className:"wds-keyword-pairs"},this.state.pairs&&!!this.state.pairs.length&&(0,t.createElement)("table",{className:"wds-keyword-pairs-existing sui-table"},(0,t.createElement)("tbody",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,(0,p.__)("Keyword","wds")),(0,t.createElement)("th",{colSpan:"2"},(0,p.__)("Auto-Linked URL","wds"))),this.state.pairs.map(((e,n)=>{const r=e.keyword+"-"+e.url;return(0,t.createElement)("tr",{className:"wds-keyword-pair",key:r},(0,t.createElement)("td",{className:"wds-pair-keyword"},e.keyword),(0,t.createElement)("td",{className:"wds-pair-url"},e.url),(0,t.createElement)("td",{className:"wds-pair-actions"},(0,t.createElement)(f,{buttons:[(0,t.createElement)(g,{onClick:()=>this.startEditingPair(n),icon:"sui-icon-pencil",text:(0,p.__)("Edit","wds")}),(0,t.createElement)(g,{onClick:()=>this.deletePair(n),icon:"sui-icon-trash",text:(0,p.__)("Delete","wds"),red:!0})]}),this.state.editingPair===n&&(0,t.createElement)(V,{keyword:e.keyword,url:e.url,editMode:!0,onClose:()=>this.stopEditingPair(),onSave:(e,t)=>this.editPair(n,e,t)})))})))),(0,t.createElement)("div",{className:"wds-keyword-pair-new"},(0,t.createElement)(m,{id:"wds-keyword-pair-new-button",icon:"sui-icon-plus",onClick:()=>this.startAddingPair(),text:(0,p.__)("Add Link","wds")})),(0,t.createElement)("textarea",{name:"wds_autolinks_options[customkey]",style:{display:"none"},value:this.pairsToText(),readOnly:!0}),this.state.addingPair&&(0,t.createElement)(V,{onClose:()=>this.stopAddingPair(),onSave:(e,t)=>this.addPair(e,t)}))}dataPropToPairs(){return this.textToPairs(this.props.data)}textToPairs(e){const t=e.split(/\n/),n=[];return t.forEach((e=>{if(!e.includes(","))return;const t=e.split(",").map((e=>e.trim()));n.push({keyword:t.slice(0,-1).join(","),url:t.slice(-1).pop()})})),n}pairsToText(){const e=[];return this.state.pairs.forEach((t=>{var n,r;const s=null===(n=t.keyword)||void 0===n?void 0:n.trim(),i=null===(r=t.url)||void 0===r?void 0:r.trim();s&&i&&e.push(s+","+i)})),e.join("\n")}startEditingPair(e){this.setState({editingPair:e})}editPair(e,t,n){const r=this.state.pairs.slice();t.trim()&&n.trim()&&(r[e]={keyword:t,url:n},this.setState({pairs:r,editingPair:!1}))}stopEditingPair(){this.setState({editingPair:!1})}startAddingPair(){this.setState({addingPair:!0})}addPair(e,t){const n=this.state.pairs.slice();e.trim()&&t.trim()&&(n.push({keyword:e,url:t}),this.setState({pairs:n,addingPair:!1}))}stopAddingPair(){this.setState({addingPair:!1})}deletePair(e){const t=this.state.pairs.filter(((t,n)=>n!==e));this.setState({pairs:t})}}c(A,"defaultProps",{data:""});var j=class{static get(e,t="general"){Array.isArray(e)||(e=[e]);let n=window["_wds_"+t]||{};return e.forEach((e=>{n=n&&n.hasOwnProperty(e)?n[e]:""})),n}static get_bool(e,t="general"){return!!this.get(e,t)}};class U extends s().Component{render(){return(0,t.createElement)("label",{className:"sui-checkbox"},(0,t.createElement)("input",{id:this.props.id,type:"checkbox",checked:this.props.checked,disabled:this.props.disabled,onChange:e=>this.props.onChange(e.target.checked)}),(0,t.createElement)("span",{"aria-hidden":"true"}),this.props.label&&(0,t.createElement)("span",null,this.props.label))}}c(U,"defaultProps",{id:"",checked:!1,disabled:!1,label:"",onChange:()=>!1});class F extends s().Component{render(){const{selected:e,title:n,source:r,destination:s,type:i,onToggle:o,onEdit:a,onDelete:l}=this.props;return(0,t.createElement)("div",{className:h()("wds-redirect-item sui-builder-field",{"wds-redirect-has-title":!!n})},(0,t.createElement)("div",{className:"wds-redirect-item-checkbox"},(0,t.createElement)(U,{checked:e,onChange:e=>o(e)})),(0,t.createElement)("div",{className:"wds-redirect-item-source"},(0,t.createElement)("div",{className:"sui-tooltip","data-tooltip":r},(0,t.createElement)("div",{className:"wds-redirect-item-source-trimmed"},r)),n&&(0,t.createElement)("small",null,n)),(0,t.createElement)("div",{className:"wds-redirect-item-destination"},(0,t.createElement)("small",null,s)),(0,t.createElement)("div",{className:"wds-redirect-item-options"},301===i&&(0,t.createElement)("span",{className:"sui-tag sui-tag-sm"},(0,p.__)("Permanent","wds")),302===i&&(0,t.createElement)("span",{className:"sui-tag sui-tag-sm"},(0,p.__)("Temporary","wds")),this.options()),(0,t.createElement)("div",{className:"wds-redirect-item-dropdown"},(0,t.createElement)(f,{buttons:[(0,t.createElement)(g,{className:"wds-edit-redirect-item",icon:"sui-icon-pencil",text:(0,p.__)("Edit","wds"),onClick:()=>a()}),(0,t.createElement)(g,{className:"wds-remove-redirect-item",icon:"sui-icon-trash",text:(0,p.__)("Remove","wds"),red:!0,onClick:()=>l()})]})))}options(){const e={regex:(0,p.__)("Regex","wds")};return this.props.options.map((n=>(0,t.createElement)("span",{className:"sui-tag sui-tag-yellow sui-tag-sm",key:n},e[n])))}}c(F,"defaultProps",{id:"",title:"",source:"",destination:"",type:"",options:[],selected:!1,onToggle:()=>!1,onEdit:()=>!1,onDelete:()=>!1});class L extends s().Component{constructor(e){super(e),this.props=e,this.state={loadingText:!1},this.selectElement=s().createRef(),this.selectElementContainer=s().createRef()}componentDidMount(){const e=b()(this.selectElement.current);e.addClass(this.props.small?"sui-select sui-select-sm":"sui-select").SUIselect2(this.getSelect2Args()),this.includeSelectedValueAsDynamicOption(),e.on("change",(e=>this.handleChange(e)))}includeSelectedValueAsDynamicOption(){this.props.selectedValue&&this.noOptionsAvailable()&&(this.props.tagging?Array.isArray(this.props.selectedValue)?this.props.selectedValue.forEach((e=>{this.addOption(e,e,!0)})):this.addOption(this.props.selectedValue,this.props.selectedValue,!0):this.props.loadTextAjaxUrl&&this.loadTextFromRemote())}loadTextFromRemote(){this.state.loadingText||(this.setState({loadingText:!0}),b().get(this.props.loadTextAjaxUrl,{id:this.props.selectedValue}).done((e=>{e&&e.results&&e.results.length&&e.results.forEach((e=>{this.addOption(e.id,e.text,!0)})),this.setState({loadingText:!1})})))}addOption(e,t,n){let r=new Option(t,e,!1,n);b()(this.selectElement.current).append(r).trigger("change")}noOptionsAvailable(){return!Object.keys(this.props.options).length}componentWillUnmount(){b()(this.selectElement.current).off().SUIselect2("destroy")}getSelect2Args(){let e={dropdownParent:b()(this.selectElementContainer.current),dropdownCssClass:"sui-select-dropdown",minimumResultsForSearch:this.props.minimumResultsForSearch,multiple:this.props.multiple,tagging:this.props.tagging};return this.props.placeholder&&(e.placeholder=this.props.placeholder),this.props.ajaxUrl&&(e.ajax={url:this.props.ajaxUrl},e.minimumInputLength=this.props.minimumInputLength),this.props.templateResult&&(e.templateResult=this.props.templateResult),this.props.templateSelection&&(e.templateSelection=this.props.templateSelection),this.props.ajaxUrl&&this.props.tagging&&!this.props.processResults&&(e.ajax.processResults=(e,t)=>e.results&&!e.results.length?{results:[{id:t.term,text:t.term}]}:e),this.props.processResults&&(e.ajax.processResults=this.props.processResults),e}handleChange(e){let t=e.target.value;this.props.multiple&&(t=Array.from(e.target.selectedOptions,(e=>e.value))),this.props.onSelect(t)}isOptGroup(e){return"object"==typeof e&&e.label&&e.options}printOptions(e){return Object.keys(e).map((n=>{const r=e[n];return this.isOptGroup(r)?(0,t.createElement)("optgroup",{key:n,label:r.label},this.printOptions(r.options)):(0,t.createElement)("option",{key:n,value:n},r)}))}render(){const e=this.props.options;let n;return n=Object.keys(e).length?this.printOptions(e):(0,t.createElement)("option",null),(0,t.createElement)("div",{ref:this.selectElementContainer},(0,t.createElement)("select",{disabled:this.state.loadingText||this.props.disabled,value:this.props.selectedValue,onChange:()=>!0,ref:this.selectElement,multiple:this.props.multiple},n))}}c(L,"defaultProps",{small:!1,tagging:!1,placeholder:"",ajaxUrl:"",loadTextAjaxUrl:"",selectedValue:"",minimumResultsForSearch:10,minimumInputLength:3,multiple:!1,options:{},templateResult:!1,templateSelection:!1,disabled:!1,onSelect:()=>!1});class q extends s().Component{render(){return(0,t.createElement)(S,e({},this.props,{formControl:L}))}}function Z(){return j.get("default_redirect_type","autolinks")}class z extends s().Component{constructor(e){super(e),this.state={open:!1}}toggle(e){const t=e.target.className||"";("BUTTON"!==(e.target.tagName||"")||t.includes("sui-accordion-open-indicator"))&&this.setState({open:!this.state.open})}render(){return(0,t.createElement)("div",{className:h()("sui-accordion-item",this.props.className,{"sui-accordion-item--open":this.state.open})},(0,t.createElement)("div",{className:"sui-accordion-item-header",onClick:e=>this.toggle(e)},this.props.header),this.props.children&&(0,t.createElement)("div",{className:"sui-accordion-item-body"},(0,t.createElement)("div",{className:"sui-box"},(0,t.createElement)("div",{className:"sui-box-body"},this.props.children))))}}c(z,"defaultProps",{className:""});class W extends s().Component{render(){return(0,t.createElement)("button",{type:"button",className:"sui-button-icon sui-accordion-open-indicator"},(0,t.createElement)("span",{"aria-hidden":"true",className:"sui-icon-chevron-down"}),(0,t.createElement)("span",{className:"sui-screen-reader-text"},(0,p.__)("Expand item","wds")))}}class $ extends s().Component{render(){const{tabs:e,children:n,value:r,onChange:i}=this.props,o=!!s().Children.toArray(n).length;return(0,t.createElement)("div",{className:"sui-side-tabs"},(0,t.createElement)("div",{className:"sui-tabs-menu"},Object.keys(e).map((n=>(0,t.createElement)("div",{className:h()("sui-tab-item",{active:r===n}),key:n,onClick:()=>i(n)},e[n])))),o&&(0,t.createElement)("div",{className:"sui-tabs-content"},(0,t.createElement)("div",{className:"sui-tab-content active"},(0,t.createElement)("div",{className:"sui-border-frame"},n))))}}c($,"defaultProps",{tabs:{},value:"",onChange:()=>!1});class G extends s().Component{render(){return(0,t.createElement)(S,e({},this.props,{formControl:$}))}}class H extends s().Component{render(){const e=this.getIcon(this.props.type);return(0,t.createElement)("div",{className:h()("sui-notice","sui-notice-"+this.props.type,this.props.className)},(0,t.createElement)("div",{className:"sui-notice-content"},(0,t.createElement)("div",{className:"sui-notice-message"},e&&(0,t.createElement)("span",{className:h()("sui-notice-icon sui-md",e),"aria-hidden":"true"}),(0,t.createElement)("p",null,this.props.message))))}getIcon(e){return{warning:"sui-icon-warning-alert",error:"sui-icon-warning-alert",info:"sui-icon-info",success:"sui-icon-check-tick",purple:"sui-icon-info","":"sui-icon-info"}[e]}}c(H,"defaultProps",{type:"warning",message:""});class Y extends s().Component{constructor(e){super(e);const t=this.props.editMode;this.state={title:this.props.title,isTitleValid:!0,source:this.props.source,isSourceValid:t,sourceTouched:!1,destination:this.props.destination,isDestinationValid:t,type:this.props.type,options:this.props.options},this.titleField=k(x,[C]),this.sourceField=k(x,[N,C,this.urlValidator(),this.sourceContainsHomeUrlValidator()]),this.sourceRegexField=k(x,[N,new M(P,(0,p.__)("This regex is invalid.","wds"))]),this.destinationField=k(x,[N,C,this.urlValidator()])}sourceContainsHomeUrlValidator(){return new M((e=>{const t=O(e),n=e.startsWith(this.props.homeUrl);return t||n}),(0,p.__)("You need to enter a URL belonging to the current site.","wds"))}urlValidator(){return new M(T,(0,p.__)("You need to use an absolute URL like https://domain.com/new-url or start with a slash /new-url.","wds"))}handleTitleChange(e,t){this.setState({title:e,isTitleValid:t})}handleSourceChange(e,t){this.setState({source:e,isSourceValid:t,sourceTouched:!0})}handleDestinationChange(e,t){this.setState({destination:e,isDestinationValid:t})}handleOptionChange(e,t){let n=[...this.state.options];t?n.includes(e)||n.push(e):n=n.filter((t=>t!==e)),this.setState({options:n})}render(){const{source:e,isSourceValid:n,sourceTouched:r,destination:i,isDestinationValid:o,type:a,title:l,isTitleValid:u,options:c}=this.state,{id:d,inProgress:h,onClose:f,onSave:g,homeUrl:y}=this.props,v=()=>g({id:d,title:l.trim(),source:e.trim(),destination:i.trim(),type:a,options:c}),w=!u||!n||!o||h,b=c.includes("regex"),k=this.titleField,S=b?this.sourceRegexField:this.sourceField,_=this.destinationField,x=/[\[*^$\\{|]/g.test(e),C=b?(0,p.__)("Regex redirects will only match absolute URLs, such as <strong>%s/cats</strong>.","wds"):(0,p.__)("Allowed formats include relative URLs like <strong>/cats</strong> or absolute URLs such as <strong>%s/cats</strong>.","wds"),T=b?(0,p.sprintf)((0,p.__)("E.g. %s/(.*)-cats","wds"),this.removeTrailingSlash(y)):(0,p.__)("E.g. /cats","wds");return(0,t.createElement)(E,{id:"wds-add-redirect-form",title:(0,p.__)("Add Redirect","wds"),description:(0,t.createInterpolateElement)((0,p.sprintf)(C,this.removeTrailingSlash(y)),{strong:(0,t.createElement)("strong",null)}),onEnter:v,onClose:f,disableCloseButton:h,enterDisabled:w,focusAfterOpen:"wds-source-field",focusAfterClose:"wds-add-redirect-dashed-button",dialogClasses:{"sui-modal-md":!0,"sui-modal-sm":!1},small:!0},(0,t.createElement)(S,{id:"wds-source-field",label:(0,p.__)("Old URL","wds"),description:b?(0,p.__)("Enter regex to match absolute URLs.","wds"):"",value:e,placeholder:T,onChange:(e,t)=>this.handleSourceChange(e,t),disabled:h,validateOnInit:r||N(e)}),x&&!b&&(0,t.createElement)(H,{type:"info",message:(0,t.createInterpolateElement)((0,p.__)("To configure a regex redirect, you must first select <strong>Regex</strong> in the Advanced settings below.","wds"),{strong:(0,t.createElement)("strong",null)})}),(0,t.createElement)(_,{label:(0,p.__)("New URL","wds"),value:i,placeholder:(0,p.__)("E.g. /cats-new","wds"),onChange:(e,t)=>this.handleDestinationChange(e,t),disabled:h}),(0,t.createElement)(q,{label:(0,p.__)("Redirect Type","wds"),description:(0,p.__)("This tells search engines whether to keep indexing the old page, or replace it with the new page.","wds"),options:{302:(0,p.__)("Temporary","wds"),301:(0,p.__)("Permanent","wds")},selectedValue:a,onSelect:e=>this.setState({type:e}),disabled:h}),(0,t.createElement)("div",{className:"sui-accordion sui-accordion-flushed"},(0,t.createElement)(z,{header:(0,t.createElement)(s().Fragment,null,(0,t.createElement)("div",{className:"sui-accordion-item-title sui-accordion-col-10"},(0,p.__)("Advanced","wds")),(0,t.createElement)("div",{className:"sui-accordion-col-2"},(0,t.createElement)(W,null)))},(0,t.createElement)(k,{id:"wds-title-field",label:(0,t.createElement)("span",null,(0,t.createElement)("span",null,(0,p.__)("Label","wds"))," ",(0,p.__)("(Optional)","wds")),description:(0,p.__)("Use labels to differentiate long or similar URLs.","wds"),value:l,placeholder:(0,p.__)("E.g. Press release","wds"),onChange:(e,t)=>this.handleTitleChange(e,t),disabled:h}),(0,t.createElement)(G,{label:(0,p.__)("Regular Expression","wds"),description:(0,t.createInterpolateElement)((0,p.__)("Choose whether the strings entered into the Old URL and New URL fields above should be treated as plain text URLs or regular expressions (Regex). Note that only valid regular expressions are allowed. <a>Learn more</a> about Regex.","wds"),{a:(0,t.createElement)("a",{target:"_blank",href:"https://wpmudev.com/docs/wpmu-dev-plugins/smartcrawl/#about-regex-redirects"})}),tabs:{0:(0,p.__)("Plain Text","wds"),1:(0,p.__)("Regex","wds")},value:b?"1":"0",onChange:e=>this.handleOptionChange("regex","1"===e)}))),(0,t.createElement)("div",{style:{display:"flex",justifyContent:"space-between"}},(0,t.createElement)(m,{text:(0,p.__)("Cancel","wds"),ghost:!0,onClick:f,disabled:h}),(0,t.createElement)(m,{text:(0,p.__)("Apply Redirect","wds"),color:"blue",onClick:v,icon:"sui-icon-save",disabled:w,loading:h})))}removeTrailingSlash(e){return e.endsWith("/")?e.slice(0,-1):e}}c(Y,"defaultProps",{editMode:!1,id:"",title:"",source:"",destination:"",homeUrl:"",type:Z(),options:[],inProgress:!1,onSave:()=>!1,onClose:()=>!1});var B=window.lodash,J=n(7145),Q=n.n(J);class K extends s().Component{constructor(e){super(e),this.state={destination:"",isDestinationValid:!1,type:Z()},this.destinationField=k(x,[N,C,this.urlValidator()])}handleDestinationChange(e,t){this.setState({destination:e,isDestinationValid:t})}urlValidator(){return new M(T,(0,p.__)("You need to use an absolute URL like https://domain.com/new-url or start with a slash /new-url.","wds"))}render(){const{onSave:e,onClose:n,inProgress:r}=this.props,{type:s,destination:i,isDestinationValid:o}=this.state,a=()=>e(i.trim(),s),l=!o||r,u=this.destinationField;return(0,t.createElement)(E,{id:"wds-bulk-update-redirects",title:(0,p.__)("Bulk Update","wds"),description:(0,p.__)("Choose which bulk update actions you wish to apply. This will override the existing values for the selected items.","wds"),onEnter:a,onClose:n,disableCloseButton:r,enterDisabled:l,focusAfterOpen:"wds-destination-field",focusAfterClose:"wds-add-redirect-dashed-button",small:!0},(0,t.createElement)(u,{id:"wds-destination-field",label:(0,p.__)("New URL","wds"),value:i,placeholder:(0,p.__)("E.g. /cats-new","wds"),onChange:(e,t)=>this.handleDestinationChange(e,t),disabled:r}),(0,t.createElement)(q,{label:(0,p.__)("Redirect Type","wds"),description:(0,p.__)("This tells search engines whether to keep indexing the old page, or replace it with the new page.","wds"),options:{302:(0,p.__)("Temporary","wds"),301:(0,p.__)("Permanent","wds")},selectedValue:s,onSelect:e=>this.setState({type:e}),disabled:r}),(0,t.createElement)("div",{style:{display:"flex",justifyContent:"space-between"}},(0,t.createElement)(m,{text:(0,p.__)("Cancel","wds"),ghost:!0,onClick:n,disabled:r}),(0,t.createElement)(m,{id:"wds-redirects-save-bulk-changes",text:(0,p.__)("Save","wds"),color:"blue",onClick:a,icon:"sui-icon-save",disabled:l,loading:r})))}}c(K,"defaultProps",{homeUrl:"",inProgress:!1,onSave:()=>!1,onClose:()=>!1});var X=n(6026),ee=n.n(X);class te{static getPage(e,t,n){const r={};return Object.keys(e).slice((t-1)*n,t*n).forEach((t=>r[t]=e[t])),r}static getPageCount(e,t){const n=Math.ceil(e/t);return n<1?1:n}}class ne extends s().Component{handleClick(e,t){e.preventDefault(),this.props.onClick(t)}getPageNumbers(){const e=this.getPageCount(),t=ee()(1,e+1);if(e<=7)return t;const n=this.props.currentPage;let r,s;n<=3?(r=n-1,s=7-r-1):e-n<=3?(s=e-n,r=7-s-1):(r=2,s=3);let i=-1;const o=t.map((e=>e<n-r||e>n+s?i:(i--,e)));return Array.from(new Set(o))}render(){const e=this.getPageCount(),n=this.getPageNumbers();return(0,t.createElement)("div",{className:"sui-pagination-wrap"},(0,t.createElement)("span",{className:"sui-pagination-results"},(0,p.sprintf)((0,p.__)("%s results","wds"),this.props.count)),(0,t.createElement)("ul",{className:"sui-pagination"},(0,t.createElement)("li",null,(0,t.createElement)("a",{href:"#",role:"button",onClick:e=>this.handleClick(e,1),disabled:1===this.props.currentPage},(0,t.createElement)("span",{className:"sui-icon-arrow-skip-back","aria-hidden":"true"}),(0,t.createElement)("span",{className:"sui-screen-reader-text"},(0,p.__)("Go to first page","wds")))),(0,t.createElement)("li",null,(0,t.createElement)("a",{href:"#",role:"button",onClick:e=>this.handleClick(e,this.props.currentPage-1),disabled:1===this.props.currentPage},(0,t.createElement)("span",{className:"sui-icon-chevron-left","aria-hidden":"true"}),(0,t.createElement)("span",{className:"sui-screen-reader-text"},(0,p.__)("Go to previous page","wds")))),n.map((e=>e<0?(0,t.createElement)("li",{key:e},(0,t.createElement)("a",{style:{pointerEvents:"none"}},"...")):(0,t.createElement)("li",{key:e,className:h()({"sui-active":e===this.props.currentPage})},(0,t.createElement)("a",{href:"#",role:"button",onClick:t=>this.handleClick(t,e)},e)))),(0,t.createElement)("li",null,(0,t.createElement)("a",{href:"#",role:"button",onClick:e=>this.handleClick(e,this.props.currentPage+1),disabled:this.props.currentPage===e},(0,t.createElement)("span",{className:"sui-icon-chevron-right","aria-hidden":"true"}),(0,t.createElement)("span",{className:"sui-screen-reader-text"},(0,p.__)("Go to next page","wds")))),(0,t.createElement)("li",null,(0,t.createElement)("a",{href:"#",role:"button",onClick:t=>this.handleClick(t,e),disabled:this.props.currentPage===e},(0,t.createElement)("span",{className:"sui-icon-arrow-skip-forward","aria-hidden":"true"}),(0,t.createElement)("span",{className:"sui-screen-reader-text"},(0,p.__)("Go to last page","wds"))))))}getPageCount(){return te.getPageCount(this.props.count,this.props.perPage)}}c(ne,"defaultProps",{count:0,perPage:10,currentPage:1,onClick:()=>!1});class re{static getQueryParam(e){const t=location.search;return new URLSearchParams(t).get(e)}static removeQueryParam(e){const t=location.search,n=new URLSearchParams(t);if(!n.get(e))return;n.delete(e);const r=location.href.replace(t,"?"+n.toString());history.replaceState({},"",r)}static getUrlHost(e){const t=document.createElement("a");return t.href=e,t.host}}var se=ajaxurl,ie=n.n(se);class oe{static post(e,t,n={}){return new Promise((function(r,s){const i=Object.assign({},{action:e,_wds_nonce:t},n);b().post(ie(),i).done((e=>{var t;e.success?r(null==e?void 0:e.data):s(null==e||null===(t=e.data)||void 0===t?void 0:t.message)})).fail((()=>s()))}))}static uploadFile(e,t,n){const r=new FormData;return r.append("file",n),r.append("action",e),r.append("_wds_nonce",t),new Promise(((e,t)=>{b().ajax({url:ie(),cache:!1,contentType:!1,processData:!1,type:"post",data:r}).done((n=>{var r;n.success?e(null==n?void 0:n.data):t(null==n||null===(r=n.data)||void 0===r?void 0:r.message)})).fail((()=>t()))}))}}class ae extends s().Component{render(){const{id:e,title:n,description:r,inProgress:s,onClose:i,onDelete:o}=this.props,a=e+"-cancel";return(0,t.createElement)(E,{id:e,title:n,description:r,small:!0,disableCloseButton:s,focusAfterOpen:a,onClose:i},(0,t.createElement)(m,{id:a,ghost:!0,disabled:s,text:(0,p.__)("Cancel","wds"),onClick:i}),(0,t.createElement)(m,{color:"red",loading:s,icon:"sui-icon-trash",text:(0,p.__)("Delete","wds"),onClick:o}))}}c(ae,"defaultProps",{id:"",title:"",description:"",inProgress:!1,onClose:()=>!1,onDelete:()=>!1});class le extends s().Component{constructor(e){super(e),this.state={file:null}}handleFileChange(e){const t=e.target.files[0];this.changeFile(t)}handleRemoval(){this.changeFile(null)}changeFile(e){this.setState({file:e}),this.props.onChange(e)}render(){const{id:e,acceptType:n}=this.props,{file:r}=this.state,s=!!r,i=s&&(null==r?void 0:r.name);return(0,t.createElement)("div",{className:h()("sui-upload",{"sui-has_file":s,"sui-file-upload sui-file-browser":!s})},(0,t.createElement)("input",{id:e,type:"file",readOnly:"readonly",accept:n,value:"",onChange:e=>this.handleFileChange(e)}),(0,t.createElement)("label",{className:"sui-upload-button",htmlFor:e},(0,t.createElement)("span",{className:"sui-icon-upload-cloud","aria-hidden":"true"}),(0,p.__)("Upload file","wds")),(0,t.createElement)("div",{className:"sui-upload-file"},(0,t.createElement)("span",null,i),(0,t.createElement)("button",{type:"button","aria-label":(0,p.__)("Remove file","wds"),onClick:()=>this.handleRemoval()},(0,t.createElement)("span",{className:"sui-icon-close","aria-hidden":"true"}))))}}c(le,"defaultProps",{id:"",acceptType:"",onChange:()=>!1});class ue extends s().Component{render(){return(0,t.createElement)(S,e({},this.props,{formControl:le}))}}class ce{static triggerFileDownload(e,t){const n=document.createElement("a"),r=new Blob([e],{type:"application/json"}),s=window.URL.createObjectURL(r);n.href=s,n.download=t,n.click(),window.URL.revokeObjectURL(s)}}class de extends s().Component{constructor(e){super(e),this.state={file:null,sizeError:!1,typeError:!1}}handleFileChange(e){this.setState({file:e,sizeError:(null==e?void 0:e.size)&&(null==e?void 0:e.size)>1e6,typeError:e&&!this.isFileTypeValid(e)})}isFileTypeValid(e){return((null==e?void 0:e.name)+"").endsWith(".csv")&&this.props.csvTypes.includes(null==e?void 0:e.type)}render(){const{inProgress:e,onClose:n,onImport:r}=this.props,{file:i,sizeError:o,typeError:a}=this.state,l=(0,t.createInterpolateElement)((0,p.__)("Choose a CSV file (.csv) with a max-size of 1MB containing your redirects, formatted as follows: <strong>old-url</strong>, <strong>new-url</strong>, redirect-type <strong>301 or 302</strong>, is-regex <strong>0 or 1</strong>, <strong>label</strong> (optional). <a>Download CSV template</a>.","wds"),{strong:(0,t.createElement)("strong",null),a:(0,t.createElement)("a",{href:"#",onClick:e=>this.downloadTemplateFile(e)})}),u=!i||o||a;return(0,t.createElement)(E,{id:"wds-import-redirects-modal",title:(0,p.__)("Import Redirects","wds"),description:(0,p.__)("Import redirects from a CSV file below.","wds"),small:!0,focusAfterOpen:"wds-import-redirects-modal-close-button",focusAfterClose:"wds-import-redirects-button",onClose:n,disableCloseButton:e,footer:(0,t.createElement)(s().Fragment,null,(0,t.createElement)("div",{className:"sui-flex-child-right"},(0,t.createElement)(m,{text:(0,p.__)("Cancel","wds"),ghost:!0,onClick:n,disabled:e})),(0,t.createElement)("div",{className:"sui-actions-right"},(0,t.createElement)(m,{text:(0,p.__)("Import","wds"),color:"blue",onClick:()=>r(i),icon:"sui-icon-upload-cloud",disabled:u,loading:e})))},(0,t.createElement)(ue,{id:"wds-import-redirects-file",acceptType:".csv",label:(0,p.__)("Upload CSV file","wds"),onChange:e=>this.handleFileChange(e)}),o&&(0,t.createElement)(H,{type:"error",message:(0,p.__)("Oops! The uploaded file is too large, please select a file not larger than 1MB.","wds")}),a&&(0,t.createElement)(H,{type:"error",message:(0,p.__)("Whoops! Only .csv filetypes are allowed.","wds")}),(0,t.createElement)("p",{className:"sui-description",style:{textAlign:"left"}},(0,t.createElement)("small",null,l)))}downloadTemplateFile(e){e.preventDefault(),e.stopPropagation(),ce.triggerFileDownload('"/old-url-1","/new-url-1",302,1,"Temporary Regex Redirect"\n"/old-url-2","/new-url-2",301,0,"Permanent Plain Redirect"',"smartcrawl-redirects-csv-template.csv")}}c(de,"defaultProps",{inProgress:!1,csvTypes:[],onClose:()=>!1,onImport:()=>!1});var he=n(9490);class me extends s().Component{render(){const{placeholder:e}=this.props;return(0,t.createElement)("div",{className:"sui-search sui-control-with-icon"},(0,t.createElement)("span",{className:"sui-icon-magnifying-glass-search","aria-hidden":"true"}),(0,t.createElement)("input",{type:"text",className:"sui-form-control",onChange:e=>this.handleChange(e.target.value),placeholder:e}))}handleChange(e){this.debounced||(this.debounced=(0,B.debounce)((e=>this.props.onChange(e)),500)),this.debounced(e)}}c(me,"defaultProps",{placeholder:"",onChange:()=>!1});var pe=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function fe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!((r=e[n])===(s=t[n])||pe(r)&&pe(s)))return!1;var r,s;return!0}class ge extends s().Component{constructor(e){super(e),this.state={redirects:this.props.redirects,keyword:"",bulkItems:new Set,addingRedirect:!1,editingRedirect:!1,deletingRedirect:!1,bulkUpdating:!1,currentPageNumber:1,requestInProgress:!1,importInProgress:!1,exportInProgress:!1},this.redirectsPerPage=10,this.filterMemoized=function(e,t){var n;void 0===t&&(t=fe);var r,s=[],i=!1;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return i&&n===this&&t(o,s)||(r=e.apply(this,o),i=!0,n=this,s=o),r}}(((e,t)=>this.filterRedirects(e,t)))}componentDidMount(){this.maybeStartAddingRedirect()}render(){const{bulkUpdating:n,bulkItems:r,requestInProgress:i,editingRedirect:o,addingRedirect:a,deletingRedirect:l,currentPageNumber:u,importInProgress:c,exportInProgress:d,keyword:f}=this.state,g=this.getFilteredRedirects(),{homeUrl:y}=this.props,v=this.objectLength(g),w=v>0,b=this.getRedirectsPage(),E=this.objectLength(b),k=r.size,S=E>0&&k===E;return(0,t.createElement)("div",{className:"sui-box"},(0,t.createElement)("div",{className:"sui-box-header"},(0,t.createElement)("h2",{className:"sui-box-title"},(0,p.__)("URL Redirection","wds")),(0,t.createElement)("div",{className:"sui-actions-right"},(0,t.createElement)(m,{id:"wds-import-redirects-button",text:(0,p.__)("Import","wds"),ghost:!0,icon:"sui-icon-upload-cloud",disabled:i,onClick:()=>this.startImporting()}),(0,t.createElement)(m,{id:"wds-export-redirects-button",text:(0,p.__)("Export","wds"),ghost:!0,icon:"sui-icon-cloud-migration",disabled:i,loading:d,onClick:()=>this.exportRedirects()}))),(0,t.createElement)("div",{className:"sui-box-body"},(0,t.createElement)("p",null,(0,p.__)("Automatically redirect traffic from one URL to another. Use this tool if you have changed a pages URL and wish to keep traffic flowing to the new page.","wds")),(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"sui-box-builder"},(0,t.createElement)("div",{className:"sui-box-builder-header",style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"}},(0,t.createElement)(m,{text:(0,p.__)("Add Redirect","wds"),color:"purple",icon:"sui-icon-plus",onClick:()=>this.startAddingRedirect()}),(0,t.createElement)("div",null,v>this.redirectsPerPage&&(0,t.createElement)(ne,{count:v,currentPage:u,perPage:this.redirectsPerPage,onClick:e=>this.changePage(e)}))),(0,t.createElement)("div",{className:h()("sui-box-builder-body",{"wds-no-redirects":!w&&!f})},(0,t.createElement)("div",{className:"wds-redirect-controls"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"sui-checkbox"},(0,t.createElement)("input",{type:"checkbox",checked:S,onChange:e=>this.toggleAll(e.target.checked)}),(0,t.createElement)("span",{"aria-hidden":"true"})),(0,t.createElement)(m,{id:"wds-redirects-start-bulk-update",text:(0,p.__)("Bulk Update","wds"),onClick:()=>this.startBulkUpdate(),disabled:!k}),n&&(0,t.createElement)(K,{inProgress:i,homeUrl:y,onSave:(e,t)=>this.bulkUpdate(e,t),onClose:()=>this.stopBulkUpdate()}),(0,t.createElement)(m,{id:"wds-redirects-start-bulk-removing",text:(0,p.__)("Remove Redirects","wds"),onClick:()=>this.startDeletingRedirects(),disabled:!k})),(0,t.createElement)(me,{placeholder:(0,p.__)("Search Redirects","wds"),onChange:e=>this.handleSearch(e)})),(0,t.createElement)("div",{className:"sui-builder-fields"},w&&(0,t.createElement)("div",{className:"wds-redirect-item wds-redirect-item-columns"},(0,t.createElement)("div",{className:"wds-redirect-item-checkbox"}),(0,t.createElement)("div",{className:"wds-redirect-item-source"},(0,t.createElement)("small",null,(0,t.createElement)("strong",null,(0,p.__)("Old URL","wds")))),(0,t.createElement)("div",{className:"wds-redirect-item-destination"},(0,t.createElement)("small",null,(0,t.createElement)("strong",null,(0,p.__)("New URL","wds")))),(0,t.createElement)("div",{className:"wds-redirect-item-options"},(0,t.createElement)("small",null,(0,t.createElement)("strong",null,(0,p.__)("Type","wds")))),(0,t.createElement)("div",{className:"wds-redirect-item-dropdown"})),Object.keys(b).map((n=>{const a=b[n];return(0,t.createElement)(s().Fragment,{key:n+"-fragment"},(0,t.createElement)(F,e({},a,{key:n,selected:r.has(n),onToggle:e=>this.toggleItem(n,e),onEdit:()=>this.startEditingRedirect(n),onDelete:()=>this.startDeletingRedirect(n)})),o===n&&(0,t.createElement)(Y,e({},a,{homeUrl:y,inProgress:i,editMode:!0,onSave:e=>this.editRedirect(e),onClose:()=>this.stopEditingRedirect()})))}))),f&&!w&&(0,t.createElement)("p",null,(0,t.createInterpolateElement)((0,p.sprintf)((0,p.__)("No results found for the keyword <strong>%s</strong>.","wds"),f),{strong:(0,t.createElement)("strong",null)})),(0,t.createElement)(m,{id:"wds-add-redirect-dashed-button",dashed:!0,icon:"sui-icon-plus",text:(0,p.__)("Add Redirect","wds"),onClick:()=>this.startAddingRedirect()}),(0,t.createElement)("p",{className:"wds-no-redirects-message"},(0,t.createElement)("small",null,(0,p.__)("You can add as many redirects as you like. Add your first above!","wds"))))),a&&(0,t.createElement)(Y,{inProgress:i,homeUrl:y,onSave:e=>this.addRedirect(e),onClose:()=>this.stopAddingRedirect()}),l&&(0,t.createElement)(ae,{id:"wds-delete-redirect-modal",title:(0,p.__)("Are you sure?","wds"),description:(0,p._n)("Are you sure you want to delete this redirect? This action is irreversible.","Are you sure you want to delete the selected redirects? This action is irreversible.",l.length,"wds"),inProgress:i,onClose:()=>this.stopDeletingRedirect(),onDelete:()=>this.deleteRedirect()})),c&&(0,t.createElement)(de,{inProgress:i,onClose:()=>this.stopImporting(),onImport:e=>this.importRedirectsFromCsv(e),csvTypes:this.props.csvTypes})))}exportRedirects(){const{nonce:e,homeUrl:t}=this.props;this.setState({exportInProgress:!0,requestInProgress:!0},(()=>{oe.post("wds_export_csv",e).then((e=>{const n=re.getUrlHost(t),r=he.ou.now().toFormat("dd-LL-y");ce.triggerFileDownload(e.content,`smartcrawl-redirects-${n}-${r}.csv`)})).catch((e=>{this.showErrorNotice(e)})).finally((()=>{this.setState({exportInProgress:!1,requestInProgress:!1})}))}))}startImporting(){this.setState({importInProgress:!0})}stopImporting(){this.setState({importInProgress:!1})}importRedirectsFromCsv(e){this.setState({requestInProgress:!0},(()=>{oe.uploadFile("wds_import_redirects_from_csv",this.props.nonce,e).then((e=>{const t=e.count;this.showSuccessNotice((0,p._n)((0,p.sprintf)((0,p.__)("%d redirect inserted successfully!","wds"),t),(0,p.sprintf)((0,p.__)("%d redirects inserted successfully!","wds"),t),t)),this.setState({redirects:e.redirects},(()=>{this.setState({currentPageNumber:this.getPageCount()})}))})).catch((e=>{this.showErrorNotice(e)})).finally((()=>{this.setState({requestInProgress:!1,importInProgress:!1})}))}))}changePage(e){this.setState({currentPageNumber:e,bulkItems:new Set})}saveRedirect(e){return new Promise(((t,n)=>{this.setState({requestInProgress:!0}),this.post("wds_save_redirect",e).then((e=>{const n=Q()(this.state.redirects,{[e.id]:{$set:{...e}}});this.setState({redirects:n},t)})).catch((e=>{this.showErrorNotice(e),n()})).finally((()=>{this.setState({requestInProgress:!1})}))}))}post(e,t){return oe.post(e,this.props.nonce,t)}startAddingRedirect(){this.setState({addingRedirect:!0})}addRedirect(e){this.sourceExists(e.source)?this.showErrorNotice((0,p.__)("That URL already exists, please try again.","wds")):this.saveRedirect(e).then((()=>{this.showSuccessNotice((0,p.__)("The redirect has been added.","wds")),this.setState({currentPageNumber:this.getPageCount()}),this.stopAddingRedirect()}))}sourceExists(e){return Object.values(this.state.redirects).filter((t=>t.source===e)).length>0}stopAddingRedirect(){this.maybeRemoveQueryParam(),this.setState({addingRedirect:!1})}startEditingRedirect(e){this.setState({editingRedirect:e})}editRedirect(e){this.saveRedirect(e).then((()=>{this.stopEditingRedirect(),this.showSuccessNotice((0,p.__)("The redirect has been updated.","wds"))}))}stopEditingRedirect(){this.setState({editingRedirect:!1})}startBulkUpdate(){this.setState({bulkUpdating:!0})}bulkUpdate(e,t){const n=Array.from(this.state.bulkItems);this.setState({requestInProgress:!0}),this.post("wds_bulk_update_redirects",{ids:n,destination:e,type:t}).then((e=>{const t={};n.forEach((n=>{t[n]={$set:{...e[n]}}})),this.setState({redirects:Q()(this.state.redirects,t),bulkUpdating:!1,requestInProgress:!1}),this.showSuccessNotice((0,p.__)("The redirects have been updated.","wds"))})).catch((e=>{this.showErrorNotice(e)}))}stopBulkUpdate(){this.setState({bulkUpdating:!1})}startDeletingRedirect(e){this.setState({deletingRedirect:[e]})}startDeletingRedirects(){const e=Array.from(this.state.bulkItems);this.setState({deletingRedirect:e})}stopDeletingRedirect(){this.setState({deletingRedirect:!1})}deleteRedirect(){const e=this.state.deletingRedirect;this.setState({requestInProgress:!0}),this.post("wds_delete_redirect",{ids:e}).then((()=>{const t=Q()(this.state.redirects,{$unset:e}),n=Q()(this.state.bulkItems,{$remove:e});this.setState({redirects:t},(()=>{this.setState({deletingRedirect:!1,requestInProgress:!1,currentPageNumber:this.newPageNumberAfterDeletion(),bulkItems:n})})),this.showSuccessNotice((0,p._n)((0,p.__)("The redirect has been removed.","wds"),(0,p.__)("The redirects have been removed.","wds"),e.length))})).catch((e=>{this.showErrorNotice(e)}))}toggleItem(e,t){const n=new Set(this.state.bulkItems);t?n.add(e):n.delete(e),this.setState({bulkItems:n})}toggleAll(e){let t;t=e?Object.keys(this.getRedirectsPage()):[],this.setState({bulkItems:new Set(t)})}getPageCount(){return te.getPageCount(this.objectLength(this.getFilteredRedirects()),this.redirectsPerPage)}getRedirectsPage(){return te.getPage(this.getFilteredRedirects(),this.state.currentPageNumber,this.redirectsPerPage)}newPageNumberAfterDeletion(){const e=this.state.currentPageNumber;return e>this.getPageCount()?e-1:e}objectLength(e){return Object.keys(e).length}showNotice(e,t="success"){v().closeNotice("wds-redirect-notice"),v().openNotice("wds-redirect-notice","<p>"+e+"</p>",{type:t,icon:{error:"warning-alert",info:"info",warning:"warning-alert",success:"check-tick"}[t],dismiss:{show:!1}})}showSuccessNotice(e){this.showNotice(e,"success")}showErrorNotice(e){this.showNotice(e||(0,p.__)("An error occurred. Please reload the page and try again!","wds"),"error")}maybeStartAddingRedirect(){"1"===re.getQueryParam("add_redirect")&&this.startAddingRedirect()}maybeRemoveQueryParam(){re.removeQueryParam("add_redirect")}handleSearch(e){this.setState({keyword:e,bulkItems:new Set,currentPageNumber:1})}getFilteredRedirects(){const{keyword:e,redirects:t}=this.state;return this.filterMemoized(e,t)}filterRedirects(e,t){return(0,B.pickBy)(t,(t=>this.redirectMatchesKeyword(e,t)))}redirectMatchesKeyword(e,t){if(!e)return!0;let n=!1;return["source","destination","title"].some((r=>{if(!t||!t.hasOwnProperty(r))return!1;const s=t[r].toLowerCase(),i=e.toLowerCase();return-1!==s.indexOf(i)?(n=!0,!0):void 0})),n}}c(ge,"defaultProps",{redirects:{},nonce:"",homeUrl:"",csvTypes:[]});class ye extends s().Component{render(){return(0,t.createElement)("div",{className:"sui-box-settings-row"},(0,t.createElement)("div",{className:"sui-box-settings-col-1"},(0,t.createElement)("span",{className:"sui-settings-label"},this.props.label),(0,t.createElement)("span",{className:"sui-description"},this.props.description)),(0,t.createElement)("div",{className:"sui-box-settings-col-2"},this.props.children))}}c(ye,"defaultProps",{label:"",description:""});var ve=n(3955),we=n.n(ve);class be extends s().Component{handleChange(e){this.props.onChange&&this.props.onChange(e.target.checked,e.target)}render(){return this.props.label?(0,t.createElement)("div",{className:"sui-form-field"},this.inner()):this.inner()}inner(){const{label:e,description:n,children:r,checked:i,disabled:o}=this.props,a=we()();let{id:l}=this.props;return l||(l="wds-toggle-"+a),(0,t.createElement)(s().Fragment,null,(0,t.createElement)("label",{htmlFor:l,className:"sui-toggle"},(0,t.createElement)("input",{type:"checkbox",id:l,checked:i,onChange:e=>this.handleChange(e),disabled:o,"aria-labelledby":e&&`sui-toggle-label-${a}`,"aria-describedby":n&&`sui-toggle-description-${a}`,"aria-controls":r&&`sui-toggle-children-${a}`}),(0,t.createElement)("span",{className:"sui-toggle-slider","aria-hidden":"true"}),e&&(0,t.createElement)("span",{id:`sui-toggle-label-${a}`,className:"sui-toggle-label"},e),n&&(0,t.createElement)("span",{id:`sui-toggle-description-${a}`,className:"sui-description"},n)),r&&(0,t.createElement)("div",{id:`sui-toggle-children-${a}`,className:h()("sui-toggle-children",{"sui-hidden":!i}),"aria-label":(0,p.sprintf)(
/* translators: %s: toggle label. */
(0,p.__)("Children of '%s'","wds"),e)},r))}}c(be,"defaultProps",{id:"",label:"",description:"",checked:!1,disabled:!1,children:null,onChange:()=>!1});class Ee extends s().Component{render(){return(0,t.createElement)("div",{className:"sui-box sui-message sui-message-lg"},(0,t.createElement)("img",{src:this.props.imagePath,className:"sui-image","aria-hidden":"true",alt:(0,p.__)("Disabled component","wds")}),(0,t.createElement)("div",{className:"sui-message-content"},(0,t.createElement)("p",null,this.props.message),(0,t.createElement)("p",null,this.props.button)))}}c(Ee,"defaultProps",{imagePath:!1,message:"",button:!1});class ke extends s().Component{constructor(e){super(e),this.state=Object.assign({},this.props,{requestInProgress:!1})}render(){if(!this.state.woocommerceEnabled){const e=(0,t.createElement)(m,{color:"blue",text:(0,p.__)("Activate","wds"),loading:this.state.requestInProgress,onClick:()=>this.changeModuleStatus(!0)});return(0,t.createElement)(Ee,{imagePath:this.props.disabledImagePath,message:(0,p.__)("Activate WooCommerce SEO to add the required metadata and Product Schema to your WooCommerce site, helping you stand out in search results.","wds"),button:e})}return(0,t.createElement)("div",{className:"sui-box"},(0,t.createElement)("div",{className:"sui-box-header"},(0,t.createElement)("h2",{className:"sui-box-title"},(0,p.__)("WooCommerce SEO","wds"))),(0,t.createElement)("div",{className:"sui-box-body"},(0,t.createElement)("p",null,(0,p.__)("Use the WooCommerce SEO configurations below to add recommended Woo metadata and Product Schema to your WooCommerce site, helping you stand out in search results pages.","wds")),(0,t.createElement)(ye,{label:(0,p.__)("Improve Woo Schema","wds"),description:(0,p.__)("Improve your site's WooCommerce Schema.","wds")},this.props.schemaAllowed&&!this.props.schemaEnabled&&(0,t.createElement)(H,{message:(0,t.createInterpolateElement)((0,p.__)("For these settings to be applied, the <a>Schema module</a> must first be enabled.","wds"),{a:(0,t.createElement)("a",{target:"_blank",href:this.props.schemaUrl})})}),(0,t.createElement)(q,{label:(0,p.__)("Brand","wds"),description:(0,p.__)("Select the product taxonomy to use as Brand in Schema & OpenGraph markup.","wds"),options:this.props.brandOptions,selectedValue:this.state.brand,onSelect:e=>this.setState({brand:e})}),(0,t.createElement)(q,{label:(0,p.__)("Global Identifier","wds"),description:(0,t.createInterpolateElement)((0,p.__)("Global Identifier key to use in the Product Schema. You can add a Global Identifier value for each product in the <strong>Inventory</strong> section of the <strong>Product Metabox</strong>","wds"),{strong:(0,t.createElement)("strong",null)}),options:{"":(0,p.__)("None","wds"),gtin8:"GTIN-8",gtin12:"GTIN-12",gtin13:"GTIN-13",gtin14:"GTIN-14",isbn:"ISBN",mpn:"MPN"},selectedValue:this.state.globalIdentifier,onSelect:e=>this.setState({globalIdentifier:e})}),this.props.schemaAllowed&&(0,t.createElement)(be,{id:"wds-enable-shop-schema",label:(0,p.__)("Enable Shop Schema","wds"),description:(0,p.__)("Add schema data on the shop page.","wds"),disabled:!this.props.schemaEnabled,checked:this.state.enableShopPageSchema,onChange:e=>this.setState({enableShopPageSchema:e})})),(0,t.createElement)(ye,{label:(0,p.__)("Improve Woo Meta","wds"),description:(0,p.__)("Improve your site's default WooCommerce Meta.","wds")},this.props.socialAllowed&&!this.props.opengraphEnabled&&(0,t.createElement)(H,{message:(0,t.createInterpolateElement)((0,p.__)("For these settings to be applied, OpenGraph Support must first be <a>enabled</a>.","wds"),{a:(0,t.createElement)("a",{target:"_blank",href:this.props.socialUrl})})}),this.props.socialAllowed&&(0,t.createElement)(be,{id:"wds-enable-opengraph",label:(0,p.__)("Enable Product Open Graph","wds"),description:(0,p.__)("If enabled, WooCommerce product data will be added to Open Graph.","wds"),disabled:!this.props.opengraphEnabled,checked:this.state.enableOpenGraph,onChange:e=>this.setState({enableOpenGraph:e})}),(0,t.createElement)(be,{id:"wds-remove-generator-tag",label:(0,p.__)("Remove Generator Tag","wds"),description:(0,t.createInterpolateElement)((0,p.__)('If enabled, the WooCommerce generator tag <strong><meta name="generator" content="WooCommerce x.x.x" /></strong> will be removed.',"wds"),{strong:(0,t.createElement)("strong",null)}),checked:this.state.removeGeneratorTag,onChange:e=>this.setState({removeGeneratorTag:e})})),(0,t.createElement)(ye,{label:(0,p.__)("Restrict Search Engines","wds"),description:(0,p.__)("Use these options to restrict Indexing or crawling of specific pages on the site.","wds")},(0,t.createElement)(be,{id:"wds-noindex-hidden-products",label:(0,p.__)("Noindex Hidden Products","wds"),description:(0,p.__)("Set Product Pages to noindex when WooCommerce Catalog visibility is set to hidden.","wds"),checked:this.state.noindexHiddenProducts,onChange:e=>this.setState({noindexHiddenProducts:e})}),(0,t.createElement)(be,{id:"wds-add-robots",label:(0,p.__)("Disallow Crawling of Cart, Checkout & My Account Pages","wds"),description:(0,t.createInterpolateElement)((0,p.__)("If enabled, the following will be added to your Robots.txt file:<br/><strong>Disallow: /*add-to-cart=*<br/>Disallow: /cart/<br/>Disallow: /checkout/<br/>Disallow: /my-account/</strong>","wds"),{strong:(0,t.createElement)("strong",null),br:(0,t.createElement)("br",null)}),checked:this.state.addRobots,onChange:e=>this.setState({addRobots:e})}))),(0,t.createElement)("div",{className:"sui-box-footer"},(0,t.createElement)("input",{type:"hidden",name:"wds_autolinks_options[woo-settings]",value:JSON.stringify(this.state)}),(0,t.createElement)(m,{text:(0,p.__)("Deactivate","wds"),loading:this.state.requestInProgress,icon:"sui-icon-power-on-off",ghost:!0,onClick:()=>this.changeModuleStatus(!1)}),(0,t.createElement)("button",{name:"submit",type:"submit",className:"sui-button sui-button-blue"},(0,t.createElement)("span",{className:"sui-icon-save","aria-hidden":"true"}),(0,p.__)("Save Settings","wds"))))}changeModuleStatus(e){this.setState({requestInProgress:!0}),oe.post("wds_change_woo_status",this.props.nonce,{enable:e?1:0}).then((()=>{this.setState({woocommerceEnabled:e,requestInProgress:!1})}))}}c(ke,"defaultProps",{woocommerceEnabled:!1,removeGeneratorTag:!1,enableOpenGraph:!1,addRobots:!1,enableShopPageSchema:!1,noindexHiddenProducts:!1,brandOptions:{},brand:"",globalIdentifier:"",disabledImagePath:"",permalinkSettingsUrl:"",nonce:"",opengraphEnabled:!1,socialAllowed:!1,socialUrl:"",schemaEnabled:!1,schemaAllowed:!1,schemaUrl:""});class Se extends s().Component{render(){const{id:e,title:n,type:r,onRemove:s}=this.props;return(0,t.createElement)("tr",null,(0,t.createElement)("td",null,(0,t.createElement)("strong",null,n)),(0,t.createElement)("td",null,r),(0,t.createElement)("td",{className:"wds-postlist-item-remove"},(0,t.createElement)(m,{color:"red",icon:"sui-icon-trash",onClick:()=>s(e)})))}}c(Se,"defaultProps",{id:"",title:"",type:"",onRemove:()=>!1});class _e extends s().Component{constructor(e){super(e),this.state={items:[],selectedType:Object.keys(this.props.postTypes)[0]}}render(){const{id:e,postTypes:n,onClose:r}=this.props,{items:i,selectedType:o}=this.state;return(0,t.createElement)(E,{id:e,title:(0,p.__)("Add Exclusion","wds"),description:(0,p.__)("Choose which post you want to exclude.","wds"),small:!0,onEnter:()=>this.handleSubmit(),onClose:r,footer:(0,t.createElement)(s().Fragment,null,(0,t.createElement)(m,{ghost:!0,text:(0,p.__)("Cancel","wds"),onClick:r}),(0,t.createElement)("div",{className:"sui-actions-right"},(0,t.createElement)(m,{text:(0,p.__)("Add","wds"),onClick:()=>this.handleSubmit(),disabled:!i.length})))},(0,t.createElement)(q,{label:(0,p.__)("Type","wds"),options:n,selectedValue:o,onSelect:e=>this.handleChangeType(e)}),(0,t.createElement)(q,{label:(0,p.__)("Post","wds"),placeholder:(0,p.__)("Start typing to search ...","wds"),selectedValue:i,multiple:!0,tagging:!0,ajaxUrl:()=>this.getAjaxSearchUrl(),processResults:e=>this.processResults(e),onSelect:e=>this.handleUpdateItems(e)}))}handleSubmit(){this.props.onSubmit&&this.props.onSubmit(Q()(this.state.items,{$set:this.state.items}))}handleChangeType(e){this.setState({selectedType:e})}handleUpdateItems(e){this.setState({items:e})}getAjaxSearchUrl(){return!!ie()&&(0,p.sprintf)("%s?action=wds-load_exclusion_posts-posts_data-paged&type=%s&_wds_nonce=%s",ie(),this.state.selectedType,this.props.nonce)}processResults(e){const t=[],n=[];return e.posts.forEach((e=>{t.push({id:e.id,text:e.title}),n.push(e)})),this.props.onPostsUpdate&&this.props.onPostsUpdate(n),{results:t}}}c(_e,"defaultProps",{id:"",nonce:"",postTypes:[],onPostsUpdate:()=>!1,onSubmit:()=>!1,onClose:()=>!1});class xe extends s().Component{render(){return(0,t.createElement)("div",{className:"sui-floating-notices"},(0,t.createElement)("div",{role:"alert",id:this.props.id,className:"sui-notice","aria-live":"assertive"}))}}c(xe,"defaultProps",{id:""});class Ne extends s().Component{constructor(e){super(e),this.state={loading:!0,openDialog:!1,items:this.props.items,posts:[]}}componentDidMount(){this.loadPosts()}render(){const{postTypes:n,items:r,nonce:i,onRemove:o}=this.props,{posts:a,loading:l,openDialog:u}=this.state;return(0,t.createElement)("div",{className:"wds-postlist-list"},(0,t.createElement)(xe,{id:"wds-postlist-notice"}),!l&&(0,t.createElement)(s().Fragment,null,!!r.length&&(0,t.createElement)("table",{className:"wds-postlist sui-table"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,(0,p.__)("Post","wds")),(0,t.createElement)("th",{colSpan:"2"},(0,p.__)("Post Type","wds")))),(0,t.createElement)("tbody",null,a.filter((e=>-1!==r.indexOf(e.id))).map(((n,r)=>(0,t.createElement)(Se,e({key:r,onRemove:e=>o(e)},n)))))),!r.length&&(0,t.createElement)(H,{type:"info",message:(0,p.__)("You haven't chosen to exclude any posts/pages.","wds")}),(0,t.createElement)(m,{id:"wds-postlist-selector-open",icon:"sui-icon-plus",text:(0,p.__)("Add Exclusion","wds"),onClick:()=>this.toggleModal()})),l&&(0,t.createElement)("small",null,(0,t.createElement)("i",null,(0,p.__)("Loading posts, please hold on","wds"))),u&&(0,t.createElement)(_e,{id:"wds-postlist-selector",postTypes:n,onPostsUpdate:e=>this.handlePostsUpdate(e),onSubmit:e=>this.handleItemsUpdate(e),onClose:()=>this.toggleModal(),nonce:i}))}loadPosts(){oe.post("wds-load_exclusion_posts-posts_data-specific",this.props.nonce,{type:"exclude",posts:this.props.items}).then((e=>{this.setState({posts:e.posts,loading:!1})})).catch((e=>{(class{static showSuccessNotice(e,t,n=!0){return this.showNotice(e,t,"success",n)}static showErrorNotice(e,t,n=!0){return this.showNotice(e,t,"error",n)}static showInfoNotice(e,t,n=!0){return this.showNotice(e,t,"info",n)}static showWarningNotice(e,t,n=!0){return this.showNotice(e,t,"warning",n)}static closeNotice(e){SUI.closeNotice(e)}static showNotice(e,t,n="success",r=!0){SUI.closeNotice(e),SUI.openNotice(e,"<p>"+t+"</p>",{type:n,icon:{error:"warning-alert",info:"info",warning:"warning-alert",success:"check-tick"}[n],dismiss:{show:r}})}}).showErrorNotice("wds-postlist-notice",e||(0,p.__)("An error occurred. Please try again.","wds"),!1),this.setState({loading:!1})}))}handleItemsUpdate(e){let{items:t}=this.props;e.forEach((e=>{const n=parseInt(e);-1===t.indexOf(n)&&(t=Q()(t,{$push:[n]}))})),this.setState({openDialog:!1}),this.props.onUpdate(t)}handlePostsUpdate(e){let{posts:t}=this.state;t||(t=[]);const n=t?t.map((e=>e.id)):[];e.forEach((e=>{-1===n.indexOf(e.id)&&(t=Q()(t,{$push:[e]}))})),this.setState({posts:t})}toggleModal(){this.setState({openDialog:!this.state.openDialog})}}c(Ne,"defaultProps",{items:[],postTypes:{},nonce:"",onUpdate:()=>!1,onRemove:()=>!1});class Ce extends s().Component{constructor(e){super(e),this.state={openDialog:!1,exclusions:this.props.exclusions}}render(){const{optionName:e,postTypes:n,nonce:r}=this.props,{exclusions:i}=this.state;return(0,t.createElement)(s().Fragment,null,(0,t.createElement)("label",{className:"sui-label"},(0,p.__)("Exclude Posts/Pages","wds")),(0,t.createElement)(Ne,{items:i,postTypes:n,nonce:r,onRemove:e=>this.handleRemove(e),onUpdate:e=>this.handleUpdate(e)}),(0,t.createElement)("input",{name:e+"[ignorepost]",type:"hidden",value:i.join(",")}))}handleRemove(e){const t=this.state.exclusions.indexOf(e);this.setState({exclusions:Q()(this.state.exclusions,{$splice:[[t,1]]})})}handleUpdate(e){this.setState({exclusions:e})}}c(Ce,"defaultProps",{optionName:"",exclusions:[],postTypes:[],nonce:""}),l()((()=>{const n=document.getElementById("wds-custom-keyword-pairs");if(n){const e=j.get("custom_keywords","autolinks")||"";(0,u.render)((0,t.createElement)(o,null,(0,t.createElement)(A,{data:e})),n)}const r=document.getElementById("wds-redirects-container");if(r){const e=j.get("redirects","redirects")||{},n=j.get("nonce","redirects")||{},s=j.get("home_url","redirects")||{},i=j.get("accepted-csv-types","redirects")||[];(0,u.render)((0,t.createElement)(o,null,(0,t.createElement)(ge,{redirects:e,homeUrl:s,nonce:n,csvTypes:i})),r)}const s=document.getElementById("wds-woo-settings-tab");if(s){const n=j.get("options","woo")||{},r=j.get("permalink_settings","woo");(0,u.render)((0,t.createElement)(o,null,(0,t.createElement)(ke,e({},n,{permalinkSettingsUrl:r,disabledImagePath:j.get("image_path","woo"),nonce:j.get("nonce","woo")}))),s)}const i=document.getElementById("wds-excluded-posts");if(i){let e=j.get("exclusions","excluded_posts");e=e.split(",").filter((e=>!!e)).map((e=>parseInt(e.trim())));let n=j.get("post_types","excluded_posts");for(const e in n)n[e]=n[e].label||n[e].name;(0,u.render)((0,t.createElement)(o,null,(0,t.createElement)(Ce,{optionName:j.get("option_name","excluded_posts"),postTypes:j.get("post_types","excluded_posts"),exclusions:e,nonce:j.get("nonce","excluded_posts")})),i)}})),function(e){function t(t){var n=e(this).find(".wds-action-button"),r=t.which;n.length&&13===r&&(t.preventDefault(),t.stopPropagation(),n.trigger("click"))}function n(t){var n=!0,r=e(this),s=e('button[type="submit"]',r);e(".sui-form-field",r).each((function(){var t=e(this),r=e("input",t);r.val().trim()||(n=!1,t.addClass("sui-form-field-error"),r.on("focus keydown",(function(){e(this).closest(".sui-form-field-error").removeClass("sui-form-field-error")})))})),n?s.addClass("sui-button-onload"):(s.removeClass("sui-button-onload"),t.preventDefault())}function r(){let e=this.scrollHeight;!e&&this.value.includes("\n")&&(e=22*(this.value.split("\n").length+1)),this.style.height="1px",this.style.height=e+"px"}e((function(){var s;e(".wds-vertical-tabs").on("wds_vertical_tabs:tab_change",(function(t,n){e(n).find(".wds-vertical-tab-section").removeClass("hidden")})),e(document).on("submit",".wds-moz-form",n).on("input propertychange",".tab_robots_editor textarea",r).on("keydown",".sui-modal",t),e(".tab_robots_editor textarea").each((function(){r.apply(this)})),window.Wds.link_dropdown(),window.Wds.accordion(),window.Wds.vertical_tabs(),window.Wds.hook_toggleables(),"tab_url_redirection"===(s=new URLSearchParams(window.location.search)).get("tab")&&s.get("add_redirect")&&e("button.wds-add-redirect").trigger("click")}))}(jQuery)}()}();